<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Michaelç¿”</title>
  
  <subtitle>å› ä¸ŠåŠªåŠ›ï¼Œæœä¸Šéšç¼˜ï¼</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://michael728.github.io/"/>
  <updated>2020-01-05T15:47:56.120Z</updated>
  <id>https://michael728.github.io/</id>
  
  <author>
    <name>Michaelç¿”</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>2020 è§„åˆ’</title>
    <link href="https://michael728.github.io/2020/01/05/plan-2020/"/>
    <id>https://michael728.github.io/2020/01/05/plan-2020/</id>
    <published>2020-01-05T22:00:00.000Z</published>
    <updated>2020-01-05T15:47:56.120Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://gitee.com/michael_xiang/images/raw/master/è§„åˆ’-plan-è®¡åˆ’.jpg" alt></p><p><a href="https://docs.python-guide.org/writing/reading/" target="_blank" rel="noopener">Reading Great Code</a> æ–‡ç« ä¸­æåˆ°äº†ï¼Œè¦æƒ³å˜æˆæ›´ä¼˜ç§€çš„ç¨‹åºå‘˜ï¼Œéœ€è¦å»é˜…è¯»ã€ç†è§£å’Œæ¬£èµä¼˜ç§€çš„ä»£ç ã€‚å¯è§ï¼Œé˜…è¯»çš„é‡è¦æ€§ã€‚</p><a id="more"></a><h2 id="å›é¡¾"><a href="#å›é¡¾" class="headerlink" title="å›é¡¾"></a>å›é¡¾</h2><p>2019 å·¥ä½œä¸Šï¼šè½¬å‹</p><p>2019 å¹´ï¼Œç”±éƒ¨é—¨å†…çš„æ„å»ºå°ç»„è¿›å…¥åˆ°äº†éƒ¨ç½²å°ç»„ï¼ŒçœŸæ˜¯ CICD å…¨æµç¨‹ä½“éªŒäº†ã€‚æŠ€æœ¯æ ˆä¹Ÿç”± Python å˜ä¸ºäº† Javaã€‚ã€è½¬å‹ã€çš„éš¾ç‚¹å…¶å®å¾€å¾€ä¸æ˜¯æŠ€æœ¯çš„å›°æ‰°ï¼Œæ›´å¤šçš„æ˜¯ä¸šåŠ¡ç±»å‹çš„å·®å¼‚ï¼Œä¸€åˆ‡éƒ½è¦ä»é›¶å¼€å§‹ï¼å¾ˆåº†å¹¸ï¼Œè‡ªå·±é€‚åº”è¿‡æ¥äº†â€¦â€¦</p><p>2019 ç”Ÿæ´»ï¼šä»Šå¹´çš„å›½åº†å’Œåª³å¦‡å„¿ä¸€èµ·å»æ—¥æœ¬å…³è¥¿åœ°åŒºç©äº†ä¸€å‘¨ã€‚å°è±¡æ·±åˆ»ï¼Œä¸è™šæ­¤è¡Œã€‚æ·±æ·±åœ°æ„Ÿè§‰åˆ°ï¼Œå›½å†…ä¸€äºŒçº¿åŸå¸‚è™½ç„¶å¯èƒ½ç¡¬ä»¶è®¾æ–½ã€åŸºå»ºä¸Šé¢å·²ç»è¿½èµ¶ä¸Šäº†å‘è¾¾å›½å®¶ï¼Œä½†æ˜¯ç´ è´¨ã€èŒä¸šç²¾ç¥ç­‰ã€çœ‹ä¸è§ã€çš„åœ°æ–¹è¿˜æœ‰å¾ˆé•¿ä¸€æ¡é“è·¯è¦èµ°ã€‚</p><p><img src="https://gitee.com/michael_xiang/images/raw/master/é“é¡¿å €-ç« é±¼å°ä¸¸å­2.jpeg" alt="å¤§é˜ª-é“é¡¿å €"></p><p><img src="https://gitee.com/michael_xiang/images/raw/master/å¤©ä¿å±±-æ‘©å¤©è½®2.jpeg" alt="å¤§é˜ª-å¤©ä¿å±±æ‘©å¤©è½®"></p><h2 id="å±•æœ›"><a href="#å±•æœ›" class="headerlink" title="å±•æœ›"></a>å±•æœ›</h2><p><img src="https://gitee.com/michael_xiang/images/raw/master/2020 è§„åˆ’.jpg" alt="2020 è§„åˆ’"></p><p>OKR çš„æ ¸å¿ƒï¼šåˆ¶å®šä¸€ä¸ªè¾ƒé•¿æœŸçš„ç›®æ ‡ï¼Œå¹¶ä¸”å°†ç›®æ ‡åˆ†è§£æˆä¸ºä¸€äº›å…³é”®çš„ç»“æœ</p><ul><li>Oï¼šObjective ç›®æ ‡</li><li>KRï¼šKey Result å…³é”®ç»“æœ</li></ul><p>å‚è€ƒï¼š</p><ul><li><a href="http://blog.devtang.com/2018/11/22/okr-introduction/" target="_blank" rel="noopener">OKR å·¥ä½œæ³•ç®€ä»‹</a></li></ul><p>PSï¼šè§„åˆ’çš„è„‘å›¾é‡‡ç”¨ <a href="https://www.processon.com/i/55ddb6bae4b04fe84c504c5f" target="_blank" rel="noopener">ProcessOn</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://gitee.com/michael_xiang/images/raw/master/è§„åˆ’-plan-è®¡åˆ’.jpg&quot; alt&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://docs.python-guide.org/writing/reading/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Reading Great Code&lt;/a&gt; æ–‡ç« ä¸­æåˆ°äº†ï¼Œè¦æƒ³å˜æˆæ›´ä¼˜ç§€çš„ç¨‹åºå‘˜ï¼Œéœ€è¦å»é˜…è¯»ã€ç†è§£å’Œæ¬£èµä¼˜ç§€çš„ä»£ç ã€‚å¯è§ï¼Œé˜…è¯»çš„é‡è¦æ€§ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="è§„åˆ’" scheme="https://michael728.github.io/categories/%E8%A7%84%E5%88%92/"/>
    
    
      <category term="æ€»ç»“" scheme="https://michael728.github.io/tags/%E6%80%BB%E7%BB%93/"/>
    
      <category term="è§„åˆ’" scheme="https://michael728.github.io/tags/%E8%A7%84%E5%88%92/"/>
    
      <category term="é˜…è¯»" scheme="https://michael728.github.io/tags/%E9%98%85%E8%AF%BB/"/>
    
  </entry>
  
  <entry>
    <title>Maven åŸºç¡€çŸ¥è¯†</title>
    <link href="https://michael728.github.io/2020/01/05/java-tools-maven/"/>
    <id>https://michael728.github.io/2020/01/05/java-tools-maven/</id>
    <published>2020-01-05T21:49:10.000Z</published>
    <updated>2020-01-05T15:47:56.120Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://gitee.com/michael_xiang/images/raw/master/dLVeb2.jpg" alt="Maven"></p><h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><p>Mavenæ˜¯Javaé¡¹ç›®æ„å»ºå·¥å…·ï¼Œå¯ä»¥ç”¨äºç®¡ç†Javaä¾èµ–ï¼Œè¿˜å¯ä»¥ç”¨äºç¼–è¯‘ã€æ‰“åŒ…ä»¥åŠå‘å¸ƒJavaé¡¹ç›®ï¼Œç±»ä¼¼äºJavaScriptç”Ÿæ€ç³»ç»Ÿä¸­çš„NPMã€‚</p><a id="more"></a><p>æ„å»ºç¯èŠ‚ï¼š<code>æ¸…ç†-ç¼–è¯‘-æµ‹è¯•-æŠ¥å‘Š-æ‰“åŒ…-éƒ¨ç½²</code></p><ul><li>æ¸…ç†ï¼šå°†ç¼–è¯‘ä»£ç å‰ç”Ÿæˆçš„å†…å®¹åˆ é™¤</li><li>ç¼–è¯‘ï¼šå°†æºä»£ç ç¼–è¯‘ä¸ºå­—èŠ‚ç </li><li>æµ‹è¯•ï¼šè¿è¡Œå•å…ƒæµ‹è¯•ç”¨ä¾‹</li><li>æŠ¥å‘Šï¼šæµ‹è¯•ç¨‹åºçš„ç»“æœ</li><li>æ‰“åŒ…ï¼šå°† java é¡¹ç›®æ‰“æˆ java åŒ…ï¼›å°† Web é¡¹ç›®è¾¾æˆ war åŒ…ï¼›</li><li>å®‰è£…ï¼šå°† jar æˆ– war ç”Ÿæˆåˆ° Maven ä»“åº“ä¸­ï¼›</li><li>éƒ¨ç½²ï¼šå°† jar æˆ– war ä» Maven ä»“åº“ä¸­éƒ¨ç½²åˆ° Web æœåŠ¡å™¨ä¸Šè¿è¡Œï¼›</li></ul><h2 id="å®‰è£…maven"><a href="#å®‰è£…maven" class="headerlink" title="å®‰è£…maven"></a>å®‰è£…maven</h2><p><a href="https://maven.apache.org/download.cgi" target="_blank" rel="noopener">å®˜æ–¹å®‰è£…åŒ…</a>ï¼Œç›´æ¥ä¸‹è½½äºŒè¿›åˆ¶åŒ…ï¼Œæˆ‘ä½¿ç”¨çš„æ˜¯ <code>apach-maven-3.6.2-bin.tar.gz</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">weget http://mirrors.tuna.tsinghua.edu.cn/apache/maven/maven-3/3.6.2/binaries/apache-maven-3.6.2-bin.tar.gz</span><br><span class="line">tar xvf apache-maven-3.6.2-bin.tar.gz -C ~/opt</span><br><span class="line">echo &quot;export PATH=$PATH:/Users/michael/opt/apache-maven-3.6.2/bin&quot; &gt;&gt; ~/.zshrc</span><br><span class="line">source ~/.zshrc</span><br></pre></td></tr></table></figure><p>åˆ°æ­¤ï¼ŒMac ç¯å¢ƒçš„ maven çš„å°±å·²ç»å®‰è£…å¥½äº†ï¼Œæ£€æµ‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn --version</span><br></pre></td></tr></table></figure><p>æ¥æº <a href="https://github.com/Michael728/my-config-files/tree/master/maven" target="_blank" rel="noopener">my-config-files/maven/</a></p><h2 id="é…ç½®ç›¸å…³"><a href="#é…ç½®ç›¸å…³" class="headerlink" title="é…ç½®ç›¸å…³"></a>é…ç½®ç›¸å…³</h2><h3 id="settings-xmlæ–‡ä»¶"><a href="#settings-xmlæ–‡ä»¶" class="headerlink" title="settings.xmlæ–‡ä»¶"></a>settings.xmlæ–‡ä»¶</h3><p>å¯ä»¥å®šä¹‰æœ¬åœ°ä»“åº“çš„å®é™…è·¯å¾„ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;localRepository&gt;/path/to/local/repo&lt;/localRepository&gt;</span><br></pre></td></tr></table></figure><p>Maven é•œåƒæºè®¾ç½®ï¼Œç¬¬ä¸€ä¸ª mirror æ‰ä¼šç”Ÿæ•ˆï¼Œå…¶ä»–çš„åªæ˜¯æ”¾è¿™å„¿ï¼ŒåæœŸå¯ä»¥å°†æŸä¸ªè°ƒæ•´è‡³ç¬¬ä¸€ä¸ªï¼Œä½¿å…¶ç”Ÿæ•ˆï¼Œæé«˜ä¸‹è½½é€Ÿåº¦å’Œç¨³å®šæ€§ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- https://blog.csdn.net/sayyy/article/details/80447757 --&gt;</span><br><span class="line">    &lt;mirror&gt;</span><br><span class="line">      &lt;!--This sends everything else to /public --&gt;</span><br><span class="line">      &lt;id&gt;nexus&lt;/id&gt;</span><br><span class="line">      &lt;mirrorOf&gt;*&lt;/mirrorOf&gt;</span><br><span class="line">      &lt;url&gt;https://maven.aliyun.com/nexus/content/groups/public/&lt;/url&gt;</span><br><span class="line">    &lt;/mirror&gt;</span><br><span class="line">    &lt;mirror&gt;</span><br><span class="line">      &lt;!--This is used to direct the public snapshots repo in the</span><br><span class="line">          profile below over to a different nexus group --&gt;</span><br><span class="line">      &lt;id&gt;nexus-public-snapshots&lt;/id&gt;</span><br><span class="line">      &lt;mirrorOf&gt;public-snapshots&lt;/mirrorOf&gt;</span><br><span class="line">      &lt;url&gt;https://maven.aliyun.com/nexus/content/repositories/snapshots/&lt;/url&gt;</span><br><span class="line">    &lt;/mirror&gt;</span><br><span class="line">&lt;!-- https://mirrors.huaweicloud.com/ --&gt;</span><br><span class="line">&lt;!-- https://bbs.huaweicloud.com/forum/forum.php?mod=viewthread&amp;tid=1779 --&gt;</span><br><span class="line">    &lt;mirror&gt;</span><br><span class="line">        &lt;id&gt;huaweicloud&lt;/id&gt;</span><br><span class="line">        &lt;mirrorOf&gt;*&lt;/mirrorOf&gt;</span><br><span class="line">        &lt;url&gt;https://mirrors.huaweicloud.com/repository/maven/&lt;/url&gt;</span><br><span class="line">    &lt;/mirror&gt;</span><br></pre></td></tr></table></figure><p>æ³¨ï¼š<code>&lt; mirrorOf&gt;</code>å¯ä»¥è®¾ç½®ä¸ºå“ªä¸ªä¸­å¤®ä»“åº“åšé•œåƒï¼Œä¸ºåä¸ºâ€œcentralâ€çš„ä¸­å¤®ä»“åº“åšé•œåƒï¼Œå†™ä½œ<code>&lt; mirrorOf&gt;central&lt; /mirrorOf&gt;</code>;ä¸ºæ‰€æœ‰ä¸­å¤®ä»“åº“åšé•œåƒï¼Œå†™ä½œ<code>&lt; mirrorOf&gt;*&lt; /mirrorOf&gt;</code>ã€‚Mavené»˜è®¤ä¸­å¤®ä»“åº“çš„id ä¸º centralã€‚idæ˜¯å”¯ä¸€çš„ã€‚ </p><p>é‡è¦ï¼šé™¤éä½ æœ‰æŠŠæ¡ï¼Œå¦åˆ™ä¸å»ºè®®ä½¿ç”¨<code>&lt; mirrorOf&gt;*&lt; /mirrorOf&gt;</code>çš„æ–¹å¼ã€‚</p><p><img src="https://ws4.sinaimg.cn/large/006tNbRwly1fyq48ytbe9j30r8085t9z.jpg" alt></p><p><img src="https://ws4.sinaimg.cn/large/006tNbRwly1fyq49ym1mqj30ls08zdhe.jpg" alt></p><p>å‚è€ƒï¼š</p><ul><li><a href="https://zhuanlan.zhihu.com/p/28133184" target="_blank" rel="noopener">IntellJ IDEAé…ç½®Mavenä»¥åŠä¿®æ”¹é»˜è®¤Repository</a></li></ul><h3 id="pom-xml"><a href="#pom-xml" class="headerlink" title="pom.xml"></a>pom.xml</h3><p><code>pom.xml</code>ä¸­ï¼Œ<code>&lt;project&gt;&lt;/project&gt;</code>ä¸ºæœ€å¤–å±‚çš„æ ‡ç­¾ï¼›</p><p><code>&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;</code>å®šä¹‰äº†æ‰€ä½¿ç”¨çš„POMç‰ˆæœ¬ã€‚è¿™2ä¸ªæ ‡ç­¾åŸºæœ¬ä¸Šæ˜¯ä¸å˜çš„ã€‚</p><p><code>groupId</code>ã€<code>artifactId</code> ä¸ <code>version</code> ä¸€èµ·åˆ™å®šä¹‰äº†æ¨¡å—çš„åæ ‡( <code>Coordinates</code> )ï¼Œæ¯ä¸ªå…¬å…±æ¨¡å—çš„åæ ‡åº”è¯¥æ˜¯å”¯ä¸€çš„ï¼š</p><ul><li><code>groupId</code>ï¼šç»„ç»‡åç§°ï¼Œé€šå¸¸æ˜¯æŠŠåŸŸååè¿‡æ¥ï¼Œä¾‹å¦‚ <code>com.fundebug</code></li><li><code>artifactId</code>ï¼šæ¨¡å—åç§°ï¼Œæ¯”å¦‚ä¸€ä¸ªå¾®æœåŠ¡çš„é¡¹ç›®åç§°ï¼Œä¾‹å¦‚ <code>fundebug-java</code></li><li><code>version</code>ï¼šæ¨¡å—ç‰ˆæœ¬ï¼Œä¾‹å¦‚ <code>0.2.0</code><ul><li>é€šå¸¸é¡¹ç›®ç‰ˆæœ¬å·åˆ†ä¸º 3 æ®µï¼Œ<code>ä¸»ç‰ˆæœ¬å·.æ¬¡ç‰ˆæœ¬å·.ä¿®è®¢ç‰ˆæœ¬å·</code></li><li><code>SNAPSHORT</code> è¡¨ç¤ºå¼€å‘ä¸­çš„ç‰ˆæœ¬ï¼›</li><li><code>RELEASE</code> è¡¨ç¤ºä¸€ä¸ªæ­£å¼å‘å¸ƒç‰ˆæœ¬ï¼Œä¹Ÿå¯èƒ½æ²¡æœ‰ä»»ä½•åç¼€ä¹Ÿè¡¨ç¤ºæ­£å¼ç‰ˆ</li><li><code>M1 M2 ...</code>  M è¡¨ç¤ºé‡Œç¨‹ç¢‘ï¼Œå³å°†å‘å¸ƒï¼›</li><li><code>RC( Release Candicate)</code> å‘å¸ƒå€™é€‰</li><li><code>GA(General availability)</code> åŸºæœ¬å¯ç”¨ç‰ˆæœ¬</li><li><code>SNAPSHORT&lt;M1&lt;M2&lt;...&lt;RC&lt;GA&lt;RELEASE</code></li></ul></li></ul><p><a href="thttps://start.spring.io/" target="_blank" rel="noopener">SpringBoot Star</a> ä¸­å¯ä»¥çœ‹åˆ°ç‰ˆæœ¬çš„ä¸€ä¸ªç¤ºä¾‹ï¼š</p><p><img src="https://ws3.sinaimg.cn/large/006tNc79gy1g1rwybm9ijj30p40a1aaw.jpg" alt></p><p><code>&lt;dependencies&gt;&lt;/dependencies&gt;</code>å®šä¹‰äº†å½“å‰é¡¹ç›®æ‰€ä¾èµ–çš„æ¨¡å—ã€‚Maven å¯ä»¥æ ¹æ® <code>&lt;dependency&gt;&lt;/dependency&gt;</code> ä¸­å®šä¹‰çš„åæ ‡ï¼Œè‡ªåŠ¨ä¸‹è½½æ‰€ä¾èµ–çš„æ¨¡å—ã€‚åœ¨ MacBook ä¸Šï¼ŒMaven å°†ä¸‹è½½çš„æ¨¡å—ç¼“å­˜åœ¨ <code>$HOME/.m2/</code> ç›®å½•ã€‚</p><p>å‚è€ƒï¼š</p><ul><li><a href="https://blog.fundebug.com/2019/01/07/maven-tutorial/" target="_blank" rel="noopener">fundebug-Mavenå…¥é—¨æ•™ç¨‹</a> æ¨è</li></ul><h2 id="Maven-å¸¸ç”¨å‘½ä»¤"><a href="#Maven-å¸¸ç”¨å‘½ä»¤" class="headerlink" title="Maven å¸¸ç”¨å‘½ä»¤"></a>Maven å¸¸ç”¨å‘½ä»¤</h2><ul><li><code>mvn compile</code> ç¼–è¯‘ Maven å·¥ç¨‹ï¼Œç”Ÿæˆä¸€äº› <code>class</code> æ–‡ä»¶å’Œé…ç½®æ–‡ä»¶ï¼›</li><li><code>mvn package</code> ç¼–è¯‘å¹¶æ‰“åŒ…ï¼Œæ ¹æ® <code>pom.xml</code> ä¸­å…ƒç´  <code>packaging</code> æ˜¯ <code>jar</code> è¿˜æ˜¯ <code>war</code> è¿›è¡Œæ‰“åŒ…ã€‚</li><li><code>mvn install</code> æ‰“åŒ…å¹¶å®‰è£…åˆ°æœ¬åœ°ä»“åº“ã€‚æ¯”å¦‚ <code>env-service</code> æœåŠ¡å¯ä»¥å®‰è£…åˆ°æœ¬åœ°ï¼Œ<code>deploy-service</code> æœåŠ¡å¯ä»¥é€šè¿‡é¡¹ç›®åœ¨æœ¬åœ°å¼•ç”¨åˆ°ï¼›</li><li><code>mvn deploy</code> åŒ <code>install</code>ï¼Œä½†æ‰“åŒ…å¹¶å®‰è£…åˆ°è¿œç¨‹ä»“åº“ï¼›</li><li><code>mvn clean</code> åˆ é™¤ target ç›®å½•ï¼›</li></ul><p>æœ€è¿‘é¡¹ç›®ä¸­ç”¨æ¥æ‰“åŒ…ç”Ÿæˆ <code>jar</code> åŒ…çš„å‘½ä»¤ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn clean package</span><br></pre></td></tr></table></figure><p>ä¼šåœ¨åŒç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ª <code>target</code> ç›®å½•ï¼Œ<code>jar</code> åŒ…å°±åœ¨è¯¥å­ç›®å½•ä¸‹ï¼›</p><p>åŒæ—¶ï¼Œå¦å¤–ä¸€ä¸ªé¡¹ç›®æ˜¯ gradle å†™çš„ï¼Œç±»ä¼¼å‘½ä»¤ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gradle -x test build</span><br></pre></td></tr></table></figure><p>è·³è¿‡æµ‹è¯•é˜¶æ®µï¼Œç”Ÿæˆçš„ jar åŒ…åœ¨ build çš„å­ç›®å½•ä¸­ï¼›</p><ul><li><a href="https://www.journaldev.com/8396/gradle-vs-maven" target="_blank" rel="noopener">Gradle vs Maven</a> æ¨è</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://gitee.com/michael_xiang/images/raw/master/dLVeb2.jpg&quot; alt=&quot;Maven&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;ç®€ä»‹&quot;&gt;&lt;a href=&quot;#ç®€ä»‹&quot; class=&quot;headerlink&quot; title=&quot;ç®€ä»‹&quot;&gt;&lt;/a&gt;ç®€ä»‹&lt;/h2&gt;&lt;p&gt;Mavenæ˜¯Javaé¡¹ç›®æ„å»ºå·¥å…·ï¼Œå¯ä»¥ç”¨äºç®¡ç†Javaä¾èµ–ï¼Œè¿˜å¯ä»¥ç”¨äºç¼–è¯‘ã€æ‰“åŒ…ä»¥åŠå‘å¸ƒJavaé¡¹ç›®ï¼Œç±»ä¼¼äºJavaScriptç”Ÿæ€ç³»ç»Ÿä¸­çš„NPMã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="Java" scheme="https://michael728.github.io/categories/Java/"/>
    
    
      <category term="Java" scheme="https://michael728.github.io/tags/Java/"/>
    
      <category term="Maven" scheme="https://michael728.github.io/tags/Maven/"/>
    
  </entry>
  
  <entry>
    <title>ç”¨è‹±è¯­åš Presentation çš„å¸¸ç”¨è¯æ±‡å’Œå¥å‹</title>
    <link href="https://michael728.github.io/2019/11/24/english-presentation-words/"/>
    <id>https://michael728.github.io/2019/11/24/english-presentation-words/</id>
    <published>2019-11-24T23:30:05.000Z</published>
    <updated>2020-01-05T15:47:56.116Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å¼€åœº"><a href="#å¼€åœº" class="headerlink" title="å¼€åœº"></a>å¼€åœº</h2><ul><li><code>hello everyone I&#39;m zhangxiang and I&#39;m very happy to be here</code></li><li><code>It&#39;s an honor to have the opportunity to address such a distinguished audience.</code></li><li><code>Good morning, eyeryone. I appreciate the opportunity to present of making this presentation</code></li><li><code>I&#39;m very glad to have a chance here to make a speech on the subject---Health</code></li></ul><h2 id="å¼•å‡ºä¸»é¢˜"><a href="#å¼•å‡ºä¸»é¢˜" class="headerlink" title="å¼•å‡ºä¸»é¢˜"></a>å¼•å‡ºä¸»é¢˜</h2><ul><li><code>The subject of my presentation is â€¦â€¦</code></li><li><code>I shall be speaking today about â€¦â€¦</code></li><li><code>My presentaion conserns â€¦â€¦</code></li></ul><h2 id="å‘è¨€è¯´æ˜"><a href="#å‘è¨€è¯´æ˜" class="headerlink" title="å‘è¨€è¯´æ˜"></a>å‘è¨€è¯´æ˜</h2><ul><li><code>My presentation will last for about ten minutes...</code></li><li><code>I know that time is short, so I intend to keep this brief.</code></li><li><code>Please feel free to interrupt me if you have questions.</code></li><li><code>There will be time for questions at the end of the presentation.</code></li></ul><h2 id="æ¦‚è¦"><a href="#æ¦‚è¦" class="headerlink" title="æ¦‚è¦"></a>æ¦‚è¦</h2><ul><li><code>My presentation is divided into three main sections.</code></li><li><code>My presentation is in three parts.</code></li><li><code>Firstly, secondly, thirdly, finallyâ€¦</code></li></ul><h2 id="ä¸»ä½“éƒ¨åˆ†"><a href="#ä¸»ä½“éƒ¨åˆ†" class="headerlink" title="ä¸»ä½“éƒ¨åˆ†"></a>ä¸»ä½“éƒ¨åˆ†</h2><ul><li><code>As I said at the beginningâ€¦</code></li></ul><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><ul><li><code>in summary</code></li><li><code>in conclusion, I&#39;d like toâ€¦</code></li><li><code>To summarise, Iâ€¦</code></li><li><code>I hope you have found this useful</code></li><li><code>That brings me to the end of my presentation. I&#39;ve talked aboutâ€¦</code></li></ul><h2 id="è§‚ä¼—æé—®"><a href="#è§‚ä¼—æé—®" class="headerlink" title="è§‚ä¼—æé—®"></a>è§‚ä¼—æé—®</h2><p>é‡è¿°ä¸€ä¸‹é—®é¢˜æ˜¯ä¸ªèªæ˜çš„åŠæ³•ï¼Œå¯ä»¥ç¡®è®¤ä½ æ˜¯å¦ç†è§£äº†é—®é¢˜ï¼ŒåŒæ—¶ï¼Œç»™è‡ªå·±ä¸€äº›æ—¶é—´æ¥æ€è€ƒ</p><ul><li><code>That&#39;s an interesting question. How are we going to get voluntary redundancy?</code> </li><li><code>Thank you. So you would like further clarification on our strategy?</code></li></ul><p>å›ç­”å®Œæ¯•åï¼Œç¡®è®¤æé—®è€…æ˜¯å¦æ»¡æ„ã€‚</p><ul><li><code>Does this answer your question?</code></li><li><code>I hope this explains the situation for you.</code></li></ul><p>å¦‚æœä½ ä¸çŸ¥é“å¦‚ä½•ä½œç­”ï¼Œå°±è¯´ä¸çŸ¥é“ã€‚æ‰¿è®¤æ— çŸ¥æ€»æ¯”å¦„è‡ªçŒœæµ‹è¦å¥½</p><ul><li><code>I&#39;m afraid I&#39;m unable to answer that at the moment. Perhaps I can get back to you later.</code></li><li><code>That&#39;s a very good question. However, we don&#39;t have any figures on that, so I can&#39;t give you an accurate answer.</code></li><li><code>Unfortunately, I&#39;m not the best person to answer that.</code></li></ul><h2 id="å„ç§çŠ¶å†µ"><a href="#å„ç§çŠ¶å†µ" class="headerlink" title="å„ç§çŠ¶å†µ"></a>å„ç§çŠ¶å†µ</h2><p>è§‚ä¼—æ²¡å¬æ‡‚ï¼Ÿ</p><ul><li><code>Let me just say that in another way.</code></li><li><code>Put it another way, this meansâ€¦</code></li></ul><h2 id="è¿‡æ¸¡è¯-transitions"><a href="#è¿‡æ¸¡è¯-transitions" class="headerlink" title="è¿‡æ¸¡è¯ transitions"></a>è¿‡æ¸¡è¯ transitions</h2><h3 id="è¡¨é€’è¿›"><a href="#è¡¨é€’è¿›" class="headerlink" title="è¡¨é€’è¿›"></a>è¡¨é€’è¿›</h3><ul><li><code>moreover</code></li><li><code>besides</code></li><li><code>furthermore</code></li><li><code>what is more</code></li><li><code>in addition</code></li><li><code>in other words</code></li></ul><p>ç¡®ä¿è§‚ä¼—è·Ÿä¸Šä½ çš„æ€è·¯ï¼Œè½¬åˆ°ä¸‹ä¸€ä¸ªè¯é¢˜ï¼š</p><ul><li><code>The next topic/point I&#39;d like to talk about is how to â€¦â€¦</code></li><li><code>now we are going to talk about this point</code></li><li><code>OK/Right, I&#39;d now like to move on toâ€¦</code></li><li><code>I&#39;d like to turn toâ€¦</code> æˆ‘è¦è½¬ç§»åˆ°</li></ul><h3 id="è¡¨é¡ºåº"><a href="#è¡¨é¡ºåº" class="headerlink" title="è¡¨é¡ºåº"></a>è¡¨é¡ºåº</h3><ul><li><code>first, second, third</code></li><li><code>then/next</code></li><li><code>finally</code></li><li><code>to begin with</code></li><li><p><code>first of all</code></p><h3 id="è¡¨å¯èƒ½"><a href="#è¡¨å¯èƒ½" class="headerlink" title="è¡¨å¯èƒ½"></a>è¡¨å¯èƒ½</h3></li><li><p><code>probably</code></p></li><li><code>perhaps</code></li></ul><h3 id="å±•ç¤ºä¾‹å­"><a href="#å±•ç¤ºä¾‹å­" class="headerlink" title="å±•ç¤ºä¾‹å­"></a>å±•ç¤ºä¾‹å­</h3><ul><li><code>I&#39;ve prepared a demonstration to show how this work</code></li><li><code>Let&#39;s see a demonstration which applies waht we&#39;ve learned</code></li><li><code>As you can seeâ€¦</code></li><li><code>This clearly shows â€¦</code></li></ul><h3 id="è¿”å›ä¹‹å‰çš„è§‚ç‚¹"><a href="#è¿”å›ä¹‹å‰çš„è§‚ç‚¹" class="headerlink" title="è¿”å›ä¹‹å‰çš„è§‚ç‚¹"></a>è¿”å›ä¹‹å‰çš„è§‚ç‚¹</h3><ul><li><code>Let&#39;s return</code></li><li><code>Let&#39;s go back to ...</code></li></ul><h3 id="è¡¨æ¯”è¾ƒ-ç›¸ä¼¼"><a href="#è¡¨æ¯”è¾ƒ-ç›¸ä¼¼" class="headerlink" title="è¡¨æ¯”è¾ƒ ç›¸ä¼¼"></a>è¡¨æ¯”è¾ƒ ç›¸ä¼¼</h3><ul><li><code>similarly</code></li><li><code>likewise</code></li><li><code>in the same way</code></li></ul><h3 id="è¡¨è½¬æŠ˜"><a href="#è¡¨è½¬æŠ˜" class="headerlink" title="è¡¨è½¬æŠ˜"></a>è¡¨è½¬æŠ˜</h3><ul><li><code>however</code></li><li><code>on the other side</code></li><li><code>on the other hand</code></li><li><code>on the contrary</code></li></ul><h3 id="å› æœå…³ç³»"><a href="#å› æœå…³ç³»" class="headerlink" title="å› æœå…³ç³»"></a>å› æœå…³ç³»</h3><ul><li><code>therefore</code></li><li><code>as a result</code></li><li><code>consequently</code></li><li><code>for that reason</code></li></ul><h3 id="è¡¨ä¸¾ä¾‹"><a href="#è¡¨ä¸¾ä¾‹" class="headerlink" title="è¡¨ä¸¾ä¾‹"></a>è¡¨ä¸¾ä¾‹</h3><ul><li><code>in a word</code></li></ul><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a href="https://language.chinadaily.com.cn/2016-04/11/content_24431931.htm" target="_blank" rel="noopener">Presentationå®ç”¨è¡¨è¾¾æ€»ç»“</a></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;å¼€åœº&quot;&gt;&lt;a href=&quot;#å¼€åœº&quot; class=&quot;headerlink&quot; title=&quot;å¼€åœº&quot;&gt;&lt;/a&gt;å¼€åœº&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;hello everyone I&amp;#39;m zhangxiang and I&amp;#39;m very happy t
      
    
    </summary>
    
      <category term="Soft Skills" scheme="https://michael728.github.io/categories/Soft-Skills/"/>
    
    
      <category term="English" scheme="https://michael728.github.io/tags/English/"/>
    
  </entry>
  
  <entry>
    <title>Mac å…è´¹æ”¯æŒ Windows å¯ç”¨çš„ç§»åŠ¨ç¡¬ç›˜/Uç›˜</title>
    <link href="https://michael728.github.io/2019/11/17/tools-mac-support-ntfs/"/>
    <id>https://michael728.github.io/2019/11/17/tools-mac-support-ntfs/</id>
    <published>2019-11-17T21:36:50.000Z</published>
    <updated>2020-01-05T15:47:56.124Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://gitee.com/michael_xiang/images/raw/master/dj-4595492_640.jpg" alt></p><blockquote class="blockquote-center"><p><a href="https://pixabay.com/photos/dj-music-turntable-jockey-volume-4595492/" target="_blank" rel="noopener">å›¾ç‰‡é“¾æ¥</a></p></blockquote><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>Windows ä¸Šçš„ç£ç›˜æ ¼å¼ï¼Œé»˜è®¤ä¸€èˆ¬éƒ½æ˜¯ NTFS æ ¼å¼ã€‚Mac èƒ½å¤Ÿç›´æ¥ä» NTFS æ ¼å¼çš„ç£ç›˜æ‹·è´æ–‡ä»¶ï¼Œä½†æ˜¯ä¸æ”¯æŒç›´æ¥ä» Mac ä¸Šæ‹·è´æ–‡ä»¶åˆ° NTFS ç£ç›˜ã€‚</p><a id="more"></a><div class="note success no-icon">            <p>æœ€æ—©åœ¨ OSX 10.5çš„æ—¶å€™ï¼ŒOSX å…¶å®åŸç”Ÿå°±æ”¯æŒç›´æ¥å†™å…¥ NTFS çš„ç›˜çš„ï¼Œåæ¥ç”±äºå¾®è½¯çš„é™åˆ¶ï¼ŒæŠŠè¿™ä¸ªåŠŸèƒ½ç»™å±è”½äº†ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å‘½ä»¤è¡Œæ‰‹åŠ¨æ‰“å¼€è¿™ä¸ªé€‰é¡¹ã€‚</p>          </div><p>è¿™æ—¶å€™ä¸€èˆ¬ä¸Šç½‘æŸ¥åˆ°çš„éƒ½æ˜¯æ¨èå»è´­ä¹°è½¯ä»¶.</p><ul><li><code>Paragon NTFS for Mac(Â¥139)</code></li><li><code>Tuxera NTFS for Mac(Â¥99)</code></li><li>å¼€æºå…è´¹çš„ <a href="https://mounty.app/" target="_blank" rel="noopener">mounty</a>-<code>brew cask install mounty</code>ï¼Œä½†æ˜¯é€™å€‹å…è²»çš„å¥½åƒæ›´æ–°ä¸é »ç¹äº†ï¼Œæœ€è¿‘ä¸€æ¬¡è¿˜æ˜¯ 2018å¹´9æœˆä»½ï¼Œç°åœ¨éƒ½æ˜¯2019å¹´11æœˆä»½äº†ï¼Œæœ€æ–°çš„ç³»çµ±æµ‹è¯•ä¸OKã€‚</li></ul><p>å¶ç„¶å‘ç°æœ‰åŠæ³•å¯ä»¥é€šè¿‡è®¾ç½®ï¼Œè®© Mac å…è´¹æ”¯æŒ NTFSï¼Œåœ¨æœ€æ–°çš„ç³»ç»Ÿ <code>macOS Catalina(10.15.1)</code>  æµ‹è¯• OK ğŸ¤¡ </p><p>è¿™æ—¶å€™æœ‰ä¸¤ä¸ªåœºæ™¯ï¼š</p><p>1.ä½ çš„ç§»åŠ¨ç¡¬ç›˜æˆ–è€…Uç›˜å¯ä»¥æ ¼å¼åŒ–ä½ <code>ExFAT</code> æ ¼å¼ï¼Œå› ä¸º Windows å’Œ Mac éƒ½æ”¯æŒè¿™ç§æ ¼å¼ã€‚</p><p><img src="https://gitee.com/michael_xiang/images/raw/master/0VXNij.png" alt></p><p>2.ç§»åŠ¨ç¡¬ç›˜æˆ–è€…Uç›˜ä¸Šçš„å†…å®¹æ¯”è¾ƒå¤šï¼Œä¸æ–¹ä¾¿è½¬ç§»åï¼Œè¿›è¡Œæ ¼å¼åŒ–ï¼Œè¿™æ—¶å€™ï¼Œå°±éœ€è¦é€šè¿‡å¦‚ä¸‹çš„æ–¹æ³•è¿›è¡Œè®¾ç½®äº†ã€‚</p><h2 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h2><p>1.æŸ¥çœ‹ç£ç›˜çš„ Volume Name</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">diskutil list</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/michael_xiang/images/raw/master/xEKXmB.png" alt></p><p>å¯ä»¥çœ‹åˆ°çš„è¿™ä¸ªç£ç›˜åå«åš <code>Seagateç¿”</code>ã€‚</p><div class="note warning no-icon">            <p>å¦‚æœ Volume Name æœ‰ç©ºæ ¼ï¼Œç”¨ <code>\040</code> è¡¨ç¤ºç©ºæ ¼ã€‚</p>          </div><p>2.æ›´æ–° <code>/etc/fstab</code> æ–‡ä»¶</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vi /etc/fstab</span><br></pre></td></tr></table></figure><p>æ·»åŠ ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">LABEL=Seagateç¿” none ntfs rw,auto,nobrowse</span><br></pre></td></tr></table></figure><ul><li><code>rw</code> è¡¨ç¤ºæŠŠè¿™ä¸ªåˆ†åŒºæŒ‚è½½ä¸ºå¯è¯»å†™çš„ ntfs æ ¼å¼</li><li><code>nobrowse</code> è¿™ä¸ªä»£è¡¨äº†åœ¨ finder é‡Œä¸æ˜¾ç¤ºè¿™ä¸ªåˆ†åŒºï¼Œè¿™ä¸ªé€‰é¡¹éå¸¸é‡è¦ï¼Œå¦‚æœä¸æ‰“å¼€çš„è¯æŒ‚è½½æ˜¯ä¸ä¼šæˆåŠŸçš„</li></ul><p>3.å°†ç§»åŠ¨ç¡¬ç›˜/USBæ‹”å‡ºé‡æ’ï¼Œç„¶ååœ¨ Finder-&gt;å‰å¾€-&gt;å‰å¾€æ–‡ä»¶å¤¹ï¼Œè¾“å…¥ï¼š<code>/Volumes</code>ï¼Œè¿™æ—¶å€™å¯ä»¥çœ‹åˆ°æˆ‘çš„ç§»åŠ¨ç¡¬ç›˜ï¼Œæ‹–åŠ¨å®ƒè‡³Finderçš„è¾¹æ ã€ä¸ªäººæ”¶è—ã€ï¼Œåé¢å°±å¯ä»¥æ–¹ä¾¿æ‰“å¼€å’Œæ¨å‡ºã€‚</p><p><img src="https://gitee.com/michael_xiang/images/raw/master/rXEzLY.png" alt></p><p>4.å°†ç£ç›˜å¿«æ·æ–¹å¼æ·»åŠ åˆ°æ¡Œé¢ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ln -s /Volumes/Seagateç¿” ~/Desktop/Seagateç¿”</span><br></pre></td></tr></table></figure><h2 id="ç¼ºç‚¹"><a href="#ç¼ºç‚¹" class="headerlink" title="ç¼ºç‚¹"></a>ç¼ºç‚¹</h2><p>å¦‚æœåé¢æœ‰å…¶ä»–ä¾¿æºç¡¬ç›˜è®¾ç½®ä½¿ç”¨ï¼Œéœ€è¦æŒ‰ç…§ä¸Šé¢æ­¥éª¤å†æ“ä½œé€‚é…ä¸€ä¸‹ã€‚å› æ­¤ï¼Œæœ¬æ–‡éœ€è¦æ”¶è—å¥½ï¼Œä»¥åè¿˜è¦æŸ¥é˜…å‚è€ƒã€‚</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a href="https://blog.csdn.net/linhai1028/article/details/79418924" target="_blank" rel="noopener">CSDNâ€”â€”Mac OSX æ‰“å¼€åŸç”Ÿè‡ªå¸¦è¯»å†™NTFSåŠŸèƒ½</a></li><li><a href="https://chad-it.github.io/2018/06/25/Mac%E5%BC%80%E5%90%AF%E5%8E%9F%E7%94%9FNTFS%E8%AF%BB%E5%86%99%E5%8A%9F%E8%83%BD/" target="_blank" rel="noopener">chadâ€”â€”Macå¼€å¯åŸç”ŸNTFSè¯»å†™åŠŸèƒ½</a></li></ul><h2 id="æœ€å"><a href="#æœ€å" class="headerlink" title="æœ€å"></a>æœ€å</h2><ul><li>æœ¬æ–‡åœ°å€ <a href="https://michael728.github.io/2019/11/14/tools-mac-support-ntfs/">Mac å…è´¹æ”¯æŒ Windows å¯ç”¨çš„ç§»åŠ¨ç¡¬ç›˜/Uç›˜</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://gitee.com/michael_xiang/images/raw/master/dj-4595492_640.jpg&quot; alt&gt;&lt;/p&gt;
&lt;blockquote class=&quot;blockquote-center&quot;&gt;&lt;p&gt;&lt;a href=&quot;https://pixabay.com/photos/dj-music-turntable-jockey-volume-4595492/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;å›¾ç‰‡é“¾æ¥&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;Windows ä¸Šçš„ç£ç›˜æ ¼å¼ï¼Œé»˜è®¤ä¸€èˆ¬éƒ½æ˜¯ NTFS æ ¼å¼ã€‚Mac èƒ½å¤Ÿç›´æ¥ä» NTFS æ ¼å¼çš„ç£ç›˜æ‹·è´æ–‡ä»¶ï¼Œä½†æ˜¯ä¸æ”¯æŒç›´æ¥ä» Mac ä¸Šæ‹·è´æ–‡ä»¶åˆ° NTFS ç£ç›˜ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="ToolsDaily" scheme="https://michael728.github.io/categories/ToolsDaily/"/>
    
    
      <category term="Tools" scheme="https://michael728.github.io/tags/Tools/"/>
    
      <category term="Mac" scheme="https://michael728.github.io/tags/Mac/"/>
    
      <category term="NTFS" scheme="https://michael728.github.io/tags/NTFS/"/>
    
  </entry>
  
  <entry>
    <title>neovim å®‰è£…åŠæ’é”®é…ç½®</title>
    <link href="https://michael728.github.io/2019/11/17/tools-vim-plugin-neovim-plug/"/>
    <id>https://michael728.github.io/2019/11/17/tools-vim-plugin-neovim-plug/</id>
    <published>2019-11-17T16:56:31.000Z</published>
    <updated>2020-01-05T15:47:56.124Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://gitee.com/michael_xiang/images/raw/master/v2-e5494a3e5fcf280a2be79e929b193293_1200x500.jpg" alt="neovim"></p><p>Vim å­¦ä¹ ç³»åˆ—ï¼š</p><ul><li><a href="https://michael728.github.io/2018/12/02/tools-vim-basic/">Vim åŸºç¡€</a></li><li><a href="https://michael728.github.io/2018/12/02/tools-vim-plugin-config/">Vim æ’ä»¶åŠé…ç½®</a></li><li><a href="https://michael728.github.io/2019/11/17/tools-vim-plugin-neovim-plug/">neovim å®‰è£…åŠæ’é”®é…ç½®</a></li></ul><a id="more"></a><h2 id="å®‰è£…-NeoVim"><a href="#å®‰è£…-NeoVim" class="headerlink" title="å®‰è£… NeoVim"></a>å®‰è£… NeoVim</h2><p>Vim ä¸»è¦å¼€å‘ç›®å‰å°±ä¸€ä¸ªäººï¼Œå¼€å‘æ•ˆç‡ä½ï¼Œå¹´ä¹…å¤±ä¿®ã€‚ä¸ºäº†è®© Vim æœ‰ä¸€ä¸ªå¿«é€Ÿçš„è¿­ä»£é€Ÿåº¦ï¼Œneovim åº”è¿è€Œç”Ÿã€‚</p><p><a href="https://github.com/neovim/neovim/wiki/Installing-Neovim" target="_blank" rel="noopener">å®‰è£…</a>ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install neovim</span><br></pre></td></tr></table></figure><p>neovim çš„å®˜æ–¹é…ç½®æ–‡ä»¶åœ¨ <code>/Users/michael/.config/nvim/init.vim</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># edit ~/.zshrc</span><br><span class="line">alias vim=&apos;nvim&apos;</span><br><span class="line">alias vi=&apos;nvim&apos;</span><br></pre></td></tr></table></figure><p>æ£€æŸ¥ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvim +checkhealth</span><br></pre></td></tr></table></figure></p><p>æ”¯æŒ Python è¯­è¨€ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install neovim --upgrade</span><br></pre></td></tr></table></figure><h2 id="æ’é”®-vim-plug"><a href="#æ’é”®-vim-plug" class="headerlink" title="æ’é”® vim-plug"></a><a href="https://github.com/junegunn/vim-plug" target="_blank" rel="noopener">æ’é”® vim-plug</a></h2><h3 id="å®‰è£…-vim-plug"><a href="#å®‰è£…-vim-plug" class="headerlink" title="å®‰è£… vim-plug"></a>å®‰è£… vim-plug</h3><p>æ’é”®æ²¡ä½¿ç”¨ Vundleï¼Œè€Œæ˜¯é‡‡ç”¨ vim-plug</p><ul><li>Vundleæ˜¯ä¹‹å‰Vimæ’ä»¶ç®¡ç†æ¯”è¾ƒæµè¡Œçš„å·¥å…·ã€‚è½¬å‘ä½¿ç”¨Vim-Plugï¼Œæœ€å¤§çš„åŸå› è¿˜åœ¨äºç›¸æ¯”Vundleï¼Œæ‰€æœ‰çš„æ’ä»¶æ›´æ–°å’Œå®‰è£…éƒ½æ˜¯å¹¶è¡Œçš„ï¼Œè¿™æ ·æ¯”Vundleæ•ˆç‡æå‡äº†ä¸æ˜¯ä¸€ç‚¹åŠç‚¹ã€‚</li><li>æ­¤å¤–ï¼Œæœ€ä»¤äººå¿ƒåŠ¨çš„ï¼Œæ˜¯Vim-Plugçš„æ€æ‰‹çº§ç‰¹æ€§ï¼šæŒ‰éœ€åŠ è½½æ§ä»¶ï¼Œå¯ä»¥è®©ä½ æ ¹æ®ä¸åŒçš„éœ€æ±‚ï¼Œå†³å®šæŸäº›æ’ä»¶åœ¨ä»€ä¹ˆæ—¶æœºå¼€å§‹åŠ è½½ï¼Œä»è€Œå¤§å¤§æå‡Vim/NeoVimçš„å¯åŠ¨é€Ÿåº¦ã€‚</li></ul><p><a href="https://github.com/junegunn/vim-plug" target="_blank" rel="noopener">å®‰è£… vim-plug çš„è„šæœ¬</a>ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">curl -fLo ~/.vim/autoload/plug.vim --create-dirs \</span><br><span class="line">    https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim</span><br></pre></td></tr></table></figure><h3 id="é…ç½®-vim-plug"><a href="#é…ç½®-vim-plug" class="headerlink" title="é…ç½® vim-plug"></a>é…ç½® vim-plug</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># å°†å·²æœ‰çš„ Vim é…ç½®ï¼Œç”¨äº nvim</span><br><span class="line"># .vim æ–‡ä»¶å¤¹ä¼šå­˜æ”¾æ’é”®ç›¸å…³å†…å®¹ï¼Œæ¯”å¦‚ vim-plug çš„å†…å®¹</span><br><span class="line">ln -s ~/.vim ~/.config/nvim</span><br><span class="line">ln -s ~/.vimrc ~/.config/nvim/init.vim</span><br></pre></td></tr></table></figure><p>å¸¸ç”¨å‘½ä»¤ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># å®‰è£…æ’é”®</span><br><span class="line">:PlugInstall</span><br><span class="line"># æ£€æŸ¥çŠ¶æ€</span><br><span class="line">:PlugStatus</span><br><span class="line"># åˆ é™¤æ’é”®ï¼ˆéœ€è¦å…ˆå°† ~/.config/nvim/init.vim ä¸­æ³¨é‡Šæ‰ç›¸å…³æ’é”®ï¼‰</span><br><span class="line">:PlugClean</span><br><span class="line"># æ›´æ–°æ’é”®</span><br><span class="line">: PlugUpdate</span><br><span class="line"># å‡çº§ vim-plug</span><br><span class="line">:PlugUpgrade</span><br></pre></td></tr></table></figure></p><p>å°†éœ€è¦å®‰è£…çš„æ’é”®å†™å…¥ <code>~/.vimrc</code> çš„å¦‚ä¸‹å‘½ä»¤ä¹‹é—´ï¼Œç„¶åæ‰§è¡Œ <code>:PlugInstall</code>ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">call plug#begin()</span><br><span class="line"># è¿™é‡Œå†™ä¸Šéœ€è¦å®‰è£…çš„æ’é”®</span><br><span class="line">Plug &apos;tpope/vim-sensible&apos;</span><br><span class="line">call plug#end()</span><br></pre></td></tr></table></figure></p><h2 id="å¸¸ç”¨æ’é”®"><a href="#å¸¸ç”¨æ’é”®" class="headerlink" title="å¸¸ç”¨æ’é”®"></a>å¸¸ç”¨æ’é”®</h2><ul><li><a href="https://github.com/vim-airline/vim-airline" target="_blank" rel="noopener">vim-airline/vim-airline</a> çŠ¶æ€æ æ’ä»¶ vim-airine</li><li><a href="https://github.com/vim-airline/vim-airline-themes" target="_blank" rel="noopener">vim-airline/vim-airline-themes</a> çŠ¶æ€æ¥ä¸»é¢˜ï¼Œ<a href="https://github.com/vim-airline/vim-airline/wiki/Screenshots" target="_blank" rel="noopener">é¢„è§ˆ</a></li><li><a href="https://github.com/jiangmiao/auto-pairs" target="_blank" rel="noopener">jiangmiao/auto-pairs</a> è‡ªåŠ¨å¼•å·&amp;æ‹¬å·è¡¥å…¨</li></ul><blockquote><p>ä»¥å¼•å·è¾“å…¥ä¸ºä¾‹ï¼Œè¯´æ˜å¦‚ä½•ä½¿ç”¨è¿™ä¸ªæ’ä»¶ã€‚æŒ‰ä¸‹ â€œï¼Œä¼šè‡ªåŠ¨å˜æˆåŒå¼•å·â€â€ï¼Œæ­¤æ—¶å…‰æ ‡ä½äºåŒå¼•å·çš„ä¸­é—´ï¼Œç­‰å¾…æ’å…¥æ–‡æœ¬ï¼Œæ–‡æœ¬æ’å…¥ç»“æŸä»¥åï¼Œé€šå¸¸æˆ‘ä»¬å¸Œæœ›æŠŠå…‰æ ‡ç½®äºå³è¾¹å¼•å·çš„åé¢ç»§ç»­è¾“å…¥ï¼Œæ­¤æ—¶ï¼Œå†æŒ‰ä¸€æ¬¡ â€œï¼Œå…‰æ ‡å°±ä¼šè·³è½¬åˆ°å³è¾¹å¼•å·çš„åé¢ï¼Œç­‰å¾…æˆ‘ä»¬ç»§ç»­è¾“å…¥æ–‡æœ¬</p></blockquote><ul><li><a href="https://github.com/scrooloose/nerdtree" target="_blank" rel="noopener">scrooloose/nerdtree</a> æ–‡ä»¶ç®¡ç†å™¨ nerdtree</li></ul><blockquote><ul><li><code>:NERDTree</code> å³å¯æ‰“å¼€å½“å‰ç¼–è¾‘æ–‡ä»¶æ‰€åœ¨çš„ç›®å½•</li><li>æŒ‰ä½ Ctrl, åŒå‡» w å¯ä»¥åœ¨ä¸¤ä¸ªçª—å£ä¹‹é—´åˆ‡æ¢</li><li>æŠŠå…‰æ ‡ç§»åŠ¨åˆ°è¯¥æ–‡ä»¶ï¼Œç„¶åæŒ‰ oï¼Œå³å¯åœ¨å³è¾¹çª—å£æ‰“å¼€è¯¥æ–‡ä»¶</li><li>åœ¨è¯¥çª—å£ç›´æ¥æŒ‰ q å³å¯é€€å‡º</li></ul></blockquote><ul><li><a href="https://github.com/Shougo/deoplete.nvim" target="_blank" rel="noopener">Shougo/deoplete.nvim</a> è‡ªåŠ¨è¡¥å…¨æ’é”®</li></ul><p>ä¹‹å‰çš„<a href="https://michael728.github.io/2018/12/02/tools-vim-plugin-config/">æ–‡ç« </a>ä¹Ÿå†™äº†ä¸€äº›æ’é”®çš„ä½¿ç”¨ã€‚</p><h2 id="æœ€å"><a href="#æœ€å" class="headerlink" title="æœ€å"></a>æœ€å</h2><p>æ”¾ä¸Šæˆ‘çš„ Vim é…ç½®æ–‡ä»¶åœ°å€ï¼š<a href="https://github.com/Michael728/my-config-files/tree/master/vim" target="_blank" rel="noopener">my-config-files/vim/</a></p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a href="http://cenalulu.github.io/linux/why-my-backspace-not-work-in-vim/" target="_blank" rel="noopener">Macçš„VIMä¸­deleteé”®å¤±æ•ˆçš„åŸå› å’Œè§£å†³æ–¹æ¡ˆ</a></li><li><a href="https://michael728.github.io/2018/12/02/tools-vim-plugin-config/">Vim æ’é”®åŠé…ç½®</a></li><li><a href="https://jdhao.github.io/2018/09/05/centos_nvim_install_use_guide/" target="_blank" rel="noopener">jdhaoâ€”â€”Linux ä¸‹ Neovim å®‰è£…ä¸é…ç½® Python å¼€å‘ç¯å¢ƒæŒ‡å—</a></li><li><a href="https://xiaozhou.net/from-vim-to-neovim-2016-05-21.html" target="_blank" rel="noopener">Timothyâ€”â€”ä»Vimåˆ°NeoVim</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://gitee.com/michael_xiang/images/raw/master/v2-e5494a3e5fcf280a2be79e929b193293_1200x500.jpg&quot; alt=&quot;neovim&quot;&gt;&lt;/p&gt;
&lt;p&gt;Vim å­¦ä¹ ç³»åˆ—ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://michael728.github.io/2018/12/02/tools-vim-basic/&quot;&gt;Vim åŸºç¡€&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://michael728.github.io/2018/12/02/tools-vim-plugin-config/&quot;&gt;Vim æ’ä»¶åŠé…ç½®&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://michael728.github.io/2019/11/17/tools-vim-plugin-neovim-plug/&quot;&gt;neovim å®‰è£…åŠæ’é”®é…ç½®&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="ToolsDev" scheme="https://michael728.github.io/categories/ToolsDev/"/>
    
    
      <category term="Tools" scheme="https://michael728.github.io/tags/Tools/"/>
    
      <category term="Vim" scheme="https://michael728.github.io/tags/Vim/"/>
    
      <category term="neovim" scheme="https://michael728.github.io/tags/neovim/"/>
    
  </entry>
  
  <entry>
    <title>GitåŸºç¡€ â€”â€” Github ä½¿ç”¨æŠ€å·§</title>
    <link href="https://michael728.github.io/2019/11/14/git-github-experiance/"/>
    <id>https://michael728.github.io/2019/11/14/git-github-experiance/</id>
    <published>2019-11-14T21:21:24.000Z</published>
    <updated>2020-01-05T15:47:56.116Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Git-åŸºç¡€å­¦ä¹ ç³»åˆ—"><a href="#Git-åŸºç¡€å­¦ä¹ ç³»åˆ—" class="headerlink" title="Git åŸºç¡€å­¦ä¹ ç³»åˆ—"></a>Git åŸºç¡€å­¦ä¹ ç³»åˆ—</h2><ul><li><a href="https://michael728.github.io/2019/11/14/git-install-config/">Git åŸºç¡€ â€”â€” å®‰è£… é…ç½® åˆ«å å¯¹è±¡</a></li><li><a href="https://michael728.github.io/2019/11/14/git-useful-commands/">Git åŸºç¡€ â€”â€” å¸¸ç”¨å‘½ä»¤</a></li><li><a href="https://michael728.github.io/2019/11/14/git-usage-examples/">Git åŸºç¡€ â€”â€” å¸¸è§ä½¿ç”¨åœºæ™¯</a></li><li><a href="https://michael728.github.io/2019/11/14/git-github-experiance/">GitåŸºç¡€ â€”â€” Github çš„ä½¿ç”¨</a></li></ul><h2 id="Github-çš„åˆ©ç”¨"><a href="#Github-çš„åˆ©ç”¨" class="headerlink" title="Github  çš„åˆ©ç”¨"></a>Github  çš„åˆ©ç”¨</h2><p><a href="https://github.com/features" target="_blank" rel="noopener">Github feature å®˜å®£</a>ï¼Œä»‹ç»äº† Github çš„ä¸»è¦ç‰¹æ€§ã€‚</p><h3 id="è¯¦ç»†æ¼”ç¤ºä¸‹æ€ä¹ˆç»™ä¸€ä¸ªé¡¹ç›®å‘èµ·-Pull-Request-PR"><a href="#è¯¦ç»†æ¼”ç¤ºä¸‹æ€ä¹ˆç»™ä¸€ä¸ªé¡¹ç›®å‘èµ·-Pull-Request-PR" class="headerlink" title="è¯¦ç»†æ¼”ç¤ºä¸‹æ€ä¹ˆç»™ä¸€ä¸ªé¡¹ç›®å‘èµ· Pull Request(PR)"></a>è¯¦ç»†æ¼”ç¤ºä¸‹æ€ä¹ˆç»™ä¸€ä¸ªé¡¹ç›®å‘èµ· Pull Request(PR)</h3><ul><li>ç¬¬ä¸€æ­¥ï¼Œæ‰¾åˆ°ä½ æƒ³å‘èµ· PR çš„é¡¹ç›®ï¼Œç‚¹å‡»å³ä¸Šè§’çš„ Fork æŒ‰é’®ï¼Œç„¶åè¯¥é¡¹ç›®å°±å‡ºç°åœ¨äº†ä½ è‡ªå·±è´¦å·çš„ Repository é‡Œã€‚</li><li>ç¬¬äºŒæ­¥ï¼ŒæŠŠforkçš„é¡¹ç›® clone åˆ°æœ¬åœ°ï¼Œç„¶åä¿®æ”¹çš„ bug ä¹Ÿå¥½ï¼Œæƒ³è¦æ–°å¢çš„åŠŸèƒ½ä¹Ÿå¥½ï¼Œæ€»ä¹‹æŠŠè‡ªå·±åšçš„ä»£ç æ”¹åŠ¨å¼€å‘å®Œï¼Œæ¥ç€ï¼ŒæŠŠè‡ªå·±åšçš„ä»£ç æ”¹åŠ¨ push åˆ° ä½ è‡ªå·±çš„ GitHub ä¸Šå»ã€‚</li><li>ç¬¬ä¸‰æ­¥ï¼Œç‚¹å‡»ä½  Fork è¿‡æ¥çš„é¡¹ç›®ä¸»é¡µçš„ Pull requests é¡µé¢ï¼Œç‚¹å‡»å³ä¸Šè§’çš„New pull requestã€‚</li></ul><p>é¡µé¢è‡ªåŠ¨ä¼šæ¯”è¾ƒè¯¥é¡¹ç›®ä¸åŸæœ‰é¡¹ç›®çš„ä¸åŒä¹‹å¤„ï¼Œæœ€é¡¶éƒ¨å£°æ˜äº†æ˜¯æºä»“åº“çš„åˆ†æ”¯ä¸ä½ forkè¿‡æ¥çš„åˆ†æ”¯çš„å¯¹æ¯”ã€‚åŒæ ·çš„æˆ‘å†™å¥½æ ‡é¢˜å’Œæè¿°ï¼Œç„¶åæˆ‘ä»¬ç‚¹å‡»ä¸­é—´çš„ Create pull request æŒ‰é’®ï¼Œè‡³æ­¤æˆ‘ä»¬å°±æˆåŠŸç»™è¯¥é¡¹ç›®æäº¤äº†ä¸€ä¸ª PRã€‚</p><p>ç„¶åå°±ç­‰ç€é¡¹ç›®åŸä½œè€… review ä½ çš„ä»£ç ï¼Œå¹¶ä¸”å†³å®šä¼šä¸ä¼šæ¥å—ä½ çš„ PRï¼Œå¦‚æœæ¥å—ï¼Œé‚£ä¹ˆæ­å–œä½ ï¼Œä½ å·²ç»æ˜¯è¯¥é¡¹ç›®çš„è´¡çŒ®è€…ä¹‹ä¸€äº†ã€‚</p><h2 id="å‘ç°å¥½ç”¨çš„å¼€æºé¡¹ç›®"><a href="#å‘ç°å¥½ç”¨çš„å¼€æºé¡¹ç›®" class="headerlink" title="å‘ç°å¥½ç”¨çš„å¼€æºé¡¹ç›®"></a>å‘ç°å¥½ç”¨çš„å¼€æºé¡¹ç›®</h2><p>GitHub å…¶ä¸­ä¸€ä¸ªæœ€é‡è¦çš„ä½œç”¨å°±æ˜¯å‘ç°å…¨ä¸–ç•Œæœ€ä¼˜ç§€çš„å¼€æºé¡¹ç›®ï¼Œä½ æ²¡äº‹çš„æ—¶å€™åˆ·åˆ·å¾®åšã€çŸ¥ä¹ï¼Œäººå®¶æ²¡äº‹çš„æ—¶å€™åˆ·åˆ· GitHub ï¼Œçœ‹çœ‹æœ€è¿‘æœ‰å“ªäº›æµè¡Œçš„é¡¹ç›®ï¼Œä¹…è€Œä¹…ä¹‹ï¼Œè¿™å·®è·å°±è¶Šæ¥è¶Šå¤§ï¼Œé‚£ä¹ˆå¦‚ä½•å‘ç°ä¼˜ç§€çš„å¼€æºé¡¹ç›®å‘¢ï¼Ÿ</p><ol><li>å…³æ³¨ä¸€äº›æ´»è·ƒçš„å¤§ç‰›</li><li>Exploreèœå•ä¸‹çš„Trendingï¼Œçœ‹åˆ°æœ€è¿‘çš„ä¸€äº›çƒ­é—¨å¼€æºé¡¹ç›®ï¼Œå¾ˆå¤šäººä¸»åŠ¨è·å–å¼€æºé¡¹ç›®çš„æœ€å¥½çš„é€”å¾„ï¼Œå¯ä»¥é€‰æ‹©â€œå½“å¤©çƒ­é—¨â€ï¼Œâ€œä¸€å‘¨ä¹‹å†…çƒ­é—¨â€å’Œâ€œä¸€æœˆä¹‹å†…çƒ­é—¨â€æ¥æŸ¥çœ‹ï¼Œå¹¶ä¸”ï¼Œå¯ä»¥åˆ†è¯­è¨€æ¥æŸ¥çœ‹ã€‚</li><li>Searchï¼ŒæŒ‰ç…§Most Starsæ¥ç­›é€‰ã€‚</li></ol><p>GitHub çš„ Search è¿˜æœ‰ä¸€äº›å°æŠ€å·§ï¼š</p><ul><li>ä½¿ç”¨é«˜çº§æœç´¢çš„åŠŸèƒ½ï¼Œæœç´¢è¯­æ³•è§ <a href="https://help.github.com/articles/understanding-the-search-syntax/" target="_blank" rel="noopener">Understanding the search syntax</a>ï¼›</li><li>ä½¿ç”¨ <code>in:readme</code> å¯ä»¥æ‰©å¤§æœç´¢çš„èŒƒå›´ï¼Œå¦åˆ™ç›´æ¥è¾“å…¥è¾“å…¥æœç´¢æ–‡å­—ï¼Œåªåœ¨ä»“åº“åã€æè¿°çš„å†…å®¹ä¸­å»åŒ¹é…æœç´¢ï¼›</li></ul><p>æœç´¢è¯ç¤ºä¾‹ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git æœ€å¥½ å­¦ä¹  èµ„æ–™ in:readme stars:&gt;2000</span><br><span class="line"># æœä»“åº“é‡Œå¸¦æœ‰ gitlab-ci.yml çš„ä»“åº“ï¼ŒåŒæ—¶æ–‡ä»¶é‡Œæœ‰ after_script + stge:deploy å†…å®¹ï¼Œæ ¹æ®ä»£ç å†…å®¹æœç´¢</span><br><span class="line">&apos;after_script&apos;+&apos;stage: deploy&apos;  filename:.gitlab-ci.yml</span><br></pre></td></tr></table></figure></p><p>é™¤æ­¤ä¹‹å¤–ï¼Œæœ‰äº›äººå¦‚æœä¹ æƒ¯ç”¨ Google è¿›è¡Œæœç´¢ï¼Œé‚£ä¹ˆæƒ³æœç´¢ GitHub ä¸Šçš„ç»“æœï¼Œä¸å¦¨å‰é¢åŠ  GitHub å…³é”®å­—å°±okäº†ï¼Œæ¯”å¦‚æˆ‘åœ¨ google é‡Œè¾“å…¥ GitHub android http ï¼Œæ¯ä¸ªå…³é”®å­—ç”¨ç©ºæ ¼éš”å¼€ã€‚</p><h2 id="æ€ä¹ˆé€‰æ‹©å›¢é˜Ÿé€‚åˆçš„å·¥ä½œæµ"><a href="#æ€ä¹ˆé€‰æ‹©å›¢é˜Ÿé€‚åˆçš„å·¥ä½œæµ" class="headerlink" title="æ€ä¹ˆé€‰æ‹©å›¢é˜Ÿé€‚åˆçš„å·¥ä½œæµ"></a>æ€ä¹ˆé€‰æ‹©å›¢é˜Ÿé€‚åˆçš„å·¥ä½œæµ</h2><h3 id="ä¸»å¹²å¼€å‘"><a href="#ä¸»å¹²å¼€å‘" class="headerlink" title="ä¸»å¹²å¼€å‘"></a>ä¸»å¹²å¼€å‘</h3><p><img src="https://ws2.sinaimg.cn/large/006tNc79ly1fzdcgk1dayj31au0ngk1q.jpg" alt><br>Facebook é‡‡ç”¨ä¸»å¹²å¼€å‘æ¨¡å¼ã€‚å¦‚æœæ²¡æœ‰è´¨é‡ä¿è¯çš„è¯ï¼Œcommit  å®¹æ˜“å‡ºç°é”™è¯¯ï¼Œè¦èƒ½å¿«é€Ÿè¿­ä»£ï¼Œæ‰èƒ½é‡‡ç”¨ä¸»å¹²å¼€å‘æ¨¡å¼ã€‚</p><h3 id="Git-Flow"><a href="#Git-Flow" class="headerlink" title="Git Flow"></a>Git Flow</h3><p>æµç¨‹å¤ªè¿‡å¤æ‚ï¼Œäº’è”å…¬å¸ä¸å¤ªå¸¸è§ï¼Œå’Œä¸»å¹²å¼€å‘æ¨¡å¼ä¸åŒï¼Œå®ƒç±»ä¼¼äºç‰¹æ€§åˆ†æ”¯æ¨¡å¼ã€‚<br><img src="https://ws1.sinaimg.cn/large/006tNc79ly1fzdh71wtcuj315f0u0h21.jpg" alt><br>Github Flowï¼š<br>ç‰¹æ€§åˆ†æ”¯å¼€å‘æµ‹è¯•å®Œæ¯•ï¼Œå›åˆåˆ°ä¸»å¹²ï¼Œæ—¢å¯ä»¥ç«‹å³å‘å¸ƒäº†<br><img src="https://ws2.sinaimg.cn/large/006tNc79ly1fzdh98wrzbj31cm0netis.jpg" alt></p><h3 id="Gitlab-Flow-å¸¦ç”Ÿäº§åˆ†æ”¯"><a href="#Gitlab-Flow-å¸¦ç”Ÿäº§åˆ†æ”¯" class="headerlink" title="Gitlab Flow å¸¦ç”Ÿäº§åˆ†æ”¯"></a>Gitlab Flow å¸¦ç”Ÿäº§åˆ†æ”¯</h3><p> master åˆ†æ”¯ç”¨äºæŒç»­é›†æˆçš„ï¼Œç‰¹æ€§åˆ†æ”¯ä¼šé›†æˆåˆ° masterï¼Œproduction åˆ†æ”¯ç”¨äºå‘å¸ƒçš„ã€‚<img src="https://ws1.sinaimg.cn/large/006tNc79ly1fzdhaoty4hj314a0so7bk.jpg" alt><br> Gitlab Flow å¸¦ç¯å¢ƒåˆ†æ”¯ï¼š<br><img src="https://ws2.sinaimg.cn/large/006tNc79ly1fzdhd1gnivj31840t0gum.jpg" alt><br>Gitlab Flow å¸¦å‘å¸ƒåˆ†æ”¯ï¼š<br>å› ä¸ºç¡¬ä»¶æœ‰å¤šä¸ªç‰ˆæœ¬ï¼Œä¸ºäº†é€‚é…è¿™äº›ç¡¬ä»¶ï¼ŒåŒä¸€ä¸ªæ—¶é—´ç‚¹ï¼Œå¯èƒ½ä¼šé’ˆå¯¹ç¡¬ä»¶å‘å¸ƒå¤šä¸ªç‰ˆæœ¬<br><img src="https://ws4.sinaimg.cn/large/006tNc79ly1fzdhefrrshj315b0u0aiv.jpg" alt></p><h2 id="å¦‚ä½•æŒ‘é€‰åˆé€‚çš„åˆ†æ”¯é›†æˆç­–ç•¥"><a href="#å¦‚ä½•æŒ‘é€‰åˆé€‚çš„åˆ†æ”¯é›†æˆç­–ç•¥" class="headerlink" title="å¦‚ä½•æŒ‘é€‰åˆé€‚çš„åˆ†æ”¯é›†æˆç­–ç•¥"></a>å¦‚ä½•æŒ‘é€‰åˆé€‚çš„åˆ†æ”¯é›†æˆç­–ç•¥</h2><p>Github &gt; Insights &gt; Network å¯ä»¥çœ‹åˆ°ç‰ˆæœ¬æ¼”è¿›;</p><p>Settings ä¸­ï¼Œæœ‰ä¸€ä¸ª <code>Merge Button</code>ï¼Œå¯ä»¥é€‰æ‹© MR çš„æ–¹å¼ï¼š<br><img src="https://ws4.sinaimg.cn/large/006tNc79ly1fzdhmkv7nfj31560iaad5.jpg" alt><br>Github çš„åˆå¹¶ç­–ç•¥ï¼š</p><ul><li>allow merge commitsï¼šåˆå…¥ä¸»å¹²æ—¶ï¼Œä¼šäº§ç”Ÿä¸€ä¸ª merge commitï¼›</li><li>allow squash mergingï¼šç›¸å½“äºæŠŠä½ çš„æäº¤ä¼šå…ˆåˆå¹¶æˆä¸€ä¸ª commitï¼Œç„¶åå†æäº¤ï¼Œè¿™æ ·çš„è¯ï¼Œä½ åŸæ¥çš„ç‰¹æ€§åˆ†æ”¯æ²¡æœ‰å˜ï¼Œä¸»å¹²åˆ†æ”¯å¤šäº†ä¸€ä¸ª commitï¼Œä¸»å¹²ä¹Ÿæ˜¯çº¿æ€§æ¼”è¿›ï¼›</li><li>allow rebase mergingï¼šä¸»å¹²æ˜¯ä¸€ä¸ªçº¿æ€§æ¼”è¿›ï¼Œçœ‹ç€å¾ˆèˆ’æœï¼Œå®è´¨ä¸Šå°±æ˜¯ç‰¹æ€§åˆ†æ”¯çš„ä¸€ä¸ªä¸ª cherry pick  åˆ°ä¸»å¹²ä¸Šï¼Œæ¯”å¦‚ç‰¹æ€§åˆ†æ”¯ä¸Šæœ‰3ä¸ª commitï¼Œé‚£ä¹ˆæ‰§è¡Œä¹‹åï¼Œä¸»å¹²ä¹Ÿå°±äº§ç”Ÿ3ä¸ª commit äº†ï¼ŒåŸç‰¹æ€§åˆ†æ”¯æ²¡æœ‰å˜åŒ–ï¼›<br><img src="https://ws4.sinaimg.cn/large/006tNc79ly1fzdhzsv3llj30q50oiqex.jpg" alt><br>ä¸Šé¢ï¼Œä»…ä»…æ˜¯ Github çš„ MR ç­–ç•¥ï¼Œä¸ Gitlab çš„ç­–ç•¥ä¹Ÿæ˜¯æœ‰æ‰€åŒºåˆ«çš„ã€‚</li></ul><blockquote><p>å¯ä»¥æ ¹æ®è½¯ä»¶åŒ…å‘å¸ƒæ—¶æ˜¯ä»ä»€ä¹ˆåˆ†æ”¯ä¸Šå‘å¸ƒçš„ï¼Œåˆ†ä¸ºä¸»å¹²å¼€å‘å’Œåˆ†æ”¯å¼€å‘ï¼Œä»ä¸»å¹²åˆ†æ”¯ä¸Šå‡ºåŒ…å‘å¸ƒï¼Œå°±å«ä¸»å¹²å¼€å‘ï¼Œä»ç‰¹æ€§åˆ†æ”¯ä¸Šå‡ºåŒ…çš„ï¼Œå°±å«åˆ†æ”¯å¼€å‘ã€‚</p></blockquote><h2 id="å¯ç”¨-issue-è·Ÿè¸ªéœ€æ±‚å’Œä»»åŠ¡"><a href="#å¯ç”¨-issue-è·Ÿè¸ªéœ€æ±‚å’Œä»»åŠ¡" class="headerlink" title="å¯ç”¨ issue è·Ÿè¸ªéœ€æ±‚å’Œä»»åŠ¡"></a>å¯ç”¨ issue è·Ÿè¸ªéœ€æ±‚å’Œä»»åŠ¡</h2><p>ä»“åº“çš„ settings é¡µé¢ï¼Œæœ‰å¯ç”¨ issue çš„æŒ‰é’®ï¼Œé»˜è®¤æ˜¯å‹¾é€‰çš„ï¼Œå¯ä»¥ <code>set up template</code>ï¼Œå¯ä»¥é€‰æ‹©é¢„è®¾çš„æ¨¡æ¿ã€‚æ¨¡æ¿æ–‡ä»¶æ˜¯æ”¾åœ¨ä»“åº“çš„ .github æ–‡ä»¶å¤¹ä¸­ï¼Œå¯ä»¥å‚è€ƒ <a href="https://github.com/vuejs/vue/tree/dev/.github" target="_blank" rel="noopener">vue é¡¹ç›®çš„æ¨¡æ¿</a></p><h2 id="å¦‚ä½•ç”¨-project-ç®¡ç†-issueï¼Ÿ"><a href="#å¦‚ä½•ç”¨-project-ç®¡ç†-issueï¼Ÿ" class="headerlink" title="å¦‚ä½•ç”¨ project ç®¡ç† issueï¼Ÿ"></a>å¦‚ä½•ç”¨ project ç®¡ç† issueï¼Ÿ</h2><p>åœ¨ä»“åº“çš„ projects é¡µé¢å¯ä»¥åˆ›å»º projectï¼Œä¹Ÿæ˜¯æœ‰ template çš„ã€‚ä»¥åæ·»åŠ  issue æ—¶ï¼Œå°±å¯ä»¥é€‰æ‹©å¯¹åº”çš„ projectã€‚</p><p>æ™¨ä¼šè¿‡è¿›åº¦çš„æ—¶å€™ï¼Œè¿˜æ˜¯å¾ˆæ–¹ä¾¿ç›´è§‚çš„ã€‚åæœŸå¯ä»¥é€šè¿‡é¡¹ç›®çœ‹æ¿å¸®æˆ‘ä»¬æœ‰åºçš„ç®¡ç†ä»»åŠ¡å’Œæ¨è¿›ã€‚<br><img src="https://ws3.sinaimg.cn/large/006tNc79ly1fzekk461k7j31do0gijte.jpg" alt></p><h2 id="é¡¹ç›®å›¢é˜Ÿæ€ä¹ˆå®æ–½-code-review"><a href="#é¡¹ç›®å›¢é˜Ÿæ€ä¹ˆå®æ–½-code-review" class="headerlink" title="é¡¹ç›®å›¢é˜Ÿæ€ä¹ˆå®æ–½ code review?"></a>é¡¹ç›®å›¢é˜Ÿæ€ä¹ˆå®æ–½ code review?</h2><p>åœ¨ä»“åº“ settings branches ä¸­æ·»åŠ è§„åˆ™ï¼Œæ”¯æŒ <code>release*</code> è¿™æ ·çš„è§„åˆ™ï¼Œé€šé…ç¬¦ï¼Œè¿˜å¯ä»¥æŒ‡å®š review çš„å…¶ä»–è§„åˆ™ï¼Œæ¯”å¦‚å®¡æ ¸äººè¦å‡ ä¸ªç­‰ã€‚</p><p>é€šè¿‡ pull request å‘èµ· review çš„ç”³è¯·ã€‚</p><h2 id="ç¦åˆ©"><a href="#ç¦åˆ©" class="headerlink" title="ç¦åˆ©"></a>ç¦åˆ©</h2><p>GitHub ä¸Šå½±å“åŠ›å¾ˆå¤§ï¼ŒåŒæ—¶åˆå¯¹ä½ ä»¬å¾ˆæœ‰ç”¨çš„é¡¹ç›®ï¼š</p><ul><li><a href="https://github.com/EbookFoundation/free-programming-books" target="_blank" rel="noopener">free-programming-books</a>:  è¿™ä¸ªé¡¹ç›®æ•´ç†äº†æ‰€æœ‰è·Ÿç¼–ç¨‹ç›¸å…³çš„å…è´¹ä¹¦ç±ï¼Œè€Œä¸”å…¨çƒå¤šå›½è¯­è¨€ç‰ˆçš„éƒ½æœ‰ï¼Œä¸­æ–‡ç‰ˆçš„åœ¨è¿™é‡Œ <a href="https://github.com/EbookFoundation/free-programming-books/blob/master/free-programm" target="_blank" rel="noopener">free-programming-books-zh</a></li><li><a href="https://github.com/robbyrussell/oh-my-zsh" target="_blank" rel="noopener">ob-my-zsh</a>:  ä¿—è¯è¯´ï¼Œä¸ä¼šç”¨ shell çš„ç¨‹åºå‘˜ä¸æ˜¯çœŸæ­£çš„ç¨‹åºå‘˜ã€‚oh-my-zsh æ¯«æ— ç–‘é—®å°±æ˜¯ç›®å‰æœ€æµè¡Œï¼Œæœ€é…·ç‚«çš„ shell</li><li><a href="https://michael728.github.io/2018/03/11/tools-zsh-tutorial/">zsh+on-my-zshé…ç½®æ•™ç¨‹æŒ‡å—ï¼ˆç¨‹åºå‘˜å¿…å¤‡ï¼‰</a></li><li><a href="https://github.com/sindresorhus/awesome" target="_blank" rel="noopener">awesome</a>:  GitHub ä¸Šæœ‰å„ç§ awesome ç³»åˆ—ï¼Œç®€å•æ¥è¯´å°±æ˜¯è¿™ä¸ªç³»åˆ—æœç½—æ•´ç†äº† GitHub ä¸Šå„é¢†åŸŸçš„èµ„æºå¤§æ±‡æ€»ï¼Œæ¯”å¦‚æœ‰ awesome-android, awesome-ios, awesome-java, awesome-python ç­‰ç­‰ç­‰ï¼Œå°±ä¸æˆªå›¾äº†ï¼Œä½ ä»¬è‡ªè¡Œå»æ„Ÿå—ã€‚</li><li><a href="https://github.com/tiimgreen/github-cheat-sheet/" target="_blank" rel="noopener">github-cheat-sheet</a>: GitHub çš„ä½¿ç”¨æœ‰å„ç§æŠ€å·§ï¼Œåªä¸è¿‡åŸºæœ¬çš„å°±å¤Ÿæˆ‘ä»¬ç”¨äº†ï¼Œä½†æ˜¯å¦‚æœä½ å¯¹ GitHub è¶…çº§æ„Ÿå…´è¶£ï¼Œæƒ³æ›´å¤šçš„äº†è§£ GitHub çš„ä½¿ç”¨æŠ€å·§ï¼Œé‚£ä¹ˆè¿™ä¸ªé¡¹ç›®å°±åˆšå¥½æ˜¯ä½ éœ€è¦çš„ï¼Œæ¯ä¸ª GitHub ç²‰éƒ½åº”è¯¥çŸ¥é“è¿™ä¸ªé¡¹ç›®ã€‚</li><li><a href="https://github.com/francistao/LearningNotes" target="_blank" rel="noopener">LearningNotes</a>ï¼šè¿™æ˜¯ä¸€ä»½éå¸¸è¯¦ç»†çš„é¢è¯•èµ„æ–™ï¼Œæ¶‰åŠ Androidã€Javaã€è®¾è®¡æ¨¡å¼ã€ç®—æ³•ç­‰ç­‰ç­‰ï¼Œä½ èƒ½æƒ³åˆ°çš„ï¼Œä½ ä¸èƒ½æƒ³åˆ°çš„åŸºæœ¬éƒ½åŒ…å«äº†ï¼Œå¯ä»¥è¯´æ˜¯é€‚åº”äºä»»ä½•å‡†å¤‡é¢è¯•çš„ Android å¼€å‘è€…ï¼Œçœ‹å®Œè¿™ä¸ªä¹‹ååˆ«è¯´ä½ è¿˜ä¸çŸ¥é“æ€ä¹ˆé¢è¯•ï¼</li></ul><h2 id="è¡¥å……-Gitlab"><a href="#è¡¥å……-Gitlab" class="headerlink" title="è¡¥å……-Gitlab"></a>è¡¥å……-Gitlab</h2><ul><li><a href="https://about.gitlab.com/devops-tools/" target="_blank" rel="noopener">DevOps-Tools</a></li><li><a href="https://about.gitlab.com/stages-devops-lifecycle/" target="_blank" rel="noopener">DevOps-lifecycle</a></li><li><a href="https://gitlab.com/gitlab-org/gitlab-ee/boards/338779" target="_blank" rel="noopener">Gitlab-ee/boards</a> Gitlab çš„çœ‹æ¿ç¤ºä¾‹ï¼Œæœ¬èº«ä¼ä¸šç‰ˆçš„å¼€å‘è®¨è®ºï¼›</li><li><a href="https://gitlab.com/gitlab-org/gitlab-ee/pipelines" target="_blank" rel="noopener">Gitlab ä»£ç é›†æˆ æµæ°´çº¿</a> ä¿è¯é›†æˆçš„è´¨é‡ï¼Œè¦æƒ³è·‘ CIï¼Œéœ€è¦åœ¨ CI/CD ä¸­æ³¨å†Œ Runnerã€‚</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Git-åŸºç¡€å­¦ä¹ ç³»åˆ—&quot;&gt;&lt;a href=&quot;#Git-åŸºç¡€å­¦ä¹ ç³»åˆ—&quot; class=&quot;headerlink&quot; title=&quot;Git åŸºç¡€å­¦ä¹ ç³»åˆ—&quot;&gt;&lt;/a&gt;Git åŸºç¡€å­¦ä¹ ç³»åˆ—&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://michael728.gith
      
    
    </summary>
    
      <category term="ToolsDev" scheme="https://michael728.github.io/categories/ToolsDev/"/>
    
    
      <category term="ss" scheme="https://michael728.github.io/tags/ss/"/>
    
      <category term="vps" scheme="https://michael728.github.io/tags/vps/"/>
    
  </entry>
  
  <entry>
    <title>Git åŸºç¡€ â€”â€” å¸¸è§ä½¿ç”¨åœºæ™¯</title>
    <link href="https://michael728.github.io/2019/11/14/git-usage-examples/"/>
    <id>https://michael728.github.io/2019/11/14/git-usage-examples/</id>
    <published>2019-11-14T20:21:24.000Z</published>
    <updated>2020-01-05T15:47:56.116Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Git-åŸºç¡€å­¦ä¹ ç³»åˆ—"><a href="#Git-åŸºç¡€å­¦ä¹ ç³»åˆ—" class="headerlink" title="Git åŸºç¡€å­¦ä¹ ç³»åˆ—"></a>Git åŸºç¡€å­¦ä¹ ç³»åˆ—</h2><ul><li><a href="https://michael728.github.io/2019/11/14/git-install-config/">Git åŸºç¡€ â€”â€” å®‰è£… é…ç½® åˆ«å å¯¹è±¡</a></li><li><a href="https://michael728.github.io/2019/11/14/git-useful-commands/">Git åŸºç¡€ â€”â€” å¸¸ç”¨å‘½ä»¤</a></li><li><a href="https://michael728.github.io/2019/11/14/git-usage-examples/">Git åŸºç¡€ â€”â€” å¸¸è§ä½¿ç”¨åœºæ™¯</a></li><li><a href="https://michael728.github.io/2019/11/14/git-github-experiance/">GitåŸºç¡€ â€”â€” Github çš„ä½¿ç”¨</a></li></ul><h2 id="çªç„¶æ’å…¥-Bugifx-å·¥ä½œï¼Œå›é€€å·¥ä½œç›®å½•"><a href="#çªç„¶æ’å…¥-Bugifx-å·¥ä½œï¼Œå›é€€å·¥ä½œç›®å½•" class="headerlink" title="çªç„¶æ’å…¥ Bugifx å·¥ä½œï¼Œå›é€€å·¥ä½œç›®å½•"></a>çªç„¶æ’å…¥ Bugifx å·¥ä½œï¼Œå›é€€å·¥ä½œç›®å½•</h2><ul><li><code>git stash</code> ä¿å­˜æ‰€æœ‰å·¥ä½œå†…å®¹ï¼Œæ”¾åˆ°ä¸€ä¸ªç‰¹æ®Šçš„åŒºåŸŸï¼Œä¸ºäº†é¿å…é—å¿˜ï¼Œå¯ä»¥ <code>git stash save [message]</code> ä¿å­˜ä¸€ç‚¹æç¤ºä¿¡æ¯ï¼›</li><li><code>git stash list</code> æŸ¥çœ‹ä¿å­˜åˆ—è¡¨ï¼Œå¦‚ <code>stash@{2}</code> å’Œ <code>stash@{1}</code>ï¼Œåºå·ä¸­æ•°å­—å¤§çš„ä»£è¡¨çš„æ˜¯è¾ƒæ—©çš„ stashï¼›</li><li><code>git stash show stash@{0} -v</code> æ¯”è¾ƒå½“å‰å·¥ä½œç›®å½•å’Œ stash çš„å†…å®¹åšæ¯”è¾ƒï¼›</li><li><code>git stash clear</code> å¯ä»¥æ¸…é™¤åˆšåˆšæ‰€æœ‰ä¿å­˜çš„ä¿¡æ¯ï¼›</li></ul><p>è§£å†³å®Œ bugï¼Œåˆè¦åˆ‡å›ä¹‹å‰çš„çŠ¶æ€ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git stash pop|apply [stash]</span><br></pre></td></tr></table></figure></p><ul><li><code>apply</code> ä½œç”¨ï¼Œæ¢å¤ä¹‹å‰å­˜æ”¾çš„å†…å®¹ï¼Œstash åˆ—è¡¨ä¸­çš„å†…å®¹è¿˜åœ¨ï¼›</li><li><code>pop</code> æ¢å¤ä¹‹å‰å†…å®¹åï¼Œstash åˆ—è¡¨ä¸­çš„å†…å®¹å°±ä¸å­˜åœ¨äº†ï¼›</li></ul><p>ç”¨æ³•ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git stash pop stash@&#123;2&#125;</span><br><span class="line">git stash pop = git stash pop stash@&#123;0&#125;</span><br></pre></td></tr></table></figure></p><p>æˆ‘ä»¬ pop çš„æ—¶å€™å¯ä»¥åŠ å…·ä½“çš„åºå·ï¼Œä¸åŠ åºå·çš„ï¼ˆç¼ºçœæƒ…å†µä¸‹ï¼‰ä¸º <code>stash@{0}</code>ã€‚</p><p>stash å›æ¥æ˜¯æœ‰å¯èƒ½å‘ç”Ÿå†²çªçš„ï¼Œéœ€è¦è§£å†³å†²çª</p><h2 id="å¤šäººå•åˆ†æ”¯åä½œ"><a href="#å¤šäººå•åˆ†æ”¯åä½œ" class="headerlink" title="å¤šäººå•åˆ†æ”¯åä½œ"></a>å¤šäººå•åˆ†æ”¯åä½œ</h2><p>æœ‰ä¸ªæ–°ç‰¹æ€§éœ€è¦å¼€å‘ï¼Œåœ¨è¿œç«¯ä»“åº“æ–°å»ºäº†ç‰¹æ€§åˆ†æ”¯ <code>feature/add_gitcommand</code>ï¼Œç°åœ¨ï¼Œå›¢é˜Ÿä¸­çš„å¤šäººéœ€è¦åŸºäºè¿™ä¸ªåˆ†æ”¯è¿›è¡Œåä½œå¼€å‘ã€‚</p><h3 id="æœ¬åœ°æ‹‰å–ç‰¹æ€§åˆ†æ”¯è¿›è¡Œå¼€å‘"><a href="#æœ¬åœ°æ‹‰å–ç‰¹æ€§åˆ†æ”¯è¿›è¡Œå¼€å‘" class="headerlink" title="æœ¬åœ°æ‹‰å–ç‰¹æ€§åˆ†æ”¯è¿›è¡Œå¼€å‘"></a>æœ¬åœ°æ‹‰å–ç‰¹æ€§åˆ†æ”¯è¿›è¡Œå¼€å‘</h3><p>å¦‚æœè¿œç«¯è¿™ä¸ªåˆ†æ”¯å·²æœ‰åŒäº‹æäº¤äº†ä»£ç ï¼Œè€Œæœ¬åœ°è¿˜æ²¡æœ‰è¿™ä¸ªåˆ†æ”¯ï¼Œéœ€è¦å…ˆ fetch è¿œç«¯åˆ†æ”¯åˆ°æœ¬åœ°ï¼ˆæœ¬åœ°è£¸ä»“åº“ä¸­ä¼šå¢åŠ ç›¸å…³ commit ä¿¡æ¯ï¼‰ï¼Œæ‰èƒ½åœ¨ <code>git branch -av</code> ä¸­çœ‹åˆ°è¿™ä¸ªè¿œç«¯åˆ†æ”¯ä¿¡æ¯ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git fetch github</span><br></pre></td></tr></table></figure></p><p>æ³¨æ„ï¼Œå› ä¸ºæˆ‘æœ¬åœ°ä»“åº“æ·»åŠ äº†å¤šä¸ªè¿œç«¯ä¸»æœºï¼Œæ­¤å¤„çš„ <code>github</code> æ˜¯æˆ‘å½“æ—¶ <code>git remote add</code>  æ—¶ç»™è¿œç«¯ä¸»æœºèµ·çš„åˆ«åï¼Œä¸€èˆ¬ä¼šå« <code>origin</code>ã€‚</p><p>æ¥ç€ï¼Œåœ¨æœ¬åœ°åˆ›å»ºå¹¶åˆ‡æ¢åˆ°è¿œç«¯ç‰¹æ€§åˆ†æ”¯ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># æ‹‰å–è¿œç«¯åˆ†æ”¯æ—¶ï¼Œä¼šè‡ªåŠ¨å°†æœ¬åœ°çš„è¿™ä¸ªåˆ†æ”¯å’Œå…¶å…³è”</span><br><span class="line">git checkout -b feature/add_gitcommand github/feature/add_gitcommand</span><br></pre></td></tr></table></figure></p><p>å¦‚æœç›´æ¥ push çš„è¯ï¼Œå¾€å¾€ä¼šé‡åˆ°é”™è¯¯ã€‚å› ä¸ºåœ¨ä½ æäº¤ä¹‹å‰ï¼Œè¿œç«¯åˆ†æ”¯åˆæœ‰äº†æ–°çš„æäº¤ï¼Œæœ‰æ—¶å€™å†…å®¹å’Œä½ ä¿®æ”¹çš„åœ°æ–¹ä¸€æ ·ï¼Œè¿˜ä¼šæœ‰å†²çªã€‚åªè¦ä½ çš„æäº¤è½åäº†ï¼Œé‚£ä¹ˆä¸ç®¡æœ‰æ²¡æœ‰å†²çªï¼Œæ¨é€æ—¶éƒ½ä¼šæŠ¥é”™ï¼š<br><img src="https://ws1.sinaimg.cn/mw690/6d9475f6ly1fzcxmhkaeqj211c09atai.jpg" alt></p><p>ä¸ºäº†é¿å…ä¸Šé¢çš„é—®é¢˜ï¼Œåœ¨æœ¬åœ°å¼€å‘æäº¤ä¹‹åï¼Œæ‰§è¡Œæ¨é€æ“ä½œä¹‹å‰éœ€è¦æ‹‰å–è¿œç«¯åœ¨è¿›è¡Œåˆå¹¶ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git pull github</span><br><span class="line">#  pull ç­‰ä»·äºä¸‹é¢ä¸¤ä¸ªæ“ä½œ</span><br><span class="line">git fetch github</span><br><span class="line">git merge github/feature/add_gitcommand</span><br></pre></td></tr></table></figure></p><p><img src="https://ws1.sinaimg.cn/mw690/6d9475f6ly1fzcxqgwc5yj20to044aak.jpg" alt></p><p>å‘ç”Ÿäº†å†²çªï¼Œéœ€è¦æˆ‘ä»¬åœ¨æ¨é€ä¹‹å‰å…ˆæœ¬åœ°è§£å†³ä¸€ä¸‹å†²çªï¼š</p><p>æŸ¥çœ‹æœ‰å†²çªçš„æ–‡ä»¶<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">hello</span><br><span class="line">&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD</span><br><span class="line">we are on feature/add__gitcommand</span><br><span class="line">we are on michael728</span><br><span class="line">=======</span><br><span class="line">we are on feature/add__gitcommand 123</span><br><span class="line">&gt;&gt;&gt;&gt;&gt;&gt;&gt; c6fc3bc57c65f099a45b1c98b6ce2782a2c072f9</span><br></pre></td></tr></table></figure></p><p>HEAD å’Œ <code>=====</code> ä¹‹é—´çš„å†…å®¹å°±æ˜¯å‘ç”Ÿå†²çªçš„åœ°æ–¹ï¼Œè¿™ä¹‹é—´çš„å†…å®¹æ˜¯æˆ‘ä»¬æœ¬åœ°æäº¤çš„å†…å®¹ï¼Œ<code>====</code> å’Œ <code>&gt;&gt;&gt;&gt;&gt;</code> ä¹‹é—´çš„æ˜¯è¿œç«¯çš„å†…å®¹ã€‚</p><p>åˆ é™¤è¿™äº›æ ‡è®°è¡Œï¼Œç„¶åé‡æ–° <code>add</code>ã€<code>commit</code>ï¼Œæœ€ç»ˆ <code>git push github</code>å³å¯æ¨é€åˆ°è¿œç«¯ç‰¹æ€§åˆ†æ”¯äº†ï¼Œå¦‚æœåªå…³è”äº†ä¸€ä¸ªè¿œç«¯ä»“åº“ï¼Œé‚£ä¹ˆç›´æ¥<code>git push</code>å³å¯ã€‚</p><p>ä»€ä¹ˆæ—¶å€™ä¼šæœ‰å†²çªå‘¢ï¼Ÿ<br>è¿œç«¯ä¿®æ”¹çš„åœ°æ–¹ï¼Œæ¯”å¦‚ä¿®æ”¹äº†ç¬¬ä¸€è¡Œï¼Œè€Œæœ¬åœ°ä¹Ÿä¿®æ”¹äº†ç¬¬ä¸€è¡Œï¼Œè¿™æ—¶å€™ merge çš„æ—¶å€™ï¼Œå°±ä¼šå‘ç”Ÿå†²çªã€‚</p><h3 id="åŒæ—¶å˜æ›´äº†æ–‡ä»¶å"><a href="#åŒæ—¶å˜æ›´äº†æ–‡ä»¶å" class="headerlink" title="åŒæ—¶å˜æ›´äº†æ–‡ä»¶å"></a>åŒæ—¶å˜æ›´äº†æ–‡ä»¶å</h3><p>æŸåŒäº‹åœ¨ä»–æäº¤æ—¶ï¼Œé€šè¿‡ <code>git mv</code> å‘½ä»¤é‡å‘½åäº†ä¸€ä¸ªæ–‡ä»¶ï¼Œ<code>index.html to index.htm</code>ï¼Œå¹¶ä¸”æ¨é€åˆ°äº†è¿œç«¯ä»“åº“ä¸­ã€‚</p><p>è¿™æ—¶å€™æˆ‘åœ¨æœ¬åœ°ä¿®æ”¹äº† <code>index.html</code> å†…å®¹ï¼Œå¹¶è¿›è¡Œäº†æäº¤ï¼Œå‡†å¤‡æ¨é€åˆ°è¿œç«¯ã€‚å› ä¸ºè¿œç«¯åˆæ¯”æœ¬åœ°å¤šäº†æäº¤è®°å½•ï¼Œæ‰€ä»¥ä¼š <code>rejected</code>ï¼Œè¿™æ—¶å€™æ‰§è¡Œï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git pull</span><br></pre></td></tr></table></figure></p><p>æ‰§è¡Œå®Œä¹‹åï¼Œå‘ç°æœ¬åœ° Git è‡ªåŠ¨å¸®æˆ‘ä»¬ä¹Ÿå¯¹æ–‡ä»¶è¿›è¡Œäº†é‡å‘½åå¹¶è¿›è¡Œäº†å†…å®¹çš„åˆå¹¶ã€‚</p><p>å‰é¢è®² Git çš„æ–‡ä»¶å­˜å‚¨æ—¶ï¼Œè¯´ Git å­˜æ”¾ blob æ–‡ä»¶æ—¶æ˜¯ä»¥æ–‡ä»¶å†…å®¹æ¥åŒºåˆ†çš„ï¼Œå¹¶ä¸ä»¥æ–‡ä»¶åæ¥åŒºåˆ†ï¼›æ­¤å¤„çš„å˜æ›´æ–‡ä»¶åæ“ä½œå’Œå˜æ›´æ–‡ä»¶å†…å®¹çš„æ“ä½œèƒ½å¤Ÿè‡ªåŠ¨è¢« Git å¤„ç†ï¼ŒåŸå› å°±åœ¨äº blob æ–‡ä»¶å¹¶æ²¡æœ‰å‘ç”Ÿä¿®æ”¹çš„å†²çªã€‚</p><p>å¦‚æœå…¶ä¸­ä¸€ä¸ªäººæ—¢å˜æ›´äº†æ–‡ä»¶ååˆä¿®æ”¹äº†æ–‡ä»¶ï¼ŒåŒæ—¶å¦ä¸€ä¸ªäººä¹Ÿä¿®æ”¹äº†è¯¥æ–‡ä»¶çš„åŒä¸€ä½ç½®çš„å†…å®¹ï¼Œå°±ä¼šè¢« Git è¯†åˆ«ä¸ºå†²çªï¼Œè€Œä¸èƒ½è‡ªåŠ¨è¿›è¡Œå¤„ç†äº†ï¼Œå¤„ç†æ–¹æ³•å’Œä¸‹é¢ä¸€ç§æƒ…å†µç±»ä¼¼ï¼Œéƒ½éœ€è¦æ‰‹åŠ¨æ¥å¤„ç†äº†ã€‚</p><h3 id="æŠŠåŒä¸€æ–‡ä»¶ä¿®æ”¹ä¸ºäº†ä¸åŒçš„æ–‡ä»¶å"><a href="#æŠŠåŒä¸€æ–‡ä»¶ä¿®æ”¹ä¸ºäº†ä¸åŒçš„æ–‡ä»¶å" class="headerlink" title="æŠŠåŒä¸€æ–‡ä»¶ä¿®æ”¹ä¸ºäº†ä¸åŒçš„æ–‡ä»¶å"></a>æŠŠåŒä¸€æ–‡ä»¶ä¿®æ”¹ä¸ºäº†ä¸åŒçš„æ–‡ä»¶å</h3><p>Aä¿®æ”¹äº†æ–‡ä»¶çš„æ–‡ä»¶åå¹¶è¿›è¡Œäº†æäº¤æ¨é€åˆ°äº†è¿œç«¯ï¼ŒBä¹Ÿä¿®æ”¹äº†æ–‡ä»¶åï¼Œè¿™æ—¶å€™ä¹Ÿå‡†å¤‡æ¨é€ã€‚</p><p><img src="https://ws3.sinaimg.cn/large/006tNc79ly1fzd5am0p7uj31380na7ac.jpg" alt></p><p><code>diff index1.html index2.html</code> å‘ç°ä¸¤ä¸ªæ–‡ä»¶å†…å®¹ä¸€è‡´ï¼Œé€šè¿‡ <code>git status</code> æŸ¥çœ‹çŠ¶æ€ï¼Œéœ€è¦è‡ªå·±æ‰‹åŠ¨è¿›è¡Œå¤„ç†ã€‚</p><h2 id="Git-é›†æˆçš„ç¦å¿Œ"><a href="#Git-é›†æˆçš„ç¦å¿Œ" class="headerlink" title="Git é›†æˆçš„ç¦å¿Œ"></a>Git é›†æˆçš„ç¦å¿Œ</h2><ul><li>ç¦æ­¢å‘é›†æˆåˆ†æ”¯æ‰§è¡Œ <code>git push -f</code> æ“ä½œï¼Œé›†æˆåˆ†æ”¯ä¼šä¸¢å¤± commit çš„ï¼›</li><li>ç¦æ­¢å‘é›†æˆåˆ†æ”¯æ‰§è¡Œå˜æ›´å†å²çš„æ“ä½œï¼Œå…¬å…±çš„åˆ†æ”¯ä¸¥ç¦æ‹‰åˆ°æœ¬åœ°ï¼Œè¿›è¡Œ rebase æ“ä½œçš„ï¼Œå› ä¸ºè¿™ä¹Ÿä¼šé€ æˆä¸¢å¤± commitï¼›</li></ul><h2 id="æƒ³çŸ¥é“æŸè¡Œä»£ç è°ä¿®æ”¹çš„"><a href="#æƒ³çŸ¥é“æŸè¡Œä»£ç è°ä¿®æ”¹çš„" class="headerlink" title="æƒ³çŸ¥é“æŸè¡Œä»£ç è°ä¿®æ”¹çš„"></a>æƒ³çŸ¥é“æŸè¡Œä»£ç è°ä¿®æ”¹çš„</h2><p>é˜…è¯»ä»£ç æ—¶ï¼Œæƒ³çŸ¥é“æŸè¡Œä»£ç æ˜¯è°ä¿®æ”¹çš„ï¼Ÿ</p><ul><li><p>æ‰¾åˆ°å¯¹åº” <code>commit id</code>ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git blame src/xxx.c</span><br></pre></td></tr></table></figure></li><li><p>æŸ¥çœ‹å…·ä½“æäº¤çš„å†…å®¹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git show &lt;commit id&gt;</span><br></pre></td></tr></table></figure></li></ul><h2 id="å›é€€åˆ°å†å²ç‰ˆæœ¬"><a href="#å›é€€åˆ°å†å²ç‰ˆæœ¬" class="headerlink" title="å›é€€åˆ°å†å²ç‰ˆæœ¬"></a>å›é€€åˆ°å†å²ç‰ˆæœ¬</h2><ul><li>æŸ¥æ‰¾commit id<br>é€šè¿‡<code>git log</code>æŸ¥æ‰¾æƒ³è¦ä¼šé€€åˆ°çš„å†å²ç‰ˆæœ¬çš„<code>commit id</code></li><li>æœ¬åœ°æ‰§è¡Œå›é€€</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># è¿™ä¼šè®©å·¥ä½œåŒºå’Œæš‚å­˜åŒºéƒ½å›é€€åˆ°è¿™ä¸ª commit id å¯¹åº”çš„æ—¶é—´ç‚¹çš„çŠ¶æ€</span><br><span class="line">git reset --hard [commit id]</span><br></pre></td></tr></table></figure><ul><li>å¼ºåˆ¶æ¨é€<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push -f</span><br></pre></td></tr></table></figure></li></ul><p>å‚è€ƒï¼š<a href="https://www.cnblogs.com/chenfulin5/p/6732036.html" target="_blank" rel="noopener">git è¿œç¨‹ä»“åº“ç‰ˆæœ¬çš„å›é€€ä»¥åŠgit reset å‡ ç§å¸¸ç”¨æ–¹å¼è®°å½•</a></p><h2 id="cherry-pick"><a href="#cherry-pick" class="headerlink" title="cherry-pick"></a>cherry-pick</h2><p>å°†æŸä¸€æäº¤ç‚¹çš„ä¿®æ”¹æ‹¿åˆ°å½“å‰åˆ†æ”¯ä¸Šï¼š<br><code>git cherry-pick &lt;commit id&gt;</code></p><p>è¿™ä¼šå°†é‚£æ¬¡çš„æäº¤ä¸å½“å‰å†…å®¹è¿›è¡Œåˆå¹¶ï¼Œç„¶åç”Ÿæˆä¸€ä¸ªæ–°çš„ commitã€‚</p><h2 id="æŸ¥æ‰¾-Git-ä»“åº“çš„æ´»è·ƒè´¡çŒ®è€…"><a href="#æŸ¥æ‰¾-Git-ä»“åº“çš„æ´»è·ƒè´¡çŒ®è€…" class="headerlink" title="æŸ¥æ‰¾ Git ä»“åº“çš„æ´»è·ƒè´¡çŒ®è€…"></a>æŸ¥æ‰¾ Git ä»“åº“çš„æ´»è·ƒè´¡çŒ®è€…</h2><p>è¾“å‡ºgit repoä¸­å‰åä½æœ€æ´»è·ƒçš„æäº¤è€…ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git shortlog -s | sort -rn | head</span><br></pre></td></tr></table></figure></p><h2 id="å¦‚ä½•å°†-Git-ä»“åº“å¤‡ä»½åˆ°æœ¬åœ°"><a href="#å¦‚ä½•å°†-Git-ä»“åº“å¤‡ä»½åˆ°æœ¬åœ°" class="headerlink" title="å¦‚ä½•å°† Git ä»“åº“å¤‡ä»½åˆ°æœ¬åœ°"></a>å¦‚ä½•å°† Git ä»“åº“å¤‡ä»½åˆ°æœ¬åœ°</h2><p>å¸¸ç”¨çš„ä¼ è¾“åè®®ï¼š<br><img src="https://ws4.sinaimg.cn/large/006tNc79ly1fzcai93n6yj30sh0ftwh6.jpg" alt></p><ul><li>ç›´è§‚åŒºåˆ«ï¼šå“‘åè®®ä¼ è¾“è¿›åº¦ä¸å¯â»…ï¼›æ™ºèƒ½åè®®ä¼ è¾“å¯â»…ã€‚</li><li>ä¼ è¾“é€Ÿåº¦ï¼šæ™ºèƒ½åè®®â½å“‘åè®®ä¼ è¾“é€Ÿåº¦å¿«ã€‚</li></ul><p>åˆ›å»ºç”¨ä½œå¤‡ä»½çš„è£¸ä»“åº“ï¼Œé€šå¸¸ä½äºè¿œç«¯</p><ul><li><p>å“‘åè®®å…‹éš†ä¸€ä¸ªä¸å¸¦å·¥ä½œåŒºçš„ï¼ˆbareï¼‰è£¸ä»“åº“ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone --bare /Users/michael/Code/Git-Geek/git_learning</span><br></pre></td></tr></table></figure></li><li><p>æ™ºèƒ½åè®®å…‹éš†ä¸€ä¸ªè£¸ä»“åº“å¹¶é‡å‘½åï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># /Users/michael/Code/Git-Geek/666-backup/zhineng.git</span><br><span class="line">git clone --bare file:///Users/michael/Code/Git-Geek/git_learning/.git zhineng.git</span><br></pre></td></tr></table></figure></li></ul><p>ä¸ºäº†å°†æœ¬åœ°å·¥ä½œä»“åº“å¤‡ä»½åˆ°è¿œç«¯ä»“åº“ï¼Œä¸‹é¢ï¼Œåˆ‡åˆ°ä¹‹å‰çš„å·¥ä½œä»“åº“ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># /Users/michael/Code/Git-Geek/git_learning</span><br><span class="line">git remote -v # å‘ç°æ²¡æœ‰å…³è”çš„è¿œç«¯ä»“åº“</span><br><span class="line">git remote add zhineng file:///Users/michael/Code/Git-Geek/666-backup/zhineng.git # å‘ç”Ÿå…³è”äº†</span><br><span class="line">git push zhineng</span><br></pre></td></tr></table></figure></p><p><code>file:///Users/michael/Code/Git-Geek/666-backup/zhineng.git</code> å°±æ˜¯è¡¨ç¤ºçš„è¿œç«¯å¤‡ä»½ä»“åº“åœ°å€ã€‚</p><p>ä»è¿œç«¯å¤‡ä»½ä»“åº“å…‹éš†ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone file:///Users/michael/Code/Git-Geek/666-backup/zhineng.git git_learnging_2019</span><br></pre></td></tr></table></figure></p><h2 id="ä»ä¸€ä¸ª-Git-ä»“åº“æ¬è¿åˆ°å¦å¤–ä¸€ä¸ª-Git-ä»“åº“ä¸­"><a href="#ä»ä¸€ä¸ª-Git-ä»“åº“æ¬è¿åˆ°å¦å¤–ä¸€ä¸ª-Git-ä»“åº“ä¸­" class="headerlink" title="ä»ä¸€ä¸ª Git ä»“åº“æ¬è¿åˆ°å¦å¤–ä¸€ä¸ª Git ä»“åº“ä¸­"></a>ä»ä¸€ä¸ª Git ä»“åº“æ¬è¿åˆ°å¦å¤–ä¸€ä¸ª Git ä»“åº“ä¸­</h2><ol><li>æ–°å»ºä¸€ä¸ªç©ºä»“åº“Bï¼Œæ³¨æ„ï¼Œä¸è¦å‹¾é€‰ç”Ÿæˆ <code>README.md</code> æ–‡ä»¶ï¼›</li><li><code>git  clone --bare Aä»“åº“</code></li><li><code>git push  --mirror Bä»“åº“</code></li></ol><p>è¿™ç§æ–¹å¼æœ€æ–¹ä¾¿ï¼Œä¸€æ¬¡æ€§æŠŠåˆ†æ”¯ã€tagã€commit è®°å½•éƒ½åŒæ­¥è¿‡å»äº†</p><p>å‚è€ƒï¼š</p><ul><li><a href="https://blog.csdn.net/samxx8/article/details/72329002" target="_blank" rel="noopener">ä»ä¸€ä¸ªgitä»“åº“è¿ç§»åˆ°å¦å¤–ä¸€ä¸ªgitä»“åº“</a></li></ul><h2 id="æœ¬åœ°ä»£ç åº“å…³è”åˆ°å¦å¤–çš„ä¸€ä¸ªä»£ç åº“"><a href="#æœ¬åœ°ä»£ç åº“å…³è”åˆ°å¦å¤–çš„ä¸€ä¸ªä»£ç åº“" class="headerlink" title="æœ¬åœ°ä»£ç åº“å…³è”åˆ°å¦å¤–çš„ä¸€ä¸ªä»£ç åº“"></a>æœ¬åœ°ä»£ç åº“å…³è”åˆ°å¦å¤–çš„ä¸€ä¸ªä»£ç åº“</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cd existing_repo</span><br><span class="line">git remote rename origin old-origin</span><br><span class="line">git remote add origin ssh://git@github.com:2222/Michael/my-config-files.git</span><br><span class="line">git push -u origin --all</span><br><span class="line">git push -u origin --tags</span><br></pre></td></tr></table></figure><h2 id="Git-FAQ"><a href="#Git-FAQ" class="headerlink" title="Git FAQ"></a>Git FAQ</h2><h3 id="git-mergeå’Œgit-rebaseçš„åŒºåˆ«"><a href="#git-mergeå’Œgit-rebaseçš„åŒºåˆ«" class="headerlink" title="git mergeå’Œgit rebaseçš„åŒºåˆ«"></a>git mergeå’Œgit rebaseçš„åŒºåˆ«</h3><p>rebase è·Ÿ merge çš„åŒºåˆ«ä½ ä»¬å¯ä»¥ç†è§£æˆæœ‰ä¸¤ä¸ªä¹¦æ¶ï¼Œä½ éœ€è¦æŠŠä¸¤ä¸ªä¹¦æ¶çš„ä¹¦æ•´ç†åˆ°ä¸€èµ·å»ï¼Œç¬¬ä¸€ç§åšæ³•æ˜¯ merge ï¼Œæ¯”è¾ƒç²—é²æš´åŠ›ï¼Œå°±ç›´æ¥è…¾å‡ºä¸€å—åœ°æ–¹æŠŠå¦ä¸€ä¸ªä¹¦æ¶çš„ä¹¦å…¨éƒ¨æ”¾è¿›å»ï¼Œè™½ç„¶æš´åŠ›ï¼Œä½†æ˜¯è¿™ç§åšæ³•ä½ å¯ä»¥çŸ¥é“å“ªäº›ä¹¦æ˜¯æ¥è‡ªå¦ä¸€ä¸ªä¹¦æ¶çš„ï¼›ç¬¬äºŒç§åšæ³•å°±æ˜¯rebase ï¼Œä»–ä¼šæŠŠä¸¤ä¸ªä¹¦æ¶çš„ä¹¦å…ˆè¿›è¡Œæ¯”è¾ƒï¼ŒæŒ‰ç…§è´­ä¹¦çš„æ—¶é—´æ¥ç»™ä»–é‡æ–°æ’åºï¼Œç„¶åé‡æ–°æ”¾ç½®å¥½ï¼Œè¿™æ ·åšçš„å¥½å¤„å°±æ˜¯åˆå¹¶ä¹‹åçš„ä¹¦æ¶çœ‹èµ·æ¥å¾ˆæœ‰é€»è¾‘ï¼Œä½†æ˜¯ä½ å¾ˆéš¾æ¸…æ™°çš„çŸ¥é“å“ªäº›ä¹¦æ¥è‡ªå“ªä¸ªä¹¦æ¶çš„ã€‚</p><p>åªèƒ½è¯´å„æœ‰å¥½å¤„çš„ï¼Œä¸åŒçš„å›¢é˜Ÿæ ¹æ®ä¸åŒçš„éœ€è¦ä»¥åŠä¸åŒçš„ä¹ æƒ¯æ¥é€‰æ‹©å°±å¥½ã€‚</p><p>rebase å’Œ merge çš„å¦ä¸€ä¸ªåŒºåˆ«æ˜¯rebase çš„å†²çªæ˜¯ä¸€ä¸ªä¸€ä¸ªè§£å†³ï¼Œå¦‚æœæœ‰åä¸ªå†²çªï¼Œå…ˆè§£å†³ç¬¬ä¸€ä¸ªï¼Œç„¶åç”¨å‘½ä»¤</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git add -u</span><br><span class="line">git rebase --continue</span><br></pre></td></tr></table></figure><p>ç»§ç»­åæ‰ä¼šå‡ºç°ç¬¬äºŒä¸ªå†²çªï¼Œç›´åˆ°æ‰€æœ‰å†²çªè§£å†³å®Œï¼Œè€Œmerge æ˜¯æ‰€æœ‰çš„å†²çªéƒ½ä¼šæ˜¾ç¤ºå‡ºæ¥ã€‚</p><p>å¦å¤–å¦‚æœrebaseè¿‡ç¨‹ä¸­ï¼Œä½ æƒ³ä¸­é€”é€€å‡ºï¼Œæ¢å¤ rebase å‰çš„ä»£ç åˆ™å¯ä»¥ç”¨å‘½ä»¤</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git rebase --abort</span><br></pre></td></tr></table></figure><p>å…³äº<code>git rebase</code>è¿˜æœ‰å¾ˆå¤šçŸ¥è¯†ç‚¹ï¼š</p><ul><li><a href="https://www.cnblogs.com/wangiqngpei557/p/5989292.html" target="_blank" rel="noopener">èŠä¸‹git rebase -i</a></li><li><a href="https://blog.csdn.net/wh_19910525/article/details/7554489" target="_blank" rel="noopener">git merge å’Œ git rebase å°ç»“</a></li><li><a href="http://gitbook.liuhui998.com/4_2.html" target="_blank" rel="noopener">Git Community Book ä¸­æ–‡ç‰ˆ-rebase</a></li><li><a href="https://www.cnblogs.com/wangdaijun/p/5956129.html" target="_blank" rel="noopener">å‹ç¼©å¤šä¸ªCommit</a></li><li><a href="https://www.jianshu.com/p/964de879904a" target="_blank" rel="noopener">åˆå¹¶å¤šä¸ª Commit</a></li></ul><h2 id="å…¶ä»–èµ„æ–™"><a href="#å…¶ä»–èµ„æ–™" class="headerlink" title="å…¶ä»–èµ„æ–™"></a>å…¶ä»–èµ„æ–™</h2><ul><li><a href="https://www.ibm.com/developerworks/cn/opensource/os-cn-git-and-github-4/index.html?ca=drs-" target="_blank" rel="noopener">IBM-Git è¿›é˜¶ï¼šæ¯”è¾ƒã€å›æ»šã€æ’¤é”€ã€åˆ†æ”¯åˆå¹¶å’Œå†²çªè§£å†³</a></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Git-åŸºç¡€å­¦ä¹ ç³»åˆ—&quot;&gt;&lt;a href=&quot;#Git-åŸºç¡€å­¦ä¹ ç³»åˆ—&quot; class=&quot;headerlink&quot; title=&quot;Git åŸºç¡€å­¦ä¹ ç³»åˆ—&quot;&gt;&lt;/a&gt;Git åŸºç¡€å­¦ä¹ ç³»åˆ—&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://michael728.gith
      
    
    </summary>
    
      <category term="ToolsDev" scheme="https://michael728.github.io/categories/ToolsDev/"/>
    
    
      <category term="ss" scheme="https://michael728.github.io/tags/ss/"/>
    
      <category term="vps" scheme="https://michael728.github.io/tags/vps/"/>
    
  </entry>
  
  <entry>
    <title>Git åŸºç¡€ â€”â€” å¸¸ç”¨å‘½ä»¤</title>
    <link href="https://michael728.github.io/2019/11/14/git-useful-commands/"/>
    <id>https://michael728.github.io/2019/11/14/git-useful-commands/</id>
    <published>2019-11-14T19:21:24.000Z</published>
    <updated>2020-01-05T15:47:56.116Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Git-åŸºç¡€å­¦ä¹ ç³»åˆ—"><a href="#Git-åŸºç¡€å­¦ä¹ ç³»åˆ—" class="headerlink" title="Git åŸºç¡€å­¦ä¹ ç³»åˆ—"></a>Git åŸºç¡€å­¦ä¹ ç³»åˆ—</h2><ul><li><a href="https://michael728.github.io/2019/11/14/git-install-config/">Git åŸºç¡€ â€”â€” å®‰è£… é…ç½® åˆ«å å¯¹è±¡</a></li><li><a href="https://michael728.github.io/2019/11/14/git-useful-commands/">Git åŸºç¡€ â€”â€” å¸¸ç”¨å‘½ä»¤</a></li><li><a href="https://michael728.github.io/2019/11/14/git-usage-examples/">Git åŸºç¡€ â€”â€” å¸¸è§ä½¿ç”¨åœºæ™¯</a></li><li><a href="https://michael728.github.io/2019/11/14/git-github-experiance/">GitåŸºç¡€ â€”â€” Github çš„ä½¿ç”¨</a></li></ul><h2 id="git-init"><a href="#git-init" class="headerlink" title="git init"></a>git init</h2><p>åˆ›å»º Git æœ¬åœ°ä»“åº“</p><h3 id="è¿œç«¯æ— ä»“åº“ï¼Œæœ¬åœ°æ— ä»“åº“ï¼Œæœ¬åœ°æ–°å»ºä¸€ä¸ªä»“åº“"><a href="#è¿œç«¯æ— ä»“åº“ï¼Œæœ¬åœ°æ— ä»“åº“ï¼Œæœ¬åœ°æ–°å»ºä¸€ä¸ªä»“åº“" class="headerlink" title="è¿œç«¯æ— ä»“åº“ï¼Œæœ¬åœ°æ— ä»“åº“ï¼Œæœ¬åœ°æ–°å»ºä¸€ä¸ªä»“åº“"></a>è¿œç«¯æ— ä»“åº“ï¼Œæœ¬åœ°æ— ä»“åº“ï¼Œæœ¬åœ°æ–°å»ºä¸€ä¸ªä»“åº“</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git init git_learning</span><br></pre></td></tr></table></figure><h3 id="è¿œç«¯æœ‰ä»“åº“ï¼Œæœ¬åœ°æ— ä»“åº“ï¼Œæ‹‰å–è¿œç«¯ä»“åº“åˆ°æœ¬åœ°"><a href="#è¿œç«¯æœ‰ä»“åº“ï¼Œæœ¬åœ°æ— ä»“åº“ï¼Œæ‹‰å–è¿œç«¯ä»“åº“åˆ°æœ¬åœ°" class="headerlink" title="è¿œç«¯æœ‰ä»“åº“ï¼Œæœ¬åœ°æ— ä»“åº“ï¼Œæ‹‰å–è¿œç«¯ä»“åº“åˆ°æœ¬åœ°"></a>è¿œç«¯æœ‰ä»“åº“ï¼Œæœ¬åœ°æ— ä»“åº“ï¼Œæ‹‰å–è¿œç«¯ä»“åº“åˆ°æœ¬åœ°</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">git clone git@github.com:Michael728/michael-git.git</span><br><span class="line">cd michael-git</span><br><span class="line"># æäº¤ä¸€ä¸ª readme æ–‡ä»¶</span><br><span class="line">touch README.md</span><br><span class="line">git add README.md</span><br><span class="line">git commit -m &quot;add README&quot;</span><br><span class="line">git push -u origin master</span><br></pre></td></tr></table></figure><h3 id="è¿œç«¯æœ‰ç©ºä»“åº“ï¼Œæœ¬åœ°å·²æœ‰é¡¹ç›®æ–‡ä»¶ï¼Œå…³è”è¿œç«¯ä»“åº“"><a href="#è¿œç«¯æœ‰ç©ºä»“åº“ï¼Œæœ¬åœ°å·²æœ‰é¡¹ç›®æ–‡ä»¶ï¼Œå…³è”è¿œç«¯ä»“åº“" class="headerlink" title="è¿œç«¯æœ‰ç©ºä»“åº“ï¼Œæœ¬åœ°å·²æœ‰é¡¹ç›®æ–‡ä»¶ï¼Œå…³è”è¿œç«¯ä»“åº“"></a>è¿œç«¯æœ‰ç©ºä»“åº“ï¼Œæœ¬åœ°å·²æœ‰é¡¹ç›®æ–‡ä»¶ï¼Œå…³è”è¿œç«¯ä»“åº“</h3><p>æŸ¥çœ‹æˆ‘ä»¬å½“å‰é¡¹ç›®æœ‰å“ªäº›è¿œç¨‹ä»“åº“å¯ä»¥æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote -v</span><br></pre></td></tr></table></figure></p><p>å¦‚æœå‘ç°æ²¡æœ‰å…³è”è¿œç«¯ä»“åº“ï¼Œå¯ä»¥è¿™ä¹ˆåšï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cd micahel-git</span><br><span class="line">git init #  å¦‚æœæœ¬åœ°å·²ç»æ˜¯ä¸€ä¸ª Git ä»“åº“ï¼Œè¿™è¡Œå°±è·³è¿‡</span><br><span class="line">git remote add origin git@github.com:Michael728/michael-git.git # æ·»åŠ ä¸€ä¸ªè¿œç«¯ä¸»æœºï¼Œå¹¶å‘½åä¸º origin</span><br><span class="line">git push -u origin --all # --all è¡¨ç¤º push all branchesï¼Œ-u é€‰é¡¹æŒ‡å®šäº†ä¸€ä¸ªé»˜è®¤ä¸»æœº</span><br><span class="line">git push -u origin --tags # --tags All refs under refs/tags are pushed</span><br></pre></td></tr></table></figure></p><p>å°†æœ¬åœ°çš„<code>master</code>åˆ†æ”¯æ¨é€åˆ°<code>origin</code>ä¸»æœºï¼ŒåŒæ—¶æŒ‡å®š<code>origin</code>ä¸ºé»˜è®¤ä¸»æœºï¼Œåé¢å°±å¯ä»¥ä¸è¦å†æŒ‡å®šè¿œç«¯ä¸»æœºå <code>origin</code> äº†ï¼Œç›´æ¥ä½¿ç”¨<code>git push</code>ã€‚</p><p>è¿œç«¯ä¸»æœºåå¯ä»¥å®šä¹‰ä¸ºå…¶ä»–ï¼Œæ¯”å¦‚ <code>github</code>ã€‚é€šè¿‡ <code>git remote add</code> å‘½ä»¤ï¼Œä¸€ä¸ªä»“åº“å…¶å®å¯ä»¥ä¸å¤šä¸ªè¿œç«¯ä»“åº“å‘ç”Ÿå…³è”çš„ï¼Œè¿™æ—¶å€™åªè¦è¿œç«¯ä¸»æœºåå–ä¸ä¸€æ ·çš„å³å¯åŒºåˆ«ã€‚ä¸ºä»€ä¹ˆè¦ç»™è¿œç¨‹ä»“åº“å–åå­—ï¼Ÿå› ä¸ºæˆ‘ä»¬å¯èƒ½ä¸€ä¸ªé¡¹ç›®æœ‰å¤šä¸ªè¿œç¨‹ä»“åº“ï¼Œæ¯”å¦‚ï¼ŒGithubä¸€ä¸ªï¼Œæ¯”å¦‚å…¬å¸ä¸€ä¸ªï¼Œè¿™æ ·çš„è¯ï¼Œæäº¤çš„æ—¶å€™å¯ä»¥æäº¤åˆ°ä¸åŒçš„è¿œç¨‹ä»“åº“å°±éœ€è¦æŒ‡å®šä¸åŒçš„ä»“åº“åå­—äº†ã€‚</p><p>å‚è€ƒï¼š</p><ul><li><a href="https://www.zhihu.com/question/20019419" target="_blank" rel="noopener">git push çš„ -u å‚æ•°å…·ä½“é€‚åˆå«ä¹‰ï¼Ÿ</a></li><li><a href="http://www.ruanyifeng.com/blog/2014/06/git_remote.html" target="_blank" rel="noopener">Gitè¿œç¨‹æ“ä½œè¯¦è§£</a></li></ul><h2 id="git-clone"><a href="#git-clone" class="headerlink" title="git clone"></a>git clone</h2><p>ä¸‹è½½ä¸€ä¸ªè¿œç¨‹ä»“åº“ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone [-b br_name] &lt;git@github.com:Michael728/michael-git.git&gt; [æœ¬åœ°ä»“åº“å]</span><br></pre></td></tr></table></figure></p><p>å…‹éš†çš„æ—¶å€™ï¼Œå¯ä»¥æŒ‡å®šä¸‹è½½è¿œç«¯çš„åˆ†æ”¯ã€è‡ªå®šä¹‰æœ¬åœ°ä»“åº“çš„åå­—ã€‚å¦‚æœä¸åŠ åˆ†æ”¯åå‚æ•°ï¼Œ<code>git clone</code> å‘½ä»¤ä¼šé»˜è®¤è‡ªåŠ¨è®¾ç½®æœ¬åœ° <code>master</code> åˆ†æ”¯è·Ÿè¸ªå…‹éš†çš„è¿œç¨‹ä»“åº“çš„ <code>master</code> åˆ†æ”¯ï¼ˆå…¶å®æ˜¯ä»“åº“çš„é»˜è®¤åˆ†æ”¯ï¼Œå¤§éƒ¨åˆ†ä»“åº“é»˜è®¤åˆ†æ”¯æ˜¯ masterï¼‰ã€‚åŒæ—¶ï¼Œé»˜è®¤è¿œç«¯ä¸»æœºè®¾ç½®åˆ«åä¸º <code>origin</code>ã€‚</p><h2 id="git-mv"><a href="#git-mv" class="headerlink" title="git mv"></a>git mv</h2><p>æ–‡ä»¶é‡å‘½åï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git mv &lt;old filename&gt; &lt;new filename&gt;</span><br></pre></td></tr></table></figure></p><h2 id="git-branch"><a href="#git-branch" class="headerlink" title="git branch"></a>git branch</h2><ul><li><code>git branch -r</code> åªæ˜¾ç¤ºè¿œç«¯åˆ†æ”¯ï¼Œ</li><li><code>git branch -a</code> æ˜¾ç¤ºæœ¬åœ°åˆ†æ”¯å’Œè¿œç¨‹åˆ†æ”¯</li></ul><h3 id="æ–°å»ºåˆ†æ”¯"><a href="#æ–°å»ºåˆ†æ”¯" class="headerlink" title="æ–°å»ºåˆ†æ”¯"></a>æ–°å»ºåˆ†æ”¯</h3><p>æ–°å»º develop åˆ†æ”¯ï¼Œå¹¶åˆ‡æ¢åˆ° develop åˆ†æ”¯ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git branch develop</span><br><span class="line">git checkout develop</span><br><span class="line"># æ–°å»ºå¹¶åˆ‡æ¢åˆ†æ”¯</span><br><span class="line">git checkout -b develop</span><br></pre></td></tr></table></figure></p><h3 id="æœ¬åœ°åˆ†æ”¯æ¨é€åˆ°è¿œç«¯ä»“åº“"><a href="#æœ¬åœ°åˆ†æ”¯æ¨é€åˆ°è¿œç«¯ä»“åº“" class="headerlink" title="æœ¬åœ°åˆ†æ”¯æ¨é€åˆ°è¿œç«¯ä»“åº“"></a>æœ¬åœ°åˆ†æ”¯æ¨é€åˆ°è¿œç«¯ä»“åº“</h3><p>æœ¬åœ°åˆ†æ”¯æ¨é€åˆ°è¿œç¨‹æœåŠ¡å™¨æ—¶ï¼Œè¿œç¨‹åˆ†æ”¯è‡ªåŠ¨åˆ›å»ºï¼Œæ¨é€æœ¬åœ°åˆ†æ”¯åˆ°è¿œç¨‹ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push --set-upstream &lt;remote_host_name&gt; &lt;local_branch_name&gt;:&lt;remote_branch_name&gt;</span><br></pre></td></tr></table></figure></p><ul><li><code>&lt;remote_host_name&gt;</code>ï¼šè¿œç¨‹ Git æœåŠ¡å™¨åç§°ï¼Œä¸€èˆ¬ä¸º<code>origin</code></li><li><code>&lt;local_branch_name&gt;</code>ï¼šæœ¬åœ°åˆ†æ”¯åç§°</li><li><code>&lt;remote_branch_name&gt;</code>ï¼šè¿œç¨‹åˆ†æ”¯åç§°</li><li><code>--set-upstream</code>å‚æ•°ç”¨æ¥å…³è”æœ¬åœ°åˆ†æ”¯å’Œè¿œç¨‹åˆ†æ”¯</li></ul><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæœ¬åœ°åˆ†æ”¯å’Œè¿œç¨‹åˆ†æ”¯åç§°ç›¸åŒï¼Œæ‰€ä»¥å¯ç®€åŒ–ä¸ºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push --set-upstream &lt;remote_host_name&gt; &lt;branch_name&gt;</span><br></pre></td></tr></table></figure><p>å‚è€ƒï¼š</p><ul><li><a href="https://majing.io/questions/718" target="_blank" rel="noopener">Gitåˆ›å»ºè¿œç¨‹åˆ†æ”¯</a></li><li><a href="http://www.ruanyifeng.com/blog/2014/06/git_remote.html" target="_blank" rel="noopener">é˜®ä¸€å³°â€“Gitè¿œç¨‹æ“ä½œè¯¦è§£</a></li></ul><h3 id="æŸ¥çœ‹æœ¬åœ°åˆ†æ”¯ï¼š"><a href="#æŸ¥çœ‹æœ¬åœ°åˆ†æ”¯ï¼š" class="headerlink" title="æŸ¥çœ‹æœ¬åœ°åˆ†æ”¯ï¼š"></a>æŸ¥çœ‹æœ¬åœ°åˆ†æ”¯ï¼š</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git branch # æŸ¥çœ‹æœ¬åœ°åˆ†æ”¯</span><br><span class="line">git branch -r # æŸ¥çœ‹è¿œç«¯åˆ†æ”¯</span><br><span class="line">git branh -av # æŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯ï¼Œä¿¡æ¯è¯¦ç»†ç‚¹</span><br></pre></td></tr></table></figure><h3 id="åˆ é™¤åˆ†æ”¯ï¼š"><a href="#åˆ é™¤åˆ†æ”¯ï¼š" class="headerlink" title="åˆ é™¤åˆ†æ”¯ï¼š"></a>åˆ é™¤åˆ†æ”¯ï¼š</h3><p>åˆ é™¤æœ¬åœ°åˆ†æ”¯ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git branch -d develop</span><br><span class="line">git branch -D develop # å¼ºåˆ¶åˆ é™¤</span><br></pre></td></tr></table></figure></p><p>åˆ é™¤è¿œç¨‹åˆ†æ”¯ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git push origin :&lt;remote_branch_name&gt;</span><br><span class="line"># å’Œå¦‚ä¸‹å‘½ä»¤ç­‰åŒ</span><br><span class="line">git push origin --delete &lt;remote_branch_name&gt;</span><br></pre></td></tr></table></figure></p><h2 id="git-add"><a href="#git-add" class="headerlink" title="git add"></a>git add</h2><p>å¤šä¸ªåœºæ™¯ä¼šç”¨åˆ°è¿™ä¸ªå‘½ä»¤:</p><ul><li>å¯ä»¥ç”¨å®ƒå¼€å§‹è·Ÿè¸ªæ–°æ–‡ä»¶</li><li>æŠŠå·²è·Ÿè¸ªçš„æ–‡ä»¶æ”¾åˆ°æš‚å­˜åŒº</li><li>è¿˜èƒ½ç”¨äºåˆå¹¶æ—¶æŠŠæœ‰å†²çªçš„æ–‡ä»¶æ ‡è®°ä¸ºå·²è§£å†³çŠ¶æ€ï¼Œè¿™ä¸ªæ˜¯åœ¨è§£å†³å†²çªæ—¶ä¼šç”¨åˆ°çš„åŠŸèƒ½</li></ul><p>å¸¸ç”¨å‘½ä»¤ï¼š</p><ul><li><code>git add -u</code>ï¼šå°†æ–‡ä»¶çš„ä¿®æ”¹ã€æ–‡ä»¶çš„åˆ é™¤ï¼Œæ·»åŠ åˆ°æš‚å­˜åŒºï¼Œç”¨<code>-u</code>æœ‰ä¸ªå¥½å¤„ï¼Œé¿å…æŠŠå·¥ä½œåŒºæ²¡å‡†å¤‡å¥½çš„æ–°æ–‡ä»¶ç›´æ¥åŠ åˆ°æš‚å­˜åŒºäº†ï¼Œç”¨çš„è¾ƒå¤šï¼›</li><li><code>git add .</code>ï¼šå°†æ–‡ä»¶çš„ä¿®æ”¹ï¼Œæ–‡ä»¶çš„æ–°å»ºï¼Œæ·»åŠ åˆ°æš‚å­˜åŒºï¼Œæ…ç”¨ï¼›</li><li><code>git add -A/--all</code>ï¼šå°†æ–‡ä»¶çš„ä¿®æ”¹ï¼Œæ–‡ä»¶çš„åˆ é™¤ï¼Œæ–‡ä»¶çš„æ–°å»ºï¼Œæ·»åŠ åˆ°æš‚å­˜åŒºï¼Œæ…ç”¨ï¼›</li></ul><p><code>git add -A</code>ç›¸å¯¹äº<code>git add -u</code>å‘½ä»¤çš„ä¼˜ç‚¹ ï¼š å¯ä»¥æäº¤æ‰€æœ‰è¢«åˆ é™¤ã€è¢«æ›¿æ¢ã€è¢«ä¿®æ”¹å’Œæ–°å¢çš„æ–‡ä»¶åˆ°æ•°æ®æš‚å­˜åŒºï¼Œè€Œ<code>git add -u</code>åªèƒ½æ“ä½œè·Ÿè¸ªè¿‡çš„æ–‡ä»¶ã€‚</p><h2 id="git-diff"><a href="#git-diff" class="headerlink" title="git diff"></a>git diff</h2><h3 id="æ¯”è¾ƒå·¥ä½œåŒºå’Œæš‚å­˜åŒºçš„å·®å¼‚"><a href="#æ¯”è¾ƒå·¥ä½œåŒºå’Œæš‚å­˜åŒºçš„å·®å¼‚" class="headerlink" title="æ¯”è¾ƒå·¥ä½œåŒºå’Œæš‚å­˜åŒºçš„å·®å¼‚"></a>æ¯”è¾ƒå·¥ä½œåŒºå’Œæš‚å­˜åŒºçš„å·®å¼‚</h3><p>å°†å·¥ä½œåŒºå’Œæš‚å­˜åŒºæ‰€æœ‰æ–‡ä»¶è¿›è¡Œæ¯”è¾ƒï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git diff</span><br></pre></td></tr></table></figure></p><p>åªå¯¹æŸäº›æ–‡ä»¶å’Œæš‚å­˜åŒºè¿›è¡Œæ¯”è¾ƒï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git diff -- README.md [filename ...]</span><br></pre></td></tr></table></figure></p><h3 id="æ¯”è¾ƒæš‚å­˜åŒºå’Œ-HEAD-ä¹‹é—´çš„å·®å¼‚"><a href="#æ¯”è¾ƒæš‚å­˜åŒºå’Œ-HEAD-ä¹‹é—´çš„å·®å¼‚" class="headerlink" title="æ¯”è¾ƒæš‚å­˜åŒºå’Œ HEAD ä¹‹é—´çš„å·®å¼‚"></a>æ¯”è¾ƒæš‚å­˜åŒºå’Œ HEAD ä¹‹é—´çš„å·®å¼‚</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git diff --cached</span><br><span class="line"># æˆ–è€…</span><br><span class="line">git diff --staged</span><br></pre></td></tr></table></figure><h3 id="æ¯”è¾ƒçš„æ˜¯å·¥ä½œåŒºå’ŒHEADä¹‹é—´çš„å·®å¼‚"><a href="#æ¯”è¾ƒçš„æ˜¯å·¥ä½œåŒºå’ŒHEADä¹‹é—´çš„å·®å¼‚" class="headerlink" title="æ¯”è¾ƒçš„æ˜¯å·¥ä½œåŒºå’ŒHEADä¹‹é—´çš„å·®å¼‚"></a>æ¯”è¾ƒçš„æ˜¯å·¥ä½œåŒºå’ŒHEADä¹‹é—´çš„å·®å¼‚</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git diff HEAD</span><br></pre></td></tr></table></figure><h3 id="æ¯”è¾ƒä¸¤ä¸ªåˆ†æ”¯çš„å·®å¼‚"><a href="#æ¯”è¾ƒä¸¤ä¸ªåˆ†æ”¯çš„å·®å¼‚" class="headerlink" title="æ¯”è¾ƒä¸¤ä¸ªåˆ†æ”¯çš„å·®å¼‚"></a>æ¯”è¾ƒä¸¤ä¸ªåˆ†æ”¯çš„å·®å¼‚</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git diff master temp</span><br></pre></td></tr></table></figure><p>åªå…³å¿ƒè¿™ä¸¤ä¸ªåˆ†æ”¯ä¸­æŸä¸ªæ–‡ä»¶çš„å·®å¼‚ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git diff master temp -- index.html</span><br></pre></td></tr></table></figure></p><p>å…¶å®ï¼Œåˆ†æ”¯åå°±æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œå°±æ˜¯ä¸€ç§å¼•ç”¨ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ commit id æ¯”è¾ƒï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git diff 622a8 7e7a -- index.html</span><br></pre></td></tr></table></figure></p><p>æ³¨æ„äº†ï¼š<code>git diff A B</code> æ¯”è¾ƒçš„ç»“æœå¯ä»¥çœ‹åšæ˜¯ <code>B-A</code> çš„å·®é›†ï¼Œè°ƒæ¢ <code>A B</code> é¡ºåºï¼Œæ­£è´Ÿå·ä¼šæœ‰å˜åŒ–çš„ã€‚</p><h2 id="git-reset"><a href="#git-reset" class="headerlink" title="git reset"></a>git reset</h2><h3 id="æš‚å­˜åŒºæ–‡ä»¶çš„æ¢å¤"><a href="#æš‚å­˜åŒºæ–‡ä»¶çš„æ¢å¤" class="headerlink" title="æš‚å­˜åŒºæ–‡ä»¶çš„æ¢å¤"></a>æš‚å­˜åŒºæ–‡ä»¶çš„æ¢å¤</h3><p>æš‚å­˜åŒºå…¨éƒ¨æ–‡ä»¶æ¢å¤æˆå’Œ HEAD ä¸€æ ·ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset HEAD</span><br></pre></td></tr></table></figure></p><ul><li>reset å‘½ä»¤ä¸åŠ  â€“hardï¼Œåˆ™æš‚å­˜åŒºçš„å†…å®¹æ¢å¤æˆHEADå¯¹åº”çš„å†…å®¹ï¼Œå·¥ä½œåŒºçš„å˜æ›´ç»§ç»­ä¿ç•™ï¼›</li><li>å¦‚æœåŠ äº† â€“hardï¼Œåˆ™ä¸ç®¡å·¥ä½œåŒºè¿˜æ˜¯æš‚å­˜åŒºï¼Œå†…å®¹éƒ½å˜å›HEADå¯¹åº”çš„å†…å®¹ï¼Œå±é™©çš„å‘½ä»¤ï¼Œä¼šè®©ä½ åœ¨å·¥ä½œåŒºçš„ä¿®æ”¹ä¸¢å¤±ï¼›</li></ul><p><code>git reset</code> æœ‰ä¸‰ä¸ªå‚æ•°ï¼š</p><ul><li><code>--soft</code> è¿™ä¸ªåªæ˜¯æŠŠ HEAD æŒ‡å‘çš„ commit æ¢å¤åˆ°ä½ æŒ‡å®šçš„ commitï¼Œæš‚å­˜åŒº å·¥ä½œåŒºä¸å˜</li><li><code>--hard</code> è¿™ä¸ªæ˜¯ æŠŠ HEADï¼Œ æš‚å­˜åŒºï¼Œ å·¥ä½œåŒº éƒ½ä¿®æ”¹ä¸º ä½ æŒ‡å®šçš„ commit çš„æ—¶å€™çš„æ–‡ä»¶çŠ¶æ€</li><li><code>--mixed</code> è¿™ä¸ªæ˜¯ä¸åŠ æ—¶å€™çš„é»˜è®¤å‚æ•°ï¼ŒæŠŠ HEADï¼Œæš‚å­˜åŒº ä¿®æ”¹ä¸º ä½ æŒ‡å®šçš„ commit çš„æ—¶å€™çš„æ–‡ä»¶çŠ¶æ€ï¼Œå·¥ä½œåŒºä¿æŒä¸å˜</li></ul><p>æ€æ ·å–æ¶ˆæš‚å­˜åŒºéƒ¨åˆ†æ–‡ä»¶çš„ä¿®æ”¹ï¼Ÿ<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset HEAD style.css</span><br></pre></td></tr></table></figure></p><h3 id="å°†å·¥ä½œåŒºå’Œæš‚å­˜åŒºä¿æŒä¸€è‡´"><a href="#å°†å·¥ä½œåŒºå’Œæš‚å­˜åŒºä¿æŒä¸€è‡´" class="headerlink" title="å°†å·¥ä½œåŒºå’Œæš‚å­˜åŒºä¿æŒä¸€è‡´"></a>å°†å·¥ä½œåŒºå’Œæš‚å­˜åŒºä¿æŒä¸€è‡´</h3><p>æœ‰æ—¶å€™ä¿®æ”¹äº†æ–‡ä»¶ï¼Œå·²ç»ä¿å­˜åˆ°æš‚å­˜åŒºï¼Œä¹‹ååˆåœ¨å·¥ä½œåŒºè¿›è¡Œäº†ä¿®æ”¹ï¼Œæ­¤æ—¶ï¼Œå‘ç°å·¥ä½œçš„æ•ˆæœä¸å¦‚æš‚å­˜åŒºçš„æ•ˆæœå¥½ï¼Œæƒ³è¦å°†å·¥ä½œåŒºå’Œæš‚å­˜åŒºä¿æŒä¸€è‡´ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout -- &lt;file&gt;...</span><br></pre></td></tr></table></figure><p>å…¶å®ï¼Œ<code>git status</code> éƒ½æœ‰å‹å¥½çš„æç¤ºçš„ï¼š<br><img src="https://ws3.sinaimg.cn/large/006tNc79ly1fzc741ckucj30yc0c8771.jpg" alt></p><ul><li>å¦‚æœæƒ³è¦å˜æ›´å·¥ä½œåŒºçš„å†…å®¹ï¼Œé‚£ä¹ˆè¦æƒ³åˆ°å’Œ <code>checkout</code> å‘½ä»¤ç›¸å…³ï¼›</li><li>å¦‚æœæƒ³è¦å˜æ›´æš‚å­˜åŒºçš„å†…å®¹ï¼Œé‚£ä¹ˆè¦æƒ³åˆ°å’Œ<code>reset</code> å‘½ä»¤ç›¸å…³ï¼›</li></ul><h3 id="æ¶ˆé™¤æœ€è¿‘çš„å‡ æ¬¡æäº¤"><a href="#æ¶ˆé™¤æœ€è¿‘çš„å‡ æ¬¡æäº¤" class="headerlink" title="æ¶ˆé™¤æœ€è¿‘çš„å‡ æ¬¡æäº¤"></a>æ¶ˆé™¤æœ€è¿‘çš„å‡ æ¬¡æäº¤</h3><p>ä¸¢å¼ƒä¸€äº› commitï¼Œç›´æ¥HEAD æŒ‡å‘äº†ä½ æŒ‡å®šçš„æŸä¸ª commitï¼ŒåŒæ—¶ï¼Œæš‚å­˜åŒºå’Œå·¥ä½œåŒºä¹Ÿæ¢å¤åˆ°å“ªä¸ª commit æ—¶çš„çŠ¶æ€ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset --hard &lt;commitid&gt;</span><br></pre></td></tr></table></figure></p><p>æœ‰äº› commit ä¼šä¸¢å¤±ï¼Œæ˜¯æ¡å±é™©çš„å‘½ä»¤ï¼Œè¦æ…ç”¨ã€‚ä½†æ˜¯å½“ä½ æ˜ç¡®äº†ä½ çš„éœ€æ±‚ï¼Œéœ€è¦å°†å·¥ä½œåŒºæš‚å­˜åŒºæäº¤è®°å½•æ˜ç¡®æ¢å¤åˆ°æŸä¸ª commit çŠ¶æ€æ—¶ï¼Œå¯ä»¥æ‰§è¡Œè¿™ä¸ªå‘½ä»¤ã€‚</p><h2 id="git-commit"><a href="#git-commit" class="headerlink" title="git commit"></a>git commit</h2><p>ã€Œæäº¤ã€æ“ä½œã€‚å½“ä½ å‰é¢é‡‡ç”¨ <code>add</code> å‘½ä»¤å°†æ–‡ä»¶æ·»åŠ åˆ°æš‚å­˜åŒºè·Ÿè¸ªåï¼Œéœ€è¦é€šè¿‡<code>commit</code>å°†æš‚å­˜åŒºçš„å†…å®¹æäº¤åˆ°å½“å‰åˆ†æ”¯ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git commit -m &quot;test&quot;</span><br></pre></td></tr></table></figure></p><p>å½“ä¸€äº›å·²è¢«è¿½è¸ªçš„æ–‡ä»¶ä¿®æ”¹åï¼Œå¸¸å¸¸éœ€è¦<code>git add file</code>ï¼Œç„¶åå†<code>git commit -m &quot;xxxx&quot;</code>ï¼Œå…¶å®è¿™ä¸¤ä¸ªæ­¥éª¤å¯ä»¥åˆäºŒä¸ºä¸€ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git commit -am &quot;test&quot;</span><br></pre></td></tr></table></figure></p><p>è¿™ä¹ˆå†™ä¸ªäººè§‰å¾—æŒºå¥½ï¼Œå¯ä»¥æœ‰æ•ˆé¿å…æœ‰äº›æ‡’äºº<code>git add .</code>çš„æ–¹å¼ï¼Œå°†ä¸€åˆ‡æ–‡ä»¶éƒ½æ·»åŠ åˆ°äº†æš‚å­˜åŒºï¼Œå¯¼è‡´æœ€åå¤šä½™æ–‡ä»¶æäº¤å…¥åº“ã€‚</p><h3 id="amend"><a href="#amend" class="headerlink" title="amend"></a>amend</h3><p>ä¿®æ”¹æœ€è¿‘ä¸€æ¬¡ commit çš„ messageï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git commit --amend</span><br></pre></td></tr></table></figure></p><p>ä¿®æ”¹å®Œ message ä¿¡æ¯ä¹‹åï¼Œä¿å­˜é€€å‡ºå³å¯</p><p><code>git commit --amend</code>å‘½ä»¤æœ¬è´¨ä¸Šæ˜¯ç”¨æ–°çš„ commit åº”è¯¥æ˜¯æ›¿ä»£äº†ä¸Šä¸€æ¬¡çš„æäº¤ï¼Œä¸åªæ˜¯ä¿®æ”¹ messageã€‚æ¯”å¦‚ä¸Šä¸€æ¬¡æäº¤æ—¶æœ‰å‡ ä¸ªæ–‡ä»¶æ²¡æœ‰ add ä»¥åŠ commitï¼Œå¯ä»¥é‡æ–°è¿›è¡Œ add ä¹‹åå† <code>commit --amend</code> æäº¤ã€‚ä½†è¿™æ¬¡æäº¤ä¹‹åï¼Œåœ¨åˆ†æ”¯çš„ git log ä¸­ï¼Œä¸ä¼šå¢åŠ ä¸€æ¬¡æ–°çš„ commitï¼ˆå› ä¸ºè¢«æ›¿æ¢äº†å˜›ï¼‰ï¼Œçœ‹ç€æ•ˆæœç›¸å½“äºåœ¨çˆ¶ commit çš„åŸºç¡€ä¸Šè¿›è¡Œçš„ä¿®æ”¹ã€‚</p><h3 id="ä¿®æ”¹å†å²æäº¤çš„-message-ä¿¡æ¯ï¼š"><a href="#ä¿®æ”¹å†å²æäº¤çš„-message-ä¿¡æ¯ï¼š" class="headerlink" title="ä¿®æ”¹å†å²æäº¤çš„ message ä¿¡æ¯ï¼š"></a>ä¿®æ”¹å†å²æäº¤çš„ message ä¿¡æ¯ï¼š</h3><p><img src="https://ws1.sinaimg.cn/mw690/6d9475f6ly1fzbz3iinr0j20pg0hwdhz.jpg" alt><br>å¦‚å›¾ï¼Œæƒ³è¦ä¿®æ”¹ be4c è¿™æ¬¡æäº¤çš„ message ä¿¡æ¯ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨ <code>git rebase</code> å‘½ä»¤ï¼Œå› ä¸º <code>be4c</code> è¿™æ¬¡æäº¤ä¼šè¢«æ–°çš„æäº¤æ›¿æ¢æ‰ï¼Œæ‰€ä»¥ï¼Œã€Œå˜åŸºã€æ“ä½œçš„ã€ŒåŸºã€è¦é€‰æ‹©å®ƒçš„çˆ¶æäº¤ï¼Œ<code>85807</code>ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git rebase -i 8580</span><br></pre></td></tr></table></figure></p><ul><li><code>-i</code> ä¼šè¿›å…¥äº¤äº’æ¨¡å¼ï¼Œæœ‰ä¸€ç³»åˆ—æŒ‡ä»¤æ“ä½œå¯¹åº”çš„ commitï¼Œä¸è¦ç”¨ <code>pick</code> å‘½ä»¤ï¼Œè€Œæ˜¯ä½¿ç”¨ <code>reword</code> å‘½ä»¤æ“ä½œ <code>add ref</code> é‚£æ¬¡ commitï¼Œç„¶åä¿å­˜ï¼Œå°±è¿›å…¥ä¿®æ”¹ message çš„çª—å£ï¼Œä¿®æ”¹å®Œå†ä¿å­˜ï¼Œæœ€åå°±ä¼š OK äº†ã€‚</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ git rebase -i 8580</span><br><span class="line">[detached HEAD b2b5486] Add ref project</span><br><span class="line"> Date: Mon Jan 14 23:56:14 2019 +0800</span><br><span class="line"> 1 file changed, 1 insertion(+), 1 deletion(-)</span><br><span class="line">Successfully rebased and updated refs/heads/master.</span><br></pre></td></tr></table></figure><p> <code>git log -3</code> æŸ¥çœ‹æœ€è¿‘çš„3æ¬¡æäº¤ï¼Œå˜ä¸ºè¿™æ ·äº†ï¼Œä¼šå‘ç°ï¼Œå€’æ•°ç¬¬äºŒæ¬¡çš„ message ä¿¡æ¯ä¿®æ”¹ OK äº†ï¼Œæœ€æ–°ä¸€æ¬¡çš„ message è™½ç„¶æ²¡å˜ï¼Œä½†å…¶å®ï¼Œ<code>commit id</code> éƒ½å‘ç”Ÿäº†å˜åŒ–ï¼Œã€Œæ›¿æ¢ã€çš„æ¦‚å¿µè¦è®°å¾—ã€‚<br><img src="https://ws2.sinaimg.cn/large/006tNc79ly1fzbzb6tgbxj30wu0hqdin.jpg" alt><br>git rebase å·¥ä½œçš„è¿‡ç¨‹ä¸­ï¼Œå°±æ˜¯ç”¨äº†ã€Œåˆ†ç¦»å¤´æŒ‡é’ˆã€ã€‚rebase æ„å‘³ç€åŸºäºæ–° base çš„ commit æ¥å˜æ›´éƒ¨åˆ† commitsã€‚å®ƒå¤„ç†çš„æ—¶å€™ï¼ŒæŠŠ HEAD æŒ‡å‘base çš„ commitï¼Œæ­¤æ—¶å¦‚æœè¯¥ commit æ²¡æœ‰å¯¹åº”branchï¼Œå°±å¤„äºåˆ†ç¦»å¤´æŒ‡é’ˆçš„çŠ¶æ€ï¼Œç„¶åé‡æ–°ä¸€ä¸ªä¸€ä¸ªç”Ÿæˆæ–°çš„ commitï¼Œå½“rebase åˆ›å»ºå®Œæœ€åä¸€ä¸ª commit åï¼Œç»“æŸåˆ†ç¦»å¤´çŠ¶æ€ï¼ŒGit è®©å˜å®ŒåŸºçš„åˆ†æ”¯åæŒ‡å‘ HEAD</p><p>PSï¼šå¯¹äºå›¢é˜Ÿä¸­å…¬ç”¨çš„åˆ†æ”¯ï¼Œä¾‹å¦‚å‘å¸ƒåˆ†æ”¯ç­‰ï¼Œç¦ç”¨ rebaseï¼Œå› ä¸ºè¿™æ ·ä¼šç ´åå†å²çš„ commit  ä¿¡æ¯çš„ï¼Œå°†æ¥è¦æº¯æºã€åŸºäºæ„å»ºå†å²æ‹‰å–è¡¥ä¸åˆ†æ”¯ç­‰å°±ä¼šå¸¦æ¥æå¤§ä¸ä¾¿ã€‚</p><h3 id="è¿ç»­å¤šä¸ª-commit-åˆå¹¶"><a href="#è¿ç»­å¤šä¸ª-commit-åˆå¹¶" class="headerlink" title="è¿ç»­å¤šä¸ª commit  åˆå¹¶"></a>è¿ç»­å¤šä¸ª commit  åˆå¹¶</h3><p><img src="https://ws3.sinaimg.cn/large/006tNc79ly1fzbzitp4n0j30q407cdha.jpg" alt><br>ç›®å‰ commit è¿˜åœ¨æœ¬åœ°ï¼Œæ²¡æœ‰ push åˆ°å›¢é˜Ÿåˆ†æ”¯ä¸Šï¼Œæƒ³è¦å°†ç½‘é¡µç›¸å…³çš„ commit åˆå¹¶æˆä¸€ä¸ªï¼Œå°±æ˜¯ä»å›¾ä¸­ <code>55a9</code> å¼€å§‹çš„6ä¸ª commit åˆæˆä¸€ä¸ªï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git rebase -i 7e7a</span><br></pre></td></tr></table></figure></p><p><img src="https://ws1.sinaimg.cn/large/006tNc79ly1fzbzrbwrd3j30yg0n643u.jpg" alt><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$ git rebase -i 7e7a</span><br><span class="line">[detached HEAD 1c102e6] Create a complete web page</span><br><span class="line"> Date: Mon Jan 14 23:46:26 2019 +0800</span><br><span class="line"> 5 files changed, 20 insertions(+)</span><br><span class="line"> create mode 100644 index.html</span><br><span class="line"> create mode 100644 js/a.js</span><br><span class="line"> create mode 100644 style.css</span><br><span class="line"> create mode 100644 styles/a.css</span><br><span class="line"> create mode 100755 å¤§å˜´çŒ´-å¤´åƒ-logo.jpg</span><br><span class="line">Successfully rebased and updated refs/heads/master.</span><br></pre></td></tr></table></figure></p><p><img src="https://ws4.sinaimg.cn/large/006tNc79ly1fzbztd0xd7j30ru046mxz.jpg" alt></p><p>å˜åŸºè¿‡ç¨‹ä¸­æœ‰å¯èƒ½ä¼šé‡åˆ°å†²çªçš„ï¼Œåªè¦è§£å†³å†²çªå³å¯ï¼Œè§£å†³å†²çªçš„æ—¶å€™ï¼Œåªéœ€è¦å…ˆä¿®æ”¹æœ‰å†²çªçš„æ–‡ä»¶çš„å†…å®¹ï¼Œç„¶åæ‰§è¡Œ <code>git add &lt;file_with_conflict&gt;</code>å³å¯ï¼Œä¸è¦å† <code>git commit</code>ï¼Œå¦åˆ™å¤šå‡ºæ¥ commit çš„ï¼Œç„¶åæ¥ç€ <code>git base --continue</code>å³å¯ï¼Œå‚è€ƒ<a href="https://www.jianshu.com/p/4c30eb30323a" target="_blank" rel="noopener">ç®€ä¹¦-git rebaseè§£å†³åˆå¹¶å†²çª</a></p><h3 id="å†å²ä¸­ä¸è¿ç»­çš„-commit-åˆå¹¶"><a href="#å†å²ä¸­ä¸è¿ç»­çš„-commit-åˆå¹¶" class="headerlink" title="å†å²ä¸­ä¸è¿ç»­çš„ commit  åˆå¹¶"></a>å†å²ä¸­ä¸è¿ç»­çš„ commit  åˆå¹¶</h3><p>å°†å†å²ä¸­å’Œ readme ç›¸å…³çš„ commit åˆå¹¶ï¼Œå°±æ˜¯ä¸‹å›¾ä¸­52af 7e7a 03be è¿™ä¸‰ä¸ª commitã€‚<br><img src="https://ws4.sinaimg.cn/large/006tNc79ly1fzbztd0xd7j30ru046mxz.jpg" alt></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git rebase -i 52af # å› ä¸º52af æ˜¯é¦–ä¸ªï¼Œæ²¡æœ‰çˆ¶äº²ï¼Œå› æ­¤éœ€è¦è¡¥å……ä¸€ä¸‹</span><br></pre></td></tr></table></figure><p><img src="https://ws1.sinaimg.cn/large/006tNc79ly1fzc05snpqgj30se07q40c.jpg" alt><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">$ git status</span><br><span class="line">interactive rebase in progress; onto 52af14b</span><br><span class="line">Last command done (1 command done):</span><br><span class="line">   pick 52af14b</span><br><span class="line">Next commands to do (3 remaining commands):</span><br><span class="line">   squash 7e7a518 modify readme</span><br><span class="line">   squash 03bef1e Modify readme to README file</span><br><span class="line">  (use &quot;git rebase --edit-todo&quot; to view and edit)</span><br><span class="line">You are currently rebasing branch &apos;master&apos; on &apos;52af14b&apos;.</span><br><span class="line">  (all conflicts fixed: run &quot;git rebase --continue&quot;)</span><br><span class="line"></span><br><span class="line">nothing to commit, working tree clean</span><br><span class="line"></span><br><span class="line"># michael @ Michael-MBP in ~/Code/Git-Geek/git_learning on git:52af14b o [17:08:05]</span><br><span class="line">$ git rebase --continue</span><br><span class="line">[detached HEAD fe08624] Add readme.md</span><br><span class="line"> Author: Michael728 &lt;michael@163.com&gt;</span><br><span class="line"> Date: Mon Jan 14 23:35:44 2019 +0800</span><br><span class="line"> 1 file changed, 1 insertion(+)</span><br><span class="line"> create mode 100644 README.md</span><br><span class="line">Successfully rebased and updated refs/heads/master.</span><br></pre></td></tr></table></figure></p><p>æœ€ç»ˆæ•´ç†æˆäº†ä¸¤ä¸ª commitï¼š<br><img src="https://ws2.sinaimg.cn/large/006tNc79ly1fzc0bfti81j30p802a74n.jpg" alt><br>æœ‰æ„æ€çš„å‘ç°ï¼Œæœ‰ä¸¤ä¸ª commit æ˜¯æ²¡æœ‰ç¥–å…ˆçš„ï¼š<br><img src="https://ws4.sinaimg.cn/large/006tNc79ly1fzc0d7cbf2j30j004oaag.jpg" alt><br>å¦‚æœå°† temp åˆ†æ”¯ã€js01 tag åˆ æ‰ï¼ŒGit ä¼šæ¸…ç†æ‰ä¸‹é¢é‚£ä¸ªæ ‘ã€‚</p><h2 id="git-pull"><a href="#git-pull" class="headerlink" title="git pull"></a>git pull</h2><p>git pullå‘½ä»¤çš„ä½œç”¨æ˜¯ï¼Œå–å›è¿œç¨‹ä¸»æœºæŸä¸ªåˆ†æ”¯çš„æ›´æ–°ï¼Œå†ä¸æœ¬åœ°çš„æŒ‡å®šåˆ†æ”¯åˆå¹¶ã€‚å®ƒçš„å®Œæ•´æ ¼å¼ç¨ç¨æœ‰ç‚¹å¤æ‚ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git pull &lt;è¿œç¨‹ä¸»æœºå&gt; &lt;è¿œç¨‹åˆ†æ”¯å&gt;:&lt;æœ¬åœ°åˆ†æ”¯å&gt;</span><br></pre></td></tr></table></figure></p><p>æ¯”å¦‚ï¼Œå–å› origin ä¸»æœºçš„ next åˆ†æ”¯ï¼Œä¸æœ¬åœ°çš„masteråˆ†æ”¯åˆå¹¶ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git pull origin next:master</span><br></pre></td></tr></table></figure></p><p>å¦‚æœè¿œç¨‹åˆ†æ”¯æ˜¯ä¸å½“å‰åˆ†æ”¯åˆå¹¶ï¼Œåˆ™å†’å·åé¢çš„éƒ¨åˆ†å¯ä»¥çœç•¥ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git pull origin next</span><br><span class="line"># ç­‰ä»·äºä¸‹é¢ä¸¤ä¸ªå‘½ä»¤</span><br><span class="line">git fetch origin</span><br><span class="line">git merge origin/next</span><br></pre></td></tr></table></figure></p><p>å‚è€ƒï¼š</p><ul><li><a href="http://www.ruanyifeng.com/blog/2014/06/git_remote.html" target="_blank" rel="noopener">é˜®ä¸€å³°-Gitè¿œç¨‹æ“ä½œè¯¦è§£</a></li></ul><h2 id="git-push"><a href="#git-push" class="headerlink" title="git push"></a>git push</h2><p><code>git push</code>å‘½ä»¤ç”¨äºå°†æœ¬åœ°åˆ†æ”¯çš„æ›´æ–°ï¼Œæ¨é€åˆ°è¿œç¨‹ä¸»æœºï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git push &lt;è¿œç¨‹ä¸»æœºå&gt; &lt;æœ¬åœ°åˆ†æ”¯å&gt;:&lt;è¿œç¨‹åˆ†æ”¯å&gt;</span><br></pre></td></tr></table></figure></p><p>å¦‚æœçœç•¥è¿œç¨‹åˆ†æ”¯åï¼Œåˆ™è¡¨ç¤ºå°†æœ¬åœ°åˆ†æ”¯æ¨é€ä¸ä¹‹å­˜åœ¨â€è¿½è¸ªå…³ç³»â€çš„è¿œç¨‹åˆ†æ”¯ï¼ˆé€šå¸¸ä¸¤è€…åŒåï¼‰ï¼Œå¦‚æœè¯¥è¿œç¨‹åˆ†æ”¯ä¸å­˜åœ¨ï¼Œåˆ™ä¼šè¢«æ–°å»ºã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git push origin master</span><br></pre></td></tr></table></figure></p><p>ä¸Šé¢å‘½ä»¤è¡¨ç¤ºï¼Œå°†æœ¬åœ°çš„ master åˆ†æ”¯æ¨é€åˆ° origin ä¸»æœºçš„ master åˆ†æ”¯ã€‚å¦‚æœåè€…ä¸å­˜åœ¨ï¼Œåˆ™ä¼šè¢«æ–°å»ºã€‚</p><p>ä¸ç®¡æ˜¯å¦å­˜åœ¨å¯¹åº”çš„è¿œç¨‹åˆ†æ”¯ï¼Œå°†æœ¬åœ°çš„æ‰€æœ‰åˆ†æ”¯éƒ½æ¨é€åˆ°è¿œç¨‹ä¸»æœºï¼Œè¿™æ—¶éœ€è¦ä½¿ç”¨ <code>--all</code> é€‰é¡¹ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git push --all origin</span><br></pre></td></tr></table></figure></p><p><code>git push</code> ä¸ä¼šæ¨é€æ ‡ç­¾ï¼ˆ<code>tag</code>ï¼‰ï¼Œé™¤éä½¿ç”¨ <code>--tags</code> é€‰é¡¹ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git push origin --tags</span><br></pre></td></tr></table></figure></p><p>å¯èƒ½ä¼šé‡åˆ° <code>rejected</code> çš„ errorï¼Œå› ä¸ºè¿œç«¯åŒ…å«äº†ä¸€äº›æœ¬åœ°æ˜¯æ²¡æœ‰çš„å˜æ›´ï¼Œæ¯”å¦‚ï¼Œåˆ›å»ºè¿œç«¯ä»“åº“æ—¶ï¼Œåœ¨è¿œç«¯ä»“åº“çš„ master åˆ†æ”¯ä¸Šæ–°å»ºäº†æ–‡ä»¶ï¼Œæ¯”å¦‚ Licenseï¼Œè€Œæœ¬åœ°æ˜¯æ²¡æœ‰è¿™æ¬¡æäº¤çš„ï¼š<br><img src="https://ws1.sinaimg.cn/large/006tNc79ly1fzcu3d1mg1j311608o40c.jpg" alt><br>æŠŠè¿œç«¯æ‹‰å–ä¸‹æ¥ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git fetch github master</span><br></pre></td></tr></table></figure></p><p>è¯­æ³•ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git fetch &lt;è¿œç«¯ä¸»æœºå&gt; &lt;è¿œç«¯åˆ†æ”¯å&gt;</span><br></pre></td></tr></table></figure></p><p><code>non-fast-forward</code> è¡¨ç¤ºï¼Œä½ æœ¬åœ° master åˆ†æ”¯çš„æ¼”è¿›ä¸æ˜¯åŸºäºè¿œç«¯ master åˆ†æ”¯è¿›è¡Œçš„ï¼ŒäºŒè€…æ˜¯å‰²è£‚çš„ï¼Œç»è¿‡ fetch ä¹‹åï¼Œé€šè¿‡ <code>gitk --all</code> å¯ä»¥çœ‹åˆ°ï¼š<br><img src="https://ws1.sinaimg.cn/mw690/6d9475f6ly1fzcu7h3riij20nw062q47.jpg" alt><br>è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥é€šè¿‡ rebase æˆ–è€… merge çš„æ–¹å¼è§£å†³ï¼Œç°åœ¨å…ˆé‡‡ç”¨ merge çš„æ–¹å¼ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># åˆ‡åˆ°æœ¬åœ° master åˆ†æ”¯</span><br><span class="line">$ git merge github/master</span><br><span class="line">fatal: refusing to merge unrelated histories</span><br><span class="line">$ git merge github/master --allow-unrelated-histories</span><br><span class="line">Merge made by the &apos;recursive&apos; strategy.</span><br><span class="line"> LICENSE | 21 +++++++++++++++++++++</span><br><span class="line"> 1 file changed, 21 insertions(+)</span><br><span class="line"> create mode 100644 LICENSE</span><br></pre></td></tr></table></figure><p>ä¸Šé¢ fetch å’Œ merge æ–¹å¼ï¼Œå’Œå¦‚ä¸‹ pull å‘½ä»¤ç­‰æ•ˆï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git pull github master --allow-unrelated-histories</span><br></pre></td></tr></table></figure></p><p>ç°åœ¨åˆå¹¶ä¹‹åï¼Œåˆ†æ”¯æ¼”è¿›å¦‚ä¸‹ï¼š<br><img src="https://ws1.sinaimg.cn/mw690/6d9475f6ly1fzcundxvl5j20qg0jc418.jpg" alt><br>å¯ä»¥çœ‹åˆ°merge è¿™ç§æ–¹å¼æ–°ç”Ÿæˆçš„ commit æœ‰ä¸¤ä¸ªçˆ¶äº²ã€‚</p><p>ç°åœ¨é‡æ–°å¯åŠ¨å°†æœ¬åœ°çš„ master åˆ†æ”¯ push åˆ°è¿œç«¯ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push github master</span><br></pre></td></tr></table></figure></p><h2 id="git-rm"><a href="#git-rm" class="headerlink" title="git rm"></a>git rm</h2><p>ä» Git ä¸­ç§»é™¤æŸä¸ªæ–‡ä»¶ï¼Œå°±å¿…é¡»ä»å·²è·Ÿè¸ªçš„æ–‡ä»¶æ¸…å•ä¸­åˆ é™¤ï¼ˆä»æš‚å­˜åŒºåŸŸç§»é™¤æ–‡ä»¶ï¼‰ï¼Œç„¶åæäº¤ã€‚å¯ä»¥ä½¿ç”¨ <code>git rm</code> å‘½ä»¤å®Œæˆæ­¤é¡¹å·¥ä½œï¼Œå¹¶è¿å¸¦ä»å·¥ä½œç›®å½•ä¸­åˆ é™¤æŒ‡å®šçš„æ–‡ä»¶ï¼Œä»¥åè¿™ä¸ªæ–‡ä»¶å°±ä¸ä¼šå‡ºç°åœ¨ Git åº“ä¸­äº†ã€‚</p><p>å½“æˆ‘ä»¬å…ˆæŠŠæŸæ–‡ä»¶ä» Git åº“ä¸­åˆ é™¤ï¼ˆäº¦å³ä»æš‚å­˜åŒºç§»é™¤ï¼‰ï¼Œä½†ä»ç„¶å¸Œæœ›ä¿ç•™åœ¨å½“å‰å·¥ä½œç›®å½•ä¸­ã€‚æ¯”å¦‚å½“ä½ å¿˜è®°åœ¨<code>.gitignore</code>æ–‡ä»¶ä¸­å°†ä¸€äº›æ–‡ä»¶å¿½ç•¥ï¼Œä½†æ˜¯å´ä¸å°å¿ƒæŠŠå¤§çš„æ—¥å¿—æ–‡ä»¶æ·»åŠ åˆ°æš‚å­˜åŒºåŸŸæ—¶ï¼Œè¿™ä¸€åšæ³•å¾ˆæœ‰ç”¨ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># --cached å°† README æ–‡ä»¶ä»æš‚å­˜åŒºç§»é™¤ï¼Œä½†æ˜¯å·¥ä½œåŒºç›®å½•ä»ç„¶ä¿ç•™</span><br><span class="line">git rm --cached README</span><br></pre></td></tr></table></figure><h2 id="git-checkout"><a href="#git-checkout" class="headerlink" title="git checkout"></a>git checkout</h2><p>åŸºäºæŸåˆ†æ”¯åˆ›å»ºæ–°åˆ†æ”¯ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout -b &lt;new_branch_name&gt; &lt;base_branch_name&gt;</span><br></pre></td></tr></table></figure></p><p>è¿™é‡Œçš„ <code>base_branch_name</code> æ˜¯æŒ‡åˆ›å»ºåˆ†æ”¯æ—¶çš„ã€ŒåŸºã€ã€‚</p><ul><li><p>å½“çœç•¥æ—¶ï¼Œå°±æ˜¯åŸºäºå½“å‰åˆ†æ”¯åˆ›å»ºï¼›</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout -b &lt;new_branch_name&gt;</span><br></pre></td></tr></table></figure></li><li><p>å½“è¿™ä¸ªã€ŒåŸºã€æ˜¯è¿œç«¯åˆ†æ”¯åæ—¶ï¼Œå°±å®ç°äº†åœ¨æœ¬åœ°åŸºäºè¿œç«¯åˆ†æ”¯åˆ›å»ºåˆ†æ”¯ã€‚</p></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git branch -av # æŸ¥çœ‹æœ¬åœ°+è¿œç¨‹åˆ†æ”¯åˆ—è¡¨</span><br><span class="line">git checkout -b dev  origin/dev</span><br></pre></td></tr></table></figure><p>è¿˜å¯ä»¥å¯ä»¥åœ¨<code>checkout</code>å‘½ä»¤ä¸­ä½¿ç”¨ Hash å€¼ä½œä¸ºèµ·ç‚¹åˆ›å»ºåˆ†æ”¯ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout -b &lt;name_of_branch&gt; &lt;commit id&gt;</span><br></pre></td></tr></table></figure></p><p>é™¤äº†æœ‰â€œåˆ‡æ¢â€çš„æ„æ€ï¼Œ<code>checkout</code>è¿˜æœ‰ä¸€ä¸ªæ’¤é”€çš„ä½œç”¨ã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼Œå‡è®¾æˆ‘ä»¬åœ¨ä¸€ä¸ªåˆ†æ”¯å¼€å‘ä¸€ä¸ªå°åŠŸèƒ½ï¼Œåˆšå†™å®Œä¸€åŠï¼Œè¿™æ—¶å€™éœ€æ±‚å˜äº†ï¼Œè€Œä¸”æ˜¯å¤§å˜åŒ–ï¼Œä¹‹å‰å†™çš„ä»£ç å®Œå…¨ç”¨ä¸äº†ï¼Œå¥½åœ¨ä½ åˆšå†™ï¼Œç”šè‡³éƒ½æ²¡æœ‰ <code>git add</code> è¿›æš‚å­˜åŒºï¼Œè¿™ä¸ªæ—¶å€™å¾ˆç®€å•çš„ä¸€ä¸ªæ“ä½œå°±ç›´æ¥æŠŠåŸæ–‡ä»¶è¿˜åŸï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout &lt;filename&gt;</span><br></pre></td></tr></table></figure></p><p>å‚è€ƒï¼š<a href="https://www.cnblogs.com/crazyacking/p/5620635.html" target="_blank" rel="noopener">åœ¨gitä¸­checkoutå†å²ç‰ˆæœ¬</a></p><h2 id="git-log"><a href="#git-log" class="headerlink" title="git log"></a>git log</h2><p>æŸ¥çœ‹ç‰ˆæœ¬æ¼”å˜å†å²ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git log --pretty=oneline # æ£€æŸ¥æäº¤æ—¥å¿—ï¼Œéƒ½åœ¨ä¸€è¡Œï¼š&lt;commit id&gt; &lt;message&gt;</span><br><span class="line">git log --oneline # ä¸ä¸Šé¢å‘½ä»¤ç­‰ä»·</span><br></pre></td></tr></table></figure></p><p>æŸ¥çœ‹æŸäººçš„æäº¤ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git log --author=michael</span><br></pre></td></tr></table></figure></p><ul><li>ä¸€ä¸ªå¸¸ç”¨çš„é€‰é¡¹æ˜¯<code>-p</code>ï¼Œç”¨æ¥æ˜¾ç¤ºæ¯æ¬¡æäº¤çš„å†…å®¹å·®å¼‚;</li><li>å¯ä»¥åŠ ä¸Š<code>-2</code>æˆ–è€…<code>-n2</code>æ¥ä»…æ˜¾ç¤ºæœ€è¿‘ä¸¤æ¬¡æäº¤ï¼š</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git log -n2 # æŸ¥çœ‹æœ€è¿‘çš„2æ¬¡æäº¤</span><br><span class="line">git log -p -2</span><br><span class="line">git log -n1 --format=format:%h # æŸ¥çœ‹å½“å‰åˆ†æ”¯æœ€æ–°çš„ commit id ç¼©ç•¥å€¼</span><br></pre></td></tr></table></figure><p>åˆ—å‡ºæœ€è¿‘ä¸¤å‘¨å†…çš„æäº¤ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git log --since=2.weeks</span><br></pre></td></tr></table></figure></p><p>å›¾å½¢åŒ–æŸ¥çœ‹åˆ†æ”¯æ¼”å˜ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># åŠ äº† --all è¡¨ç¤ºæŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯çš„å†å²ï¼Œå¦åˆ™åªèƒ½çœ‹åˆ°å½“å‰åˆ†æ”¯çš„æ¼”å˜å†å²</span><br><span class="line">git log --all --graph</span><br><span class="line"># åªæŸ¥çœ‹æŒ‡å®šåˆ†æ”¯çš„æ¼”å˜å†å²ï¼Œæ¯”å¦‚ temp åˆ†æ”¯ï¼Œæ­¤æ—¶å°±ä¸èƒ½ä½¿ç”¨å‚æ•° --all</span><br><span class="line">git log --oneline --graph temp</span><br></pre></td></tr></table></figure></p><ul><li><a href="http://www.cnblogs.com/bellkosmos/p/5923439.html" target="_blank" rel="noopener">git logå‘½ä»¤å…¨è§£æï¼Œæ‰“logè¿˜èƒ½è¿™ä¹ˆéšå¿ƒæ‰€æ¬²ï¼</a></li><li><a href="https://git-scm.com/book/zh/v2/Git-%E5%9F%BA%E7%A1%80-%E6%9F%A5%E7%9C%8B%E6%8F%90%E4%BA%A4%E5%8E%86%E5%8F%B2" target="_blank" rel="noopener">git-scm 2.3 Git åŸºç¡€ - æŸ¥çœ‹æäº¤å†å²</a></li></ul><h2 id="è¿œç¨‹ä»“åº“çš„ä½¿ç”¨"><a href="#è¿œç¨‹ä»“åº“çš„ä½¿ç”¨" class="headerlink" title="è¿œç¨‹ä»“åº“çš„ä½¿ç”¨"></a>è¿œç¨‹ä»“åº“çš„ä½¿ç”¨</h2><h3 id="æŸ¥çœ‹è¿œç¨‹ä»“åº“"><a href="#æŸ¥çœ‹è¿œç¨‹ä»“åº“" class="headerlink" title="æŸ¥çœ‹è¿œç¨‹ä»“åº“"></a>æŸ¥çœ‹è¿œç¨‹ä»“åº“</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote -v</span><br></pre></td></tr></table></figure><p>å¦‚æœæƒ³æŸ¥çœ‹è¿œç¨‹ä»“åº“æ›´å¤šçš„ä¿¡æ¯ï¼Œå¯ä»¥ä½¿ç”¨<code>git remote show &lt;remote-name&gt;</code>å‘½ä»¤ã€‚</p><p>è¿œç¨‹ä»“åº“çš„ç§»é™¤ä¸é‡å‘½åï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git remote rename  &lt;old-remote-name&gt; &lt;new-remote-name&gt;</span><br><span class="line">git remote rename pb paul</span><br></pre></td></tr></table></figure></p><p>å¦‚æœå› ä¸ºä¸€äº›åŸå› è¦ç§»é™¤ä¸€ä¸ªè¿œç¨‹ä»“åº“ï¼Œå¯ä»¥ä½¿ç”¨<code>git remote rm &lt;remote-name&gt;</code>ã€‚</p><h3 id="æ·»åŠ ä¸€ä¸ªæ–°çš„è¿œç¨‹-Git-ä»“åº“ï¼ŒåŒæ—¶æŒ‡å®šä¸€ä¸ªå¯ä»¥è½»æ¾å¼•ç”¨çš„ç®€å†™ï¼š"><a href="#æ·»åŠ ä¸€ä¸ªæ–°çš„è¿œç¨‹-Git-ä»“åº“ï¼ŒåŒæ—¶æŒ‡å®šä¸€ä¸ªå¯ä»¥è½»æ¾å¼•ç”¨çš„ç®€å†™ï¼š" class="headerlink" title="æ·»åŠ ä¸€ä¸ªæ–°çš„è¿œç¨‹ Git ä»“åº“ï¼ŒåŒæ—¶æŒ‡å®šä¸€ä¸ªå¯ä»¥è½»æ¾å¼•ç”¨çš„ç®€å†™ï¼š"></a>æ·»åŠ ä¸€ä¸ªæ–°çš„è¿œç¨‹ Git ä»“åº“ï¼ŒåŒæ—¶æŒ‡å®šä¸€ä¸ªå¯ä»¥è½»æ¾å¼•ç”¨çš„ç®€å†™ï¼š</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote add &lt;remote_host_name&gt; &lt;url&gt;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œçš„<code>remote_host_name</code>å¸¸å¸¸å–åä¸º<code>origin</code>ã€‚æ‰€ä»¥ï¼Œå¸¸è§çš„<code>origin</code>å…¶å®æ˜¯ä¸€ä¸ªä½  Git ä»“åº“è·Ÿè¸ªçš„è¿œç¨‹ä»“åº“çš„ç®€å†™ã€‚</p><h3 id="æ‹‰å–è¿œç«¯ä»“åº“æœ‰ä½†ä½ æœ¬åœ°æ²¡æœ‰çš„ä¿¡æ¯ï¼š"><a href="#æ‹‰å–è¿œç«¯ä»“åº“æœ‰ä½†ä½ æœ¬åœ°æ²¡æœ‰çš„ä¿¡æ¯ï¼š" class="headerlink" title="æ‹‰å–è¿œç«¯ä»“åº“æœ‰ä½†ä½ æœ¬åœ°æ²¡æœ‰çš„ä¿¡æ¯ï¼š"></a>æ‹‰å–è¿œç«¯ä»“åº“æœ‰ä½†ä½ æœ¬åœ°æ²¡æœ‰çš„ä¿¡æ¯ï¼š</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git fetch &lt;remote_host_name&gt;</span><br></pre></td></tr></table></figure><p>å¦‚æœä½ ä½¿ç”¨<code>clone</code>å‘½ä»¤å…‹éš†äº†ä¸€ä¸ªä»“åº“ï¼Œå‘½ä»¤ä¼šè‡ªåŠ¨å°†å…¶æ·»åŠ ä¸ºè¿œç¨‹ä»“åº“å¹¶é»˜è®¤ä»¥<code>origin</code>ä¸ºç¼©å†™ã€‚</p><h2 id="Tag"><a href="#Tag" class="headerlink" title="Tag"></a>Tag</h2><h3 id="åˆ—å‡ºæ ‡ç­¾"><a href="#åˆ—å‡ºæ ‡ç­¾" class="headerlink" title="åˆ—å‡ºæ ‡ç­¾"></a>åˆ—å‡ºæ ‡ç­¾</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git tag # åˆ—å‡ºæ‰€æœ‰æ ‡ç­¾</span><br><span class="line">git tag -l &apos;v1.8*&apos; # åˆ—å‡ºä»¥ v1.8 å¼€å¤´çš„æ‰€æœ‰æ ‡ç­¾</span><br></pre></td></tr></table></figure><h3 id="åˆ›å»ºæ ‡ç­¾"><a href="#åˆ›å»ºæ ‡ç­¾" class="headerlink" title="åˆ›å»ºæ ‡ç­¾"></a>åˆ›å»ºæ ‡ç­¾</h3><p>Gitä½¿ç”¨ä¸¤ç§ä¸»è¦ç±»å‹çš„æ ‡ç­¾ï¼š</p><ul><li>é™„æ³¨ï¼ˆannotatedï¼‰æ ‡ç­¾</li><li>è½»é‡ï¼ˆightweightï¼‰æ ‡ç­¾</li></ul><p>å‰è€…ä¼šåŒ…æ‹¬ä¸€äº›æ³¨é‡Šä¿¡æ¯ï¼Œæ¥è¿›ä¸€æ­¥è§£é‡Šè¿™ä¸ª tag çš„ä½œç”¨ï¼Œè€Œåè€…å°±ä»…ä»…åªæ˜¯ä¸€ä¸ª tag çš„åå­—</p><h4 id="é™„æ³¨æ ‡ç­¾"><a href="#é™„æ³¨æ ‡ç­¾" class="headerlink" title="é™„æ³¨æ ‡ç­¾"></a>é™„æ³¨æ ‡ç­¾</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git tag -a v1.4 -m &apos;my version 1.4&apos;</span><br></pre></td></tr></table></figure><p>é€šè¿‡<code>git show &lt;tag-name&gt;</code>å‘½ä»¤å¯ä»¥çœ‹åˆ°æ ‡ç­¾ä¿¡æ¯</p><h4 id="è½»é‡æ ‡ç­¾"><a href="#è½»é‡æ ‡ç­¾" class="headerlink" title="è½»é‡æ ‡ç­¾"></a>è½»é‡æ ‡ç­¾</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git tag v1.4</span><br></pre></td></tr></table></figure><p>æ²¡ç”¨<code>-a</code>ã€<code>-m</code>çš„å‚æ•°ï¼Œåªéœ€è¦æä¾›æ ‡ç­¾åå­—</p><h3 id="åˆ é™¤æ ‡ç­¾"><a href="#åˆ é™¤æ ‡ç­¾" class="headerlink" title="åˆ é™¤æ ‡ç­¾"></a>åˆ é™¤æ ‡ç­¾</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git tag -d &lt;tagname&gt;</span><br></pre></td></tr></table></figure><h3 id="è¡¥æ‰“æ ‡ç­¾"><a href="#è¡¥æ‰“æ ‡ç­¾" class="headerlink" title="è¡¥æ‰“æ ‡ç­¾"></a>è¡¥æ‰“æ ‡ç­¾</h3><h4 id="å‡è®¾å¿˜è®°ç»™é¡¹ç›®æ‰“æ ‡ç­¾ï¼Œå¯ä»¥åœ¨ä¹‹ååŠ ä¸Šï¼š"><a href="#å‡è®¾å¿˜è®°ç»™é¡¹ç›®æ‰“æ ‡ç­¾ï¼Œå¯ä»¥åœ¨ä¹‹ååŠ ä¸Šï¼š" class="headerlink" title="å‡è®¾å¿˜è®°ç»™é¡¹ç›®æ‰“æ ‡ç­¾ï¼Œå¯ä»¥åœ¨ä¹‹ååŠ ä¸Šï¼š"></a>å‡è®¾å¿˜è®°ç»™é¡¹ç›®æ‰“æ ‡ç­¾ï¼Œå¯ä»¥åœ¨ä¹‹ååŠ ä¸Šï¼š</h4><p>åŸºäºæŸå†å²èŠ‚ç‚¹çš„<code>commit id</code>è¡¥æ‰“<code>Tag</code>ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git tag -a v1.2 &lt;commit id&gt;</span><br></pre></td></tr></table></figure></p><h4 id="å…±äº«æ ‡ç­¾"><a href="#å…±äº«æ ‡ç­¾" class="headerlink" title="å…±äº«æ ‡ç­¾"></a>å…±äº«æ ‡ç­¾</h4><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œ<code>git push</code>å‘½ä»¤å¹¶ä¸ä¼šä¼ é€æ ‡ç­¾åˆ°è¿œç¨‹æœåŠ¡å™¨ä¸Šã€‚åœ¨åˆ›å»ºå®Œæ ‡ç­¾åä½ å¿…é¡»æ˜¾ç¤ºåœ°æ¨é€æ ‡ç­¾åˆ°å…±äº«æœåŠ¡å™¨ä¸Šã€‚è¿™ä¸ªè¿‡ç¨‹å°±åƒå…±äº«è¿œç¨‹åˆ†æ”¯ä¸€æ ·ï¼Œå¯ä»¥è¿è¡Œ<code>git push origin [tagname]</code></p><p>å¦‚æœæƒ³è¦ä¸€æ¬¡æ€§æ¨é€å¾ˆå¤šæ ‡ç­¾ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨<code>--tags</code>é€‰é¡¹çš„<code>git push</code>ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push origin --tags</span><br></pre></td></tr></table></figure></p><h4 id="æ£€å‡ºæ ‡ç­¾"><a href="#æ£€å‡ºæ ‡ç­¾" class="headerlink" title="æ£€å‡ºæ ‡ç­¾"></a>æ£€å‡ºæ ‡ç­¾</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout -b &lt;new_br&gt; &lt;tag_name&gt;</span><br></pre></td></tr></table></figure><p>å‚è€ƒï¼š</p><ul><li><a href="https://thoamsy.github.io/blogs/git/" target="_blank" rel="noopener">The Junior Git</a></li><li><a href="https://git-scm.com/book/zh/v1/Git-%E5%9F%BA%E7%A1%80-%E6%89%93%E6%A0%87%E7%AD%BE" target="_blank" rel="noopener">6 Git åŸºç¡€ - æ‰“æ ‡ç­¾</a></li></ul><h2 id="æœ€å"><a href="#æœ€å" class="headerlink" title="æœ€å"></a>æœ€å</h2><ul><li><a href="https://michael728.github.io/2018/11/24/git-advance/">Gitä½¿ç”¨æ•™ç¨‹ç¬”è®°</a></li><li><a href="https://git-scm.com/book/zh/v2" target="_blank" rel="noopener">Pro Git ä¸­æ–‡</a></li><li><a href="https://foofish.net/git-command.html" target="_blank" rel="noopener">Gitå¸¸ç”¨å‘½ä»¤å¤‡å¿˜</a></li><li><a href="https://juejin.im/post/5c22056551882518fc5fe294" target="_blank" rel="noopener">æ˜é‡‘-ä»Šå¹´ä¸‹åŠå¹´ï¼Œä¸­æ—¥åˆæ‹çš„ã€ŠGitæ¸¸è®°ã€‹å³å°†æ­£å¼å¼€æœºï¼Œæˆ‘å°†â€¦ï¼ˆä¸Šé›†ï¼‰</a></li><li><a href="http://sexywp.com/git-staging-area-index-cache.htm?f=http://blogread.cn/" target="_blank" rel="noopener">gitæœ¯è¯­è§£é‡Šstagingï¼Œindexï¼Œcache</a></li><li><a href="https://github.com/pcottle/learnGitBranching" target="_blank" rel="noopener">pcottle/learnGitBranching</a> åˆ†æ”¯æ¼”ç¤ºç½‘ç«™</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Git-åŸºç¡€å­¦ä¹ ç³»åˆ—&quot;&gt;&lt;a href=&quot;#Git-åŸºç¡€å­¦ä¹ ç³»åˆ—&quot; class=&quot;headerlink&quot; title=&quot;Git åŸºç¡€å­¦ä¹ ç³»åˆ—&quot;&gt;&lt;/a&gt;Git åŸºç¡€å­¦ä¹ ç³»åˆ—&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://michael728.gith
      
    
    </summary>
    
      <category term="ToolsDev" scheme="https://michael728.github.io/categories/ToolsDev/"/>
    
    
      <category term="ss" scheme="https://michael728.github.io/tags/ss/"/>
    
      <category term="vps" scheme="https://michael728.github.io/tags/vps/"/>
    
  </entry>
  
  <entry>
    <title>Git åŸºç¡€ â€”â€” å®‰è£… é…ç½® åˆ«å å¯¹è±¡</title>
    <link href="https://michael728.github.io/2019/11/14/git-install-config/"/>
    <id>https://michael728.github.io/2019/11/14/git-install-config/</id>
    <published>2019-11-14T18:21:24.000Z</published>
    <updated>2020-01-05T15:47:56.116Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Git-åŸºç¡€å­¦ä¹ ç³»åˆ—"><a href="#Git-åŸºç¡€å­¦ä¹ ç³»åˆ—" class="headerlink" title="Git åŸºç¡€å­¦ä¹ ç³»åˆ—"></a>Git åŸºç¡€å­¦ä¹ ç³»åˆ—</h2><ul><li><a href="https://michael728.github.io/2019/11/14/git-install-config/">Git åŸºç¡€ â€”â€” å®‰è£… é…ç½® åˆ«å å¯¹è±¡</a></li><li><a href="https://michael728.github.io/2019/11/14/git-useful-commands/">Git åŸºç¡€ â€”â€” å¸¸ç”¨å‘½ä»¤</a></li><li><a href="https://michael728.github.io/2019/11/14/git-usage-examples/">Git åŸºç¡€ â€”â€” å¸¸è§ä½¿ç”¨åœºæ™¯</a></li><li><a href="https://michael728.github.io/2019/11/14/git-github-experiance/">GitåŸºç¡€ â€”â€” Github çš„ä½¿ç”¨</a></li></ul><h2 id="Git-å®‰è£…"><a href="#Git-å®‰è£…" class="headerlink" title="Git å®‰è£…"></a>Git å®‰è£…</h2><p><a href="https://git-scm.com/downloads" target="_blank" rel="noopener">Gitä¸‹è½½åœ°å€</a></p><p>Windows å®‰è£…æ—¶éœ€è¦æ³¨æ„åœ¨<code>Configuring the line ending conversions</code>ç•Œé¢ï¼Œé€‰æ‹©<code>Checkout as-is,commit as -s</code>ï¼Œé¿å…Windowsçš„æ¢è¡Œç¬¦é—®é¢˜ã€‚å¦‚æœå¿˜è®°è®¾ç½®ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤åæœŸè®¾ç½®ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global core.autocrlf false</span><br></pre></td></tr></table></figure><p>å‚è€ƒï¼š</p><ul><li><a href="https://github.com/cssmagic/blog/issues/22" target="_blank" rel="noopener">GitHub ç¬¬ä¸€å‘ï¼šæ¢è¡Œç¬¦è‡ªåŠ¨è½¬æ¢ </a></li></ul><h2 id="Git-é…ç½®"><a href="#Git-é…ç½®" class="headerlink" title="Git é…ç½®"></a>Git é…ç½®</h2><p>å¯ä»¥é€šè¿‡  æŸ¥çœ‹é…ç½®ï¼š</p><ul><li><code>git config -l/--list</code></li><li><code>git config --list [--local | --global | --system]</code></li></ul><p>è¯´æ˜ï¼š</p><ul><li><code>system</code> ä¸å¸¸ç”¨</li><li><code>local</code> éœ€è¦åœ¨ä¸€ä¸ª Git ä»“åº“ä¸‹ä½¿ç”¨ï¼Œå®ƒçš„é…ç½®ï¼Œä¼˜å…ˆçº§æ˜¯æœ€é«˜çš„ï¼Œä»£è¡¨ä»…é’ˆå¯¹å•ä»“åº“çš„é…ç½®</li></ul><h3 id="è®¾ç½®-Git-è´¦å·"><a href="#è®¾ç½®-Git-è´¦å·" class="headerlink" title="è®¾ç½® Git è´¦å·"></a>è®¾ç½® Git è´¦å·</h3><p>é…ç½® user ä¿¡æ¯<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name &quot;michael728&quot;</span><br><span class="line">git config --global user.email &quot;649168982@qq.com&quot;</span><br></pre></td></tr></table></figure></p><ul><li><code>--local</code>ï¼šåŒºåŸŸä¸ºæœ¬ä»“åº“</li><li><code>--global</code>: å½“å‰ç”¨æˆ·çš„æ‰€æœ‰ä»“åº“</li><li><code>--system</code>: æœ¬ç³»ç»Ÿçš„æ‰€æœ‰ç”¨æˆ·</li></ul><p>è¿è¡Œ <code>git config --help</code> å¯ä»¥çœ‹åˆ°å¸®åŠ©æ–‡æ¡£ï¼Œæ¯”å¦‚ï¼Œé…ç½®é”™è¯¯äº†ï¼Œå¯ä»¥åˆ é™¤ï¼š<code>git config --unset usr.name</code> å°† <code>usr.name</code> åˆ é™¤ï¼Œåº”è¯¥æ˜¯ <code>user.name</code>ã€‚</p><h3 id="ç”Ÿæˆ-SSH-Key"><a href="#ç”Ÿæˆ-SSH-Key" class="headerlink" title="ç”Ÿæˆ SSH Key"></a>ç”Ÿæˆ SSH Key</h3><p>1.å…ˆæŸ¥çœ‹æœ‰æ²¡æœ‰ SSH Keyï¼Œ<code>ls -al ~/.ssh</code>ï¼Œå¦‚æœæ²¡æœ‰ï¼Œé‡‡ç”¨å¦‚ä¸‹æ–¹æ³•ç”Ÿæˆã€‚<br>2.ç”Ÿæˆ ssh å…¬é’¥ï¼Œä¸è¦é‡å‘½åç”Ÿæˆçš„æ–‡ä»¶ï¼Œå¦åˆ™ä¼šå¯¼è‡´ ssh æ–¹å¼ä¸‹è½½ Git ä»£ç åº“å¤±è´¥ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C &quot;649168982@qq.com&quot;</span><br></pre></td></tr></table></figure></p><p>å‚æ•°è¯´æ˜ï¼š</p><ul><li><code>-t</code> ç”¨æ¥æŒ‡å®šåŠ å¯†ç®—æ³•ä¸º <code>rsa</code>ï¼›</li><li><code>-C</code> åé¢æ˜¯ä¸ªæ³¨é‡Šä¿¡æ¯ï¼Œå¹¶ä¸ä¸€å®šè¦å’Œä½  Git è´¦æˆ·çš„é‚®ç®±æˆ–è€… Git è´¦æˆ·åä¿æŒä¸€è‡´ï¼Œåªæ˜¯å¸¸å¸¸æ˜¯å’Œä½ è´¦æˆ·é‚®ç®±ä¿æŒä¸€è‡´ï¼Œè¿™æ ·è®¾ç½®ï¼Œå°±èƒ½çŸ¥é“è¿™ä¸ªå…¬é’¥è¢«ç»‘å®šåœ¨å“ªä¸ª Git è´¦æˆ·ä¸Šäº†ã€‚</li></ul><p>3.ç”Ÿæˆå…¬é’¥ä¹‹åï¼Œæ‹·è´å…¬é’¥çš„å†…å®¹ï¼Œç²˜è´´åˆ°ä½  <a href="https://github.com/settings/keys" target="_blank" rel="noopener">Github  è´¦æˆ·çš„ SSH Key è®¾ç½®</a>ä¸­ï¼›<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pbcopy &lt; ~/.ssh/id_rsa.pub</span><br></pre></td></tr></table></figure></p><p>å¦‚æœæ²¡æœ‰ <code>pbcopy</code> å‘½ä»¤ï¼Œå°±ç›´æ¥æ‰“å¼€ <code>id_rsa.pub</code> å†…å®¹ï¼Œå¤åˆ¶å³å¯ï¼›</p><p>å…³äºå…¬é’¥ç§é’¥çš„ä¸€äº›æ¢ç©¶ï¼š</p><ul><li>ä¸€ä¸ª ssh key åªèƒ½ç»‘å®šåœ¨ä¸€ä¸ª Git è´¦æˆ·ä¸Šï¼Œè€Œä¸€ä¸ª Git è´¦æˆ·å¯ä»¥ç»‘å®šå¤šä¸ª ssh keyï¼›</li><li>å…¬é’¥å°±ç›¸å½“äºä¸€ä¸ª <code>fingerprint</code> ï¼Œå…¬é’¥å’Œå”¯ä¸€ä¸€ä¸ª Git è´¦æˆ·ç»‘å®šï¼Œé‚£ä¹ˆå‡¡æ˜¯æœºå™¨ä¸Šæœ‰è¿™ä¸ªå…¬é’¥å¯¹åº”çš„ç§é’¥ï¼Œæœºå™¨å°±æœ‰ç»‘å®šè´¦æˆ·çš„æƒé™å»æ“ä½œç›¸å…³çš„ä»£ç åº“ï¼Œå³åœ¨ A æœºå™¨ä¸Šç”Ÿæˆçš„ç§é’¥å‘é€åˆ° B æœºå™¨ä¸Šï¼Œé‚£ä¹ˆï¼ŒB æœºå™¨ä¹Ÿä¼šæœ‰æƒé™ä¸‹è½½äº†ï¼›</li></ul><p>å‚è€ƒï¼š</p><ul><li><a href="https://help.github.com/articles/adding-a-new-ssh-key-to-your-github-account/" target="_blank" rel="noopener">Github Add SSH Key æ–‡æ¡£</a></li><li><a href="https://www.jianshu.com/p/33461b619d53" target="_blank" rel="noopener">ç®€ä¹¦-å›¾è§£SSHåŸç†</a></li><li><a href="https://www.jianshu.com/p/1246cfdbe460" target="_blank" rel="noopener">ç®€ä¹¦-SSH keyçš„ä»‹ç»ä¸åœ¨Gitä¸­çš„ä½¿ç”¨</a></li><li><a href="https://wiki.archlinux.org/index.php/SSH_keys_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87" target="_blank" rel="noopener">archlinux-SSH keys (ç®€ä½“ä¸­æ–‡)</a>)</li></ul><h3 id="Git-é…ç½®åˆ«å"><a href="#Git-é…ç½®åˆ«å" class="headerlink" title="Git é…ç½®åˆ«å"></a>Git é…ç½®åˆ«å</h3><p><code>git config</code>å‘½ä»¤å¯ä»¥è½»æ¾ä¸ºæ¯ä¸€ä¸ªå‘½ä»¤è®¾ç½®åˆ«åã€‚ä¾‹å¦‚ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git config --global alias.co checkout</span><br><span class="line">git config --global alias.br branch</span><br><span class="line">git config --global alias.ci commit</span><br><span class="line">git config --global alias.st status</span><br></pre></td></tr></table></figure></p><p>æ¼”ç¤ºå°†git visualå®šä¹‰ä¸º gitk çš„åˆ«åï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global alias.visual &apos;!gitk&apos;</span><br></pre></td></tr></table></figure></p><p>è®¾ç½®å‘½ä»¤çš„åˆ«åï¼Œå¯ä»¥æé«˜æ“ä½œæ•ˆç‡ã€‚æŸ¥çœ‹<code>.gitconfig</code>æ–‡ä»¶<code>vim ~/.gitconfig</code>ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">[user]</span><br><span class="line">name = xxx</span><br><span class="line">email = xxx</span><br><span class="line">[i18n]</span><br><span class="line">commitencoding = utf-8</span><br><span class="line">logoutputencoding = utf-8</span><br><span class="line">[core]</span><br><span class="line">quotepath = false</span><br><span class="line">[filter &quot;lfs&quot;]</span><br><span class="line">clean = git-lfs clean -- %f</span><br><span class="line">smudge = git-lfs smudge -- %f</span><br><span class="line">process = git-lfs filter-process</span><br><span class="line">required = true</span><br><span class="line">[alias]</span><br><span class="line">co = checkout</span><br><span class="line">br = branch</span><br><span class="line">c = commit</span><br><span class="line">s = status</span><br><span class="line">unstage = reset HEAD --</span><br><span class="line">last = log -1 HEAD</span><br><span class="line">lg = log --graph --pretty=format:&apos;%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&lt;%an&gt;%Creset&apos; --abbrev-commit --date=relative</span><br><span class="line"></span><br><span class="line">[color]</span><br><span class="line">ui = true</span><br></pre></td></tr></table></figure></p><p>æˆ‘ä»¬å¯ä»¥ä½“éªŒä¸€ä¸ª <code>log</code> çš„åˆ«åå‘½ä»¤è®¾ç½®ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lg = log --graph --pretty=format:&apos;%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&lt;%an&gt;%Creset&apos; --abbrev-commit --date=relative</span><br></pre></td></tr></table></figure></p><p>è¿™æ˜¯è¶…å‰å®³çš„åˆ«åç¼©å†™å‘½ä»¤ï¼Œè¯•è¯•ç°åœ¨çš„ <code>git lg</code> æœ‰å¤šé…·ç‚«å§ï¼</p><h2 id="æ¢ç§˜-git-ç›®å½•"><a href="#æ¢ç§˜-git-ç›®å½•" class="headerlink" title="æ¢ç§˜ .git ç›®å½•"></a>æ¢ç§˜ .git ç›®å½•</h2><p><code>.git</code> è£¸ä»“åº“æ–‡ä»¶å¤¹ï¼Œåæ˜ äº† Git è‰¯å¥½çš„æ–‡ä»¶å­˜å‚¨æœºåˆ¶ã€‚</p><ul><li><code>HEAD</code> æ–‡ä»¶ï¼ŒæŒ‡å‘<strong>å½“å‰æ‰€åœ¨çš„åˆ†æ”¯</strong>ï¼Œç±»ä¼¼ä¸€ä¸ªæ´»åŠ¨çš„æŒ‡é’ˆï¼Œè¡¨ç¤ºä¸€ä¸ªã€Œå¼•ç”¨ã€ã€‚ä¾‹å¦‚å½“å‰åœ¨ <code>develop</code> åˆ†æ”¯ï¼ŒHEAD å†…å®¹å°±æ˜¯ <code>ref: refs/heads/develop</code></li><li><code>config</code> æ–‡ä»¶ï¼Œæ˜¯æœ¬åœ°ä»“åº“çš„é…ç½®æ–‡ä»¶ï¼Œ<code>git config --local --list</code></li><li><code>refs</code> æ–‡ä»¶å¤¹ï¼ŒåŒ…å«äº† <code>heads</code> å’Œ <code>tags</code> æ–‡ä»¶å¤¹ã€‚<code>heads</code> å½’æ¡£çš„åˆ†æ”¯ï¼Œ<code>tags</code> å½’æ¡£çš„æ ‡ç­¾ï¼Œä¹Ÿå«åšã€Œé‡Œç¨‹ç¢‘ã€ã€‚<ul><li><code>heads</code> æ–‡ä»¶å¤¹ä¸‹æœ‰å¤šä¸ªæ–‡ä»¶ï¼Œæ¯ä¸ªæ–‡ä»¶å’Œä»“åº“æœ¬åœ°å­˜åœ¨çš„åˆ†æ”¯åä¸€è‡´ï¼Œæ–‡ä»¶å†…å®¹æ˜¯ commit idã€‚æ–‡ä»¶å½“ä¸­å­˜æ”¾çš„å…¶å®æ˜¯è¿™ä¸ªåˆ†æ”¯çš„æŒ‡é’ˆæŒ‡å‘çš„ commit idã€‚<code>git branch -av</code> å¯ä»¥çœ‹åˆ°åˆ†æ”¯ä¿¡æ¯å’Œ commit idã€‚å®ƒæ˜¯ä¸ª <code>commit</code> ç±»å‹çš„å¯¹è±¡ã€‚</li><li><code>tags</code> ä¸­ä¹Ÿæœ‰å¤šä¸ªæ–‡ä»¶ï¼Œæ–‡ä»¶åå’Œå­˜åœ¨ <code>tag</code> åä¸€è‡´ï¼Œå†…å®¹ä¹Ÿæ˜¯ commit idã€‚å®ƒä¹Ÿæ˜¯ä¸ª <code>commit</code> ç±»å‹çš„å¯¹è±¡ã€‚</li></ul></li><li>objects æ–‡ä»¶å¤¹ï¼ˆæ ¸å¿ƒï¼‰ï¼Œå­˜æ”¾æ‰€æœ‰çš„ git å¯¹è±¡ï¼Œå¯¹è±¡å“ˆå¸Œå€¼å‰ 2 ä½ä½œä¸ºæ–‡ä»¶å¤¹åç§°ï¼Œå 38 ä½ä½œä¸ºå¯¹è±¡æ–‡ä»¶å, å¯é€šè¿‡ <code>git cat-file -p &lt;2ä½+38ä½&gt;</code> å‘½ä»¤æŸ¥çœ‹æ–‡ä»¶å†…å®¹ã€‚<code>git cat-file -t &lt;2ä½+38ä½&gt;</code> æŸ¥çœ‹å¯¹è±¡ç±»å‹ï¼Œè¿™æ˜¯ä¸€ä¸ª <code>tree</code> ç±»å‹çš„å¯¹è±¡ã€‚å†…å®¹æœ¬èº«æ˜¯ä¸€ä¸ª <code>blob</code> å¯¹è±¡ã€‚ä»»ä½•æ–‡ä»¶çš„å†…å®¹ç›¸åŒï¼Œåœ¨ Git çœ¼é‡Œï¼Œå®ƒå°±æ˜¯å”¯ä¸€çš„ä¸€ä¸ª <code>blob</code> å¯¹è±¡ã€‚</li></ul><p>è¿˜æœ‰ä¸€äº›æš‚å¯ä»¥ä¸äº†è§£çš„æ–‡ä»¶ï¼š</p><ul><li><code>COMMIT_EDITMSG</code> æ–‡ä»¶</li><li><code>ORIG_HEAD</code> æ–‡ä»¶ï¼Œå¥½åƒæ˜¯ä¸Šä¸€æ¬¡çš„ commit id</li><li><code>description</code> æ–‡ä»¶ï¼Œä»“åº“çš„æè¿°ä¿¡æ¯æ–‡ä»¶</li><li><code>index</code> æ–‡ä»¶</li><li><code>hooks</code> æ–‡ä»¶å¤¹</li><li><code>info</code> æ–‡ä»¶å¤¹</li><li><code>logs</code> æ–‡ä»¶å¤¹</li></ul><h3 id="çŸ¥é“äº†ä¸€ä¸ª-sha1-å€¼ï¼Œå¦‚ä½•æŸ¥çœ‹å®ƒçš„å¯¹è±¡ç±»å‹ã€å¯¹è±¡å†…å®¹ã€å¯¹è±¡å¤§å°ï¼Ÿ"><a href="#çŸ¥é“äº†ä¸€ä¸ª-sha1-å€¼ï¼Œå¦‚ä½•æŸ¥çœ‹å®ƒçš„å¯¹è±¡ç±»å‹ã€å¯¹è±¡å†…å®¹ã€å¯¹è±¡å¤§å°ï¼Ÿ" class="headerlink" title="çŸ¥é“äº†ä¸€ä¸ª sha1 å€¼ï¼Œå¦‚ä½•æŸ¥çœ‹å®ƒçš„å¯¹è±¡ç±»å‹ã€å¯¹è±¡å†…å®¹ã€å¯¹è±¡å¤§å°ï¼Ÿ"></a>çŸ¥é“äº†ä¸€ä¸ª sha1 å€¼ï¼Œå¦‚ä½•æŸ¥çœ‹å®ƒçš„å¯¹è±¡ç±»å‹ã€å¯¹è±¡å†…å®¹ã€å¯¹è±¡å¤§å°ï¼Ÿ</h3><ul><li><code>git cat-file -t</code> å‘½ä»¤ ï¼Œ æŸ¥çœ‹ git å¯¹è±¡çš„ç±»å‹</li><li><code>git cat-file -p</code> å‘½ä»¤ï¼Œ æŸ¥çœ‹ git å¯¹è±¡çš„å†…å®¹</li><li><code>git cat-file -s</code> å‘½ä»¤ï¼Œ æŸ¥çœ‹ git å¯¹è±¡çš„å¤§å°</li></ul><h3 id="Git-å¯¹è±¡å½¼æ­¤å…³ç³»"><a href="#Git-å¯¹è±¡å½¼æ­¤å…³ç³»" class="headerlink" title="Git å¯¹è±¡å½¼æ­¤å…³ç³»"></a>Git å¯¹è±¡å½¼æ­¤å…³ç³»</h3><p><code>commit</code> <code>tree</code> <code>blob</code> ä¸‰ä¸ªå¯¹è±¡ä¹‹é—´çš„å…³ç³»ï¼š<br><img src="https://ws1.sinaimg.cn/mw690/6d9475f6ly1fzb6eybuywj212t0my435.jpg" alt><br>ä¸€æ¬¡ commit id å¯¹åº”ä¸€æ£µæ ‘ï¼ˆ<code>tree</code>ï¼‰ï¼Œä¸€æ¬¡å¿«ç…§ï¼Œæ•´ä¸ªé¡¹ç›®çš„å¿«ç…§ï¼ŒåŒ…å«äº†å“ªäº›æ–‡ä»¶å¤¹ï¼ˆ<code>tree</code>ï¼‰ã€å“ªäº›æ–‡ä»¶ï¼ˆ<code>blob</code>ï¼‰ã€‚<code>blob</code> å¯ä»¥çœ‹åšæ˜¯ä¸€ä¸ªæ–‡ä»¶ï¼Œä½†æ˜¯å’Œæ–‡ä»¶åæ˜¯æ²¡å…³ç³»çš„ï¼Œä¸ç®¡æ–‡ä»¶åæ˜¯ä»€ä¹ˆï¼Œåªè¦æ–‡ä»¶å†…å®¹ç›¸åŒï¼Œå°±æ˜¯ä¸€ä¸ª <code>blob</code>ï¼Œè¿™ç§è®¾è®¡å¤§å¤§èŠ‚çº¦äº†å­˜å‚¨ç©ºé—´ã€‚</p><h3 id="å®éªŒ"><a href="#å®éªŒ" class="headerlink" title="å®éªŒ"></a>å®éªŒ</h3><p>æ–°å»ºä¸€ä¸ª git ä»“åº“ï¼Œåˆ›å»ºä¸€ä¸ª doc æ–‡ä»¶å¤¹ï¼Œåœ¨ doc æ–‡ä»¶å¤¹ä¸­åˆ›å»º readme æ–‡ä»¶</p><ul><li>åœ¨å•çº¯åˆ›å»º doc æ–‡ä»¶å¤¹æ—¶ï¼Œ git ä¸ä¼šç†ä¼šï¼›</li><li>åˆ›å»º readme æ–‡ä»¶ä¹‹åï¼Œä¼šæç¤ºæœ‰æ–‡ä»¶å¯ä»¥æ·»åŠ è·Ÿè¸ªï¼›</li><li>è¿™æ—¶å€™æ‰§è¡Œ <code>find .git/objects --type f</code>ï¼Œ æ²¡æœ‰å‘ç°æœ‰å¯¹è±¡ç”Ÿæˆï¼›</li><li><p>æ¥ç€æ‰§è¡Œ <code>git add doc</code> å°†æ–‡ä»¶æ·»åŠ åˆ°æš‚å­˜åŒºï¼Œè¿™æ—¶å€™æœ‰æ–‡ä»¶å¯¹è±¡ç”Ÿæˆäº†:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ find .git/objects -type f</span><br><span class="line">.git/objects/27/e826dc62c8a3616e7c15d45a3d77cd8e7966c0</span><br><span class="line">$ git cat-file -t 27e8</span><br><span class="line">blob</span><br></pre></td></tr></table></figure></li><li><p>æ¥ç€åˆ›å»º commitï¼Œ<code>git commit -m &quot;add readme&quot;</code>ï¼Œè¿™æ—¶å€™æ–‡ä»¶å¯¹è±¡å†…å®¹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">.git/objects/27/e826dc62c8a3616e7c15d45a3d77cd8e7966c0</span><br><span class="line">.git/objects/87/0af27bedac0cf42d9a7637709e455fa7de7a7e</span><br><span class="line">.git/objects/a0/3d66adf115035c521bc08509f54d867590a458</span><br><span class="line">.git/objects/e6/b633ca37bf3532f87e833c8f765e07ea50cfe8</span><br></pre></td></tr></table></figure></li></ul><p>1 ä¸ª commit  å¯¹è±¡ï¼Œ2 ä¸ª tree å¯¹è±¡ï¼Œ1 ä¸ª blob å¯¹è±¡ã€‚</p><p>ä¸ºä½•ä¼šæœ‰2ä¸ª tree å¯¹è±¡å‘¢ï¼Œå…¶ä¸­ï¼Œæ•´ä¸ªå·¥ä½œç›®å½•æ˜¯ä¸€ä¸ª tree å¯¹è±¡ï¼Œå·¥ä½œç›®å½•ä¸‹çš„ doc æ–‡ä»¶å¤¹å¯¹åº”äº†ä¸€ä¸ª tree å¯¹è±¡ã€‚</p><p>æ‰©å……ï¼šæˆ‘åˆå°†ä¹‹å‰ doc æ–‡ä»¶å¤¹çš„ readme æ–‡ä»¶å¤åˆ¶åœ¨ä»“åº“çš„æ ¹ç›®å½•ä¸‹ï¼Œæ­¤æ—¶åœ¨ <code>git add readme</code> ä¹‹åï¼Œæ–‡ä»¶å¯¹è±¡ä»ç„¶æ— å˜åŒ–ï¼›ä½†æ˜¯ï¼Œå½“ commit ä¹‹åï¼Œæ–‡ä»¶å¯¹è±¡å˜å¤šäº†ï¼Œå¤šäº† 1 ä¸ª commitï¼Œ1ä¸ª tree å¯¹è±¡ã€‚è¿™ä¸ªå¤šå‡ºæ¥çš„ tree å¯¹è±¡ï¼Œå°±æ˜¯å› ä¸ºå·¥ä½œç›®å½•å˜åŒ–äº†ï¼Œé‚£ä¹ˆå°±å¤šå‡ºæ¥äº†ä¸€ä¸ª tree å¯¹è±¡ã€‚</p><h2 id="HEAD-ä¸-branch"><a href="#HEAD-ä¸-branch" class="headerlink" title="HEAD ä¸ branch"></a>HEAD ä¸ branch</h2><h3 id="åˆ†ç¦»å¤´æŒ‡é’ˆ"><a href="#åˆ†ç¦»å¤´æŒ‡é’ˆ" class="headerlink" title="åˆ†ç¦»å¤´æŒ‡é’ˆ"></a>åˆ†ç¦»å¤´æŒ‡é’ˆ</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout 20824e0</span><br><span class="line">Note: checking out &apos;20824e0&apos;.</span><br><span class="line"></span><br><span class="line">You are in &apos;detached HEAD&apos; state. You can look around, make experimental</span><br><span class="line">changes and commit them, and you can discard any commits you make in this</span><br><span class="line">state without impacting any branches by performing another checkout.</span><br></pre></td></tr></table></figure><p><code>detached HEAD</code>å°±è¡¨ç¤ºä½ å½“å‰å¤„äºã€Œåˆ†ç¦»å¤´æŒ‡é’ˆã€çš„çŠ¶æ€ã€‚,å…¶å®ï¼Œã€Œåˆ†ç¦»å¤´æŒ‡é’ˆã€å°±æ˜¯è¡¨ç¤ºæ­£å·¥ä½œåœ¨ä¸€ä¸ªæ²¡æœ‰åˆ†æ”¯çš„æƒ…å†µä¸‹ï¼Œæ²¡æœ‰ä¸åˆ†æ”¯è¿›è¡ŒæŒ‚é’©, HEAD æ²¡æœ‰æŒ‡å‘ä»»ä½•åˆ†æ”¯ã€‚ å¤„äºã€Œåˆ†ç¦»å¤´æŒ‡é’ˆã€çŠ¶æ€è¿›è¡Œæäº¤åï¼Œå½“ä½ åˆ‡æ¢åˆ°å…¶ä»–åˆ†æ”¯ï¼Œä¾‹å¦‚ <code>git checkout master</code> ï¼Œä¹‹å‰äº§ç”Ÿçš„ commit å¯èƒ½ä¼šè¢« Git å½“ä¸ºåƒåœ¾æ¸…é™¤æ‰ã€‚</p><h3 id="åˆ†ç¦»å¤´æŒ‡é’ˆçš„åº”ç”¨åœºæ™¯"><a href="#åˆ†ç¦»å¤´æŒ‡é’ˆçš„åº”ç”¨åœºæ™¯" class="headerlink" title="åˆ†ç¦»å¤´æŒ‡é’ˆçš„åº”ç”¨åœºæ™¯"></a>åˆ†ç¦»å¤´æŒ‡é’ˆçš„åº”ç”¨åœºæ™¯</h3><p>åœ¨å¤„äºåˆ†æ”¯å¤´æŒ‡é’ˆçŠ¶æ€æ—¶ï¼Œä½ äº§ç”Ÿäº†ä¸€æ¬¡ commit <code>0635f24</code>ï¼Œå½“ä½ åˆ‡æ¢åˆ°å…¶ä»–åˆ†æ”¯åï¼Œæœ‰å¯èƒ½å°±æ‰¾ä¸åˆ°åˆšåˆšçš„æäº¤äº†ï¼Œä½ ç”¨ <code>gitk --all</code> ä¹‹åï¼Œçœ‹ä¸åˆ°åˆšåˆšçš„æäº¤çš„ã€‚</p><p>å¦‚æœæƒ³ä¿å­˜åˆšåˆšçš„æäº¤ï¼Œéœ€è¦ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤å°†å…¶ä¸åˆ†æ”¯æŒ‚é’©ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch &lt;new-branch-name&gt; 0635f24</span><br></pre></td></tr></table></figure></p><p>å¦‚æœä¸´æ—¶æƒ³åŸºäºæŸä¸ª commit åšå˜æ›´ï¼Œè¯•è¯•æ–°æ–¹æ¡ˆæ˜¯å¦å¯è¡Œï¼Œå°±å¯ä»¥é‡‡ç”¨åˆ†ç¦»å¤´æŒ‡é’ˆçš„æ–¹å¼ã€‚æµ‹è¯•åå‘ç°æ–°æ–¹æ¡ˆä¸æˆç†Ÿï¼Œç›´æ¥ reset å›å…¶ä»–åˆ†æ”¯å³å¯ï¼Œçœå´äº†å»ºã€åˆ åˆ†æ”¯çš„éº»çƒ¦ã€‚</p><h3 id="è¿›ä¸€æ­¥ç†è§£-HEAD-å’Œ-branch"><a href="#è¿›ä¸€æ­¥ç†è§£-HEAD-å’Œ-branch" class="headerlink" title="è¿›ä¸€æ­¥ç†è§£ HEAD å’Œ branch"></a>è¿›ä¸€æ­¥ç†è§£ HEAD å’Œ branch</h3><p>HEAD æ—¢å¯ä»¥æŒ‡å‘å½“å‰åˆ†æ”¯çš„æœ€æ–° commitï¼Œä¹Ÿå¯ä»¥æŒ‡å‘å†å²ä¸­çš„æŸä¸€æ¬¡ commit (ã€Œåˆ†ç¦»å¤´æŒ‡é’ˆã€çš„æƒ…å†µ)ã€‚å½’æ ¹ç»“åº•ï¼ŒHEAD æŒ‡å‘çš„å°±æ˜¯ä¸€æ¬¡ commitã€‚</p><p>å½“æˆ‘ä»¬åšåˆ†æ”¯åˆ‡æ¢æ—¶ï¼ŒHEAD ä¼šè·Ÿç€åˆ‡æ¢ã€‚</p><p>ä¾‹å¦‚æ¯”è¾ƒæœ€è¿‘ä¸¤æ¬¡æäº¤çš„å·®å¼‚ï¼Œå¯ä»¥ç”¨å‘½ä»¤ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># ä¸‹é¢ä¸‰ä¸ªå‘½ä»¤ç­‰æ•ˆ</span><br><span class="line">git diff xxx1 xxx2</span><br><span class="line">git diff HEAD HEAD^</span><br><span class="line">Git diff HEAD HEAD~1</span><br></pre></td></tr></table></figure></p><ul><li><code>HEAD^1</code> è¡¨ç¤º HEAD çš„çˆ¶äº²ï¼Œ<code>HEAD^^</code> è¡¨ç¤º HEAD çˆ¶äº²çš„çˆ¶äº²ã€‚</li><li><code>HEAD^^</code> å’Œ <code>HEAD~2</code>ç­‰æ•ˆã€‚</li></ul><h2 id="Git-å°æŠ€å·§"><a href="#Git-å°æŠ€å·§" class="headerlink" title="Git å°æŠ€å·§"></a>Git å°æŠ€å·§</h2><h3 id="Git-å¸®åŠ©æ–‡æ¡£"><a href="#Git-å¸®åŠ©æ–‡æ¡£" class="headerlink" title="Git å¸®åŠ©æ–‡æ¡£"></a>Git å¸®åŠ©æ–‡æ¡£</h3><p>æˆäººä»¥é±¼ä¸å¦‚æˆäººä»¥æ¸”ï¼Œå…ˆçŸ¥é“æ€ä¹ˆé€šè¿‡å¸®åŠ©æ–‡æ¡£æŸ¥çœ‹å¸¸ç”¨å‘½ä»¤çš„è¯´æ˜å§ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git help</span><br><span class="line">git help &lt;cmd&gt; # ä¸ git &lt;cmd&gt; --help ç­‰ä»·</span><br><span class="line">git help &lt;cmd&gt; --web # ä½¿ç”¨æµè§ˆå™¨é¡µé¢æ‰“å¼€</span><br><span class="line">git &lt;cmd&gt; -h # æ˜¾ç¤ºç®€ç•¥çš„å‘½ä»¤å¸®åŠ©</span><br></pre></td></tr></table></figure><h3 id="gitk-å›¾å½¢ç•Œé¢"><a href="#gitk-å›¾å½¢ç•Œé¢" class="headerlink" title="gitk å›¾å½¢ç•Œé¢"></a>gitk å›¾å½¢ç•Œé¢</h3><p>gitk åé¢å¯ä»¥è·Ÿä¸Šæ–‡ä»¶çš„è·¯å¾„ï¼Œ è¿™æ ·èƒ½çœ‹å•ä¸ªæ–‡ä»¶çš„ä¿®æ”¹å†å²çš„å…·ä½“å†…å®¹ã€‚</p><ul><li><code>Patch</code> è¡¨ç¤ºçš„æ˜¯ã€Œå˜æ›´é›†ã€ï¼ŒæŸä¸€æ¬¡ commit ä¿®æ”¹çš„æ–‡ä»¶é›†åˆï¼›</li><li><code>Author</code> ä½œè€…</li><li><code>Commiter</code> æäº¤äºº</li><li><code>Cherry</code> æŒ‘é€‰ä¸€ä¸ª commitï¼Œæ”¾åˆ°å¦ä¸€ä¸ªåˆ†æ”¯ä¸Šï¼Œè¿™æ—¶å€™ï¼ŒAuthor å’Œ Commiter å°±æœ‰å¯èƒ½ä¸æ˜¯ä¸€ä¸ªäººäº†ï¼Œå› ä¸ºä½ æŒ‘é€‰çš„é‚£ä¸ª commit  ä½œè€…å¯èƒ½æ˜¯ Aï¼Œä½  cherry pick è¿‡æ¥ä¹‹åæäº¤ï¼Œæäº¤äººæ˜¯ä½ ï¼Œä½†æ˜¯ä½œè€…ä¿¡æ¯è¿˜æ˜¯ Aï¼Œç‰ˆæƒè€ƒè™‘ã€‚</li><li><code>Parent</code> ä¸Šä¸€æ¬¡çš„ commit id</li><li><code>Child</code> ä¸‹ä¸€æ¬¡çš„ commit id </li><li>èœå• View ï¼Œé€‰æ‹© <code>All refs</code> å¯ä»¥çœ‹åˆ°æ‰€æœ‰çš„åˆ†æ”¯æ¼”å˜å›¾</li></ul><h3 id="gitignore-æŒ‡å®šä¸éœ€è¦-Git-ç®¡ç†çš„æ–‡ä»¶"><a href="#gitignore-æŒ‡å®šä¸éœ€è¦-Git-ç®¡ç†çš„æ–‡ä»¶" class="headerlink" title="gitignore æŒ‡å®šä¸éœ€è¦ Git ç®¡ç†çš„æ–‡ä»¶"></a>gitignore æŒ‡å®šä¸éœ€è¦ Git ç®¡ç†çš„æ–‡ä»¶</h3><p><code>.gitignore</code> æŒ‡å®šå“ªäº›æ–‡ä»¶ä¸éœ€è¦çº³å…¥ç‰ˆæœ¬ç®¡ç†çš„ã€‚</p><ul><li><code>*.d</code> ä»»ä½• <code>.d</code> ç»“å°¾çš„æ–‡ä»¶éƒ½ä¸éœ€è¦ï¼›</li><li><code>*.dSYN/</code> ä»»ä½•ä»¥ <code>.dSYM</code> ç»“å°¾çš„æ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶éƒ½ä¸è¦ï¼›</li></ul><p>åŠ ä¸åŠ  <code>/</code> ä½œç”¨æ˜¯ä¸ä¸€æ ·çš„ï¼Œå¾ˆå¾®å¦™ã€‚æ¯”å¦‚ï¼Œæœ‰ä¸€ä¸ªæ–‡ä»¶å¤¹å« <code>doc</code>ï¼Œé‚£ä¹ˆï¼Œ<code>.gitignore</code> ä¸­å†™ <code>doc</code>ï¼Œ Git æ—¢ä¼šå¿½ç•¥ doc æ–‡ä»¶å¤¹ï¼Œä¹Ÿä¼šå¿½ç•¥ <code>doc</code> æ–‡ä»¶ï¼åªæœ‰ <code>doc/</code> è¿™ä¹ˆå†™ï¼Œæ‰ä¼šåªå¿½ç•¥ <code>doc</code> æ–‡ä»¶å¤¹è€Œä¸å¿½ç•¥ <code>doc</code> æ–‡ä»¶ï¼Œä½œç”¨æ‰å¾ˆæ˜ç¡®ã€‚</p><p>æ‰€ä»¥ï¼Œå¦‚æœè¦å¿½ç•¥çš„æ˜¯æ–‡ä»¶å¤¹ï¼Œé‚£ä¹ˆå°±æ˜¾ç¤ºçš„åŠ ä¸Š <code>/</code> å§ã€‚</p><p>Github ç°åœ¨åˆ›å»ºä»“åº“æ—¶ï¼Œå¯ä»¥é€‰æ‹©ç”Ÿæˆä»€ä¹ˆ <code>.gitignore</code> ï¼Œé™„ä¸Šé“¾æ¥ä½œä¸ºå‚è€ƒï¼š</p><ul><li><a href="https://github.com/github/gitignore/blob/master/Maven.gitignore" target="_blank" rel="noopener">github/gitignore/maven</a></li><li><a href="https://github.com/github/gitignore/blob/master/Java.gitignore" target="_blank" rel="noopener">github/gitignore/java</a></li></ul><p>è¿™é‡Œæœ‰ä¸€ä¸ª<a href="https://github.com/intellij-rust/intellij-rust/issues/1570" target="_blank" rel="noopener">å¸–å­</a>è®¨è®ºäº†ä¸ºä½• <code>.idea</code> æ–‡ä»¶å¤¹æ²¡æœ‰åŠ å…¥åˆ° <code>.gitignore</code> ä¸­ï¼Œè¿™æ˜¯å› ä¸ºæ¯ä¸ªå¼€å‘è€…çš„ç¼–è¾‘å™¨ä¸ä¸€æ ·ï¼Œå¤§éƒ¨åˆ†ä¹ æƒ¯æ˜¯å°†ç¼–è¾‘å™¨äº§ç”Ÿçš„æ–‡ä»¶å¤¹æ·»åŠ åˆ°å…¨å±€çš„å¿½ç•¥é…ç½®ä¸­ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># file: ~/.gitignore_global</span><br><span class="line">.DS_Store</span><br><span class="line">.idea</span><br></pre></td></tr></table></figure></p><p>æ­¤å¤–ï¼Œè¿˜è¦é…ç½®æŒ‡å®šå…¨å±€çš„å¿½ç•¥æ–‡ä»¶é…ç½®åœ¨å“ªå„¿ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global core.excludesfile /Users/michael/.gitignore_global</span><br></pre></td></tr></table></figure></p><p>æˆ–è€…ç¼–è¾‘å…¨å±€é…ç½®æ–‡ä»¶ <code>~/.gitconfig</code>:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[core]</span><br><span class="line">    excludesfile=/Users/michael/.gitignore_global</span><br></pre></td></tr></table></figure></p><p>å‚è€ƒï¼š</p><ul><li><a href="https://www.jianshu.com/p/8c0d262e49a6" target="_blank" rel="noopener">Gitä¸­å…¨å±€å¿½ç•¥.DS_Storeæ–‡ä»¶</a></li></ul><h2 id="è§£å†³å†²çªçš„å·¥å…·"><a href="#è§£å†³å†²çªçš„å·¥å…·" class="headerlink" title="è§£å†³å†²çªçš„å·¥å…·"></a>è§£å†³å†²çªçš„å·¥å…·</h2><p><a href="https://sourcegear.com/diffmerge/downloads.php" target="_blank" rel="noopener">diffmerge</a>æ˜¯ä¸€ä¸ªå¯ä»¥ç”¨æ¥æ–‡ä»¶å¯¹æ¯”è½¯ä»¶ã€‚ç›¸è¾ƒäº <code>git mergetool</code> ä½¿ç”¨çš„è‡ªå¸¦çš„ç•Œé¢ï¼Œdiffmerge æä¾›äº†ä¸€ä¸ªå¯äº¤äº’çš„ç¼–è¾‘çª—å£ï¼Œå¤§å¤§æé«˜äº†æ•ˆç‡ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ç®€å•çš„é…ç½®ï¼Œåœ¨ä½¿ç”¨ <code>git difftool</code> <code>git mergetool</code> æ—¶ï¼Œé»˜è®¤ä½¿ç”¨ diffmerge å·¥å…·æ¥è¿›è¡Œå±•ç¤ºå·®å¼‚ã€‚å½“ç„¶ï¼Œä½ è¦æ˜¯æœ‰é’±ï¼Œä¹Ÿå¯ä»¥é€‰æ‹© Beyond Compare æ¥ä½œä¸ºå¯¹æ¯”è½¯ä»¶ã€‚</p><p>é€‰æ‹© OS X 10.6+ Installer (Intel)    ç‰ˆæœ¬ï¼Œå®‰è£…å¥½ä¹‹åè¿›è¡Œé…ç½®ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global diff.tool diffmerge</span><br><span class="line">$ git config --global difftool.diffmerge.cmd &quot;/usr/local/bin/diffmerge \&quot;\$LOCAL\&quot; \&quot;\$REMOTE\&quot;&quot;</span><br><span class="line"></span><br><span class="line">$ git config --global merge.tool diffmerge</span><br><span class="line">$ git config --global mergetool.diffmerge.trustExitCode true</span><br><span class="line">$ git config --global mergetool.diffmerge.cmd &quot;/usr/local/bin/diffmerge --merge --result=\&quot;\$MERGED\&quot;</span><br><span class="line">        \&quot;\$LOCAL\&quot; \&quot;\$BASE\&quot; \&quot;\$REMOTE\&quot;&quot;</span><br></pre></td></tr></table></figure></p><p>ä¸ºäº†é¿å…æ¯æ¬¡è¿è¡Œgit difftooléƒ½æœ‰æç¤ºä¿¡æ¯ï¼Œå¯ä»¥è¾“å…¥å¦‚ä¸‹å‘½ä»¤<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global difftool.prompt false</span><br></pre></td></tr></table></figure></p><p>ä¸ºäº†èƒ½å¤Ÿæ”¯æŒæ˜¾ç¤ºä¸­æ–‡ï¼Œéœ€è¦å¯¹ç¼–ç è¿›è¡Œè®¾ç½®ï¼š<br><img src="https://ws1.sinaimg.cn/mw690/6d9475f6ly1fzd371zsdzj21280p67cl.jpg" alt></p><p>diffmerge çš„ä½¿ç”¨ï¼š</p><ul><li><code>git difftool [fileName]</code></li><li><code>git mergetool [fileName]</code></li></ul><p>ä½¿ç”¨ <code>git mergetool</code> åˆå¹¶åˆ†æ”¯æ—¶ï¼Œé»˜è®¤ä¼šç”Ÿæˆä»¥ <code>*.orig</code> ä¸ºæ‰©å±•åçš„å¤‡ä»½æ–‡ä»¶ï¼Œæ¯æ¬¡éƒ½è¦æ‰‹åŠ¨åˆ é™¤ã€‚å¯ä»¥ä¿®æ”¹ Git é…ç½®ï¼Œç¦æ­¢äº§ç”Ÿå¤‡ä»½æ–‡ä»¶ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global mergetool.keepBackup false</span><br></pre></td></tr></table></figure></p><p>å‚è€ƒï¼š</p><ul><li><a href="https://www.youtube.com/watch?v=wxh-AOxPX_A" target="_blank" rel="noopener">æ²¹ç®¡-git mergetool explained</a> å¯¹è‡ªå¸¦çš„ <code>git mergetool</code> å‘½ä»¤çš„ä½¿ç”¨ä»‹ç»</li><li><a href="https://www.youtube.com/watch?v=iCGrKFH2oeo" target="_blank" rel="noopener">æ²¹ç®¡-Git Tutorial: Diff and Merge Tools</a></li><li><a href="https://sourcegear.com/diffmerge/downloads.php" target="_blank" rel="noopener">diffmerge ä¸‹è½½</a> é€‰æ‹© OS X 10.6+ Installer (Intel)    ç‰ˆæœ¬</li><li><a href="http://www.sourcegear.com/diffmerge/webhelp/sec__git__mac.html" target="_blank" rel="noopener">diffmerge å¸®åŠ©æ–‡æ¡£</a></li><li><a href="https://www.cnblogs.com/happyflyingpig/p/7850420.html" target="_blank" rel="noopener">åšå®¢å›­-DiffMergeå®‰è£…é…ç½®ä½¿ç”¨</a> è®²äº†å¦‚ä½•é…ç½® UTF-8</li><li><a href="https://www.zhihu.com/question/21215715" target="_blank" rel="noopener">å¯¹äºè§£å†³ Git çš„ Merge Conflict ä½ æœ‰å“ªäº›ç»éªŒå’ŒæŠ€å·§</a></li><li><a href="https://stackoverflow.com/questions/161813/how-to-resolve-merge-conflicts-in-git" target="_blank" rel="noopener">SOF-How to resolve merge conflicts in Git</a></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Git-åŸºç¡€å­¦ä¹ ç³»åˆ—&quot;&gt;&lt;a href=&quot;#Git-åŸºç¡€å­¦ä¹ ç³»åˆ—&quot; class=&quot;headerlink&quot; title=&quot;Git åŸºç¡€å­¦ä¹ ç³»åˆ—&quot;&gt;&lt;/a&gt;Git åŸºç¡€å­¦ä¹ ç³»åˆ—&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://michael728.gith
      
    
    </summary>
    
      <category term="ToolsDev" scheme="https://michael728.github.io/categories/ToolsDev/"/>
    
    
      <category term="ss" scheme="https://michael728.github.io/tags/ss/"/>
    
      <category term="vps" scheme="https://michael728.github.io/tags/vps/"/>
    
  </entry>
  
  <entry>
    <title>Mac ç¯å¢ƒå¯¹ Github Homebrew ç­‰ç»ˆç«¯å·¥å…·çš„åŠ é€Ÿè®¾ç½®</title>
    <link href="https://michael728.github.io/2019/11/13/tools-tips-mac-accelerate/"/>
    <id>https://michael728.github.io/2019/11/13/tools-tips-mac-accelerate/</id>
    <published>2019-11-13T20:29:13.000Z</published>
    <updated>2020-01-05T15:47:56.124Z</updated>
    
    <content type="html"><![CDATA[<h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>æœ€è¿‘ Mac å‡çº§ç³»ç»Ÿä¹‹åï¼Œå¯¼è‡´è½¯ä»¶éƒ½å¾—é‡è£…ã€‚å‘ç° Homebrew å®‰è£…è½¯ä»¶å¾ˆå¤šéƒ½æ˜¯å» Github ä¸Šä¸‹è½½ï¼Œæ€ä¹ˆåŠ é€Ÿå‘¢ï¼Ÿç®€è¦åšä¸ªå¤‡å¿˜å§ã€‚</p><h2 id="æ­¥éª¤"><a href="#æ­¥éª¤" class="headerlink" title="æ­¥éª¤"></a>æ­¥éª¤</h2><p>é¦–å…ˆï¼Œæˆ‘æ˜¯æœ‰ä¸€ä¸ª VPS ä»£ç†çš„ï¼Œå¦‚ä½•é…ç½®ï¼Œå¯ä»¥çœ‹æˆ‘ä¹‹å‰çš„æ€»ç»“<a href="https://michael728.github.io/2019/04/27/tools-ss-vps/">ss+vps+mac</a> PSï¼šè®°å¾—ç”¨æˆ‘çš„é“¾æ¥æ³¨å†Œå‘€ï¼æˆ‘ä»¬éƒ½ä¼šæœ‰è¿”åˆ©ï¼</p><p>åœ¨å°† SS è½¯ä»¶æ‰“å¼€å…¨å±€æ¨¡å¼ä¸‹ï¼Œé€Ÿåº¦ä¾ç„¶å¾ˆæ…¢ï¼Œè¿™æ—¶å€™ä½ éœ€è¦è®¾ç½®ç»ˆç«¯çš„ä»£ç†æ‰ä¼šåŠ é€Ÿã€‚ç»ˆç«¯ä»£ç†åˆ†ä¸ºï¼š</p><ul><li>http_proxy</li><li>https_proxy</li><li>all_proxy è¿™ä¸ªæ˜¯é’ˆå¯¹ç»ˆç«¯æ‰€æœ‰çš„è¿æ¥éƒ½èµ°ä»£ç†</li></ul><p>SS è½¯ä»¶ï¼Œæ”¯æŒ socks5 åè®®ï¼Œä¹Ÿæ”¯æŒ http åè®®ï¼Œæ‰“å¼€ åå¥½è®¾ç½® â€“&gt; é«˜çº§ é€‰é¡¹ï¼Œå¯ä»¥çœ‹åˆ° socks5 åè®®çš„ ip ä»¥åŠç«¯å£ï¼Œåœ¨ http é€‰é¡¹å¡ï¼Œå¯ä»¥çœ‹åˆ° http ä»£ç†çš„ä¿¡æ¯ã€‚</p><p><img src="https://gitee.com/michael_xiang/images/raw/master/Jietu20191114-230908.jpg" alt></p><p>æˆ‘æ˜¯è¿™ä¹ˆé…ç½®çš„ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">export all_proxy=&quot;socks5://127.0.0.1:1086&quot;</span><br><span class="line"># or</span><br><span class="line">export all_proxy=&quot;http://127.0.0.1:1087&quot;</span><br></pre></td></tr></table></figure></p><p>ä¸Šé¢çš„ç«¯å£å· <code>1086</code> å–å†³äºä½  SS è½¯ä»¶ä¸­é…ç½®çš„ç«¯å£å·ã€‚é™¤äº† <code>socks5</code> åè®®ä¹‹å¤–ï¼Œä½ ä¹Ÿå¯ä»¥é…ç½® <code>http</code> ä»£ç†ã€‚</p><p>å¦‚æœä¸ºäº†é¿å…æ¯æ¬¡éƒ½è¦æ‰§è¡Œè®¾ç½®ä»£ç†ï¼Œå¯ä»¥å°†ä¸Šé¢çš„é…ç½®åŠ åˆ°ä½ çš„ç»ˆç«¯é…ç½®æ–‡ä»¶ä¸­ï¼Œæ¯”å¦‚æˆ‘æ˜¯ <code>~/.zshrc</code>ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">export all_proxy=&quot;socks5://127.0.0.1:1086&quot; &gt;&gt; ~/.zshrc</span><br><span class="line">source ~/.zshrc</span><br></pre></td></tr></table></figure><p>è¿™æ—¶å€™ï¼Œhomebrew å®‰è£…å°±ä¸ä¼šå¤ªæ…¢äº†ã€‚</p><p>è®¾ç½®å¥½ä»£ç†ä»¥åï¼Œå¯ä»¥ä½¿ç”¨ <code>curl cip.cc</code> æŸ¥çœ‹å½“å‰è‡ªå·±çš„ ip ä¿¡æ¯ï¼Œç¡®è®¤ä»£ç†æ˜¯å¦è®¾ç½®æˆåŠŸã€‚</p><p>ä¸ºäº†åŠ é€Ÿ Git ä¸‹è½½ï¼Œæˆ‘åœ¨ <code>~/.gitconfig</code> ä¸­åŠ å…¥äº†å¦‚ä¸‹çš„è®¾ç½®ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[https]</span><br><span class="line">    proxy = http://127.0.0.1:1087</span><br><span class="line">    sslVerify = false</span><br><span class="line">[http]</span><br><span class="line">    proxy = http://127.0.0.1:1087</span><br><span class="line">    sslVerify = false</span><br></pre></td></tr></table></figure><p>è¿˜æœ‰ä¸€ç§æ–¹æ³•ï¼Œåªç»™éƒ¨åˆ†åŸŸåé…ç½®ä»£ç†ï¼Œè¿™æ ·å¯ä»¥é¿å…å…‹éš†å›½å†…ä»“åº“æ—¶ï¼Œé€Ÿåº¦ä¸ä¼šå—åˆ°å½±å“ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global http.https://github.com.proxy socks5://127.0.0.1:1087</span><br><span class="line">git config --global https.https://github.com.proxy socks5://127.0.0.1:1087</span><br></pre></td></tr></table></figure><p>å–æ¶ˆ Git ä»£ç†è®¾ç½®ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global --unset http.proxy</span><br><span class="line">git config --global --unset https.proxy</span><br></pre></td></tr></table></figure><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a href="https://jdhao.github.io/2019/10/10/mac_proxy_in_terminal/" target="_blank" rel="noopener">ä½¿ç”¨ä»£ç†åŠ é€Ÿ Mac ç»ˆç«¯ä¸‹è½½é€Ÿåº¦</a></li><li><a href="https://blog.gobyte.cn/post/1a22163b.html" target="_blank" rel="noopener">GitHubå…‹éš†cloneå¤ªæ…¢æ·»åŠ ä»£ç†åŠ é€Ÿè®¿é—®</a></li></ul><p><a href="https://www.vultr.com/?ref=7488919" target="_blank" rel="noopener"><img src="https://www.vultr.com/media/banners/banner_728x90.png" width="728" height="90"></a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;èƒŒæ™¯&quot;&gt;&lt;a href=&quot;#èƒŒæ™¯&quot; class=&quot;headerlink&quot; title=&quot;èƒŒæ™¯&quot;&gt;&lt;/a&gt;èƒŒæ™¯&lt;/h2&gt;&lt;p&gt;æœ€è¿‘ Mac å‡çº§ç³»ç»Ÿä¹‹åï¼Œå¯¼è‡´è½¯ä»¶éƒ½å¾—é‡è£…ã€‚å‘ç° Homebrew å®‰è£…è½¯ä»¶å¾ˆå¤šéƒ½æ˜¯å» Github ä¸Šä¸‹è½½ï¼Œæ€ä¹ˆåŠ é€Ÿå‘¢ï¼Ÿç®€è¦åšä¸ªå¤‡å¿˜å§ã€‚
      
    
    </summary>
    
      <category term="ToolsDev" scheme="https://michael728.github.io/categories/ToolsDev/"/>
    
    
      <category term="Tools" scheme="https://michael728.github.io/tags/Tools/"/>
    
      <category term="Mac" scheme="https://michael728.github.io/tags/Mac/"/>
    
  </entry>
  
  <entry>
    <title>å·¥ä½œæ€»ç»“/æ€è€ƒ</title>
    <link href="https://michael728.github.io/2019/10/14/summary-work/"/>
    <id>https://michael728.github.io/2019/10/14/summary-work/</id>
    <published>2019-10-14T23:10:57.000Z</published>
    <updated>2020-01-05T15:47:56.120Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><p>æ‹…å¿ƒæ—¶é—´ä¹…äº†ï¼Œäººä¹Ÿæ‡’äº†ï¼Œç”¨æœ¬æ–‡è®°è½½ä¸€ä¸‹ä¸»è¦çš„å·¥ä½œç»å†å§ã€‚</p><h2 id="é…ç½®ç®¡ç†"><a href="#é…ç½®ç®¡ç†" class="headerlink" title="é…ç½®ç®¡ç†"></a>é…ç½®ç®¡ç†</h2><p>201706 ~ 201805</p><h3 id="æ€ç»´æ–¹å¼"><a href="#æ€ç»´æ–¹å¼" class="headerlink" title="æ€ç»´æ–¹å¼"></a>æ€ç»´æ–¹å¼</h3><ul><li>ä¸è¦æœ‰è¾¹ç•Œæ€ç»´ï¼Œä¸»äººç¿æ„è¯†</li><li>ä¿æŒæ”¹è¿›æ„è¯†ï¼Œå¤šæ€è€ƒ</li><li>å¤šæ€»ç»“ã€å¤šåˆ†äº«</li><li>æ€è·¯ä¸æ¸…æ™°æ—¶ï¼Œå…ˆæ¢³ç†æ¸…æ¥šæ€è·¯ï¼ŒæŒ‰ç…§æ€è·¯æ‰§è¡Œè®¡åˆ’</li><li>å‡¡æ˜¯è¦ä¹ˆä¸åšï¼Œè¦åšå°±è¦åšå¥½</li><li>å‘¨è¾¹ä¸šåŠ¡çš„æ²Ÿé€šèƒ½åŠ›</li></ul><h3 id="å·¥ä½œå†…å®¹"><a href="#å·¥ä½œå†…å®¹" class="headerlink" title="å·¥ä½œå†…å®¹"></a>å·¥ä½œå†…å®¹</h3><ul><li>ä»£ç åº“ç®¡ç†<ul><li>E2E ç«¯åˆ°ç«¯å¯æº¯ äºŒè¿›åˆ¶å¯è¿½æº¯ ä»£ç å…¥åº“å¯è¿½æº¯ å˜æ›´/å‘å¸ƒå¯è¿½æº¯</li><li>åº¦é‡</li><li>åˆ†æ”¯</li></ul></li><li>æƒé™ç®¡ç†</li><li>å¼€å‘ç¯å¢ƒæ ‡å‡†è‡ªåŠ¨åŒ–</li><li>å¼€æºåŠç¬¬ä¸‰æ–¹è½¯ä»¶<ul><li>å¼€æºæ‰«æ</li></ul></li><li>ç‰ˆæœ¬é…å¥—è¡¨</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;ç®€ä»‹&quot;&gt;&lt;a href=&quot;#ç®€ä»‹&quot; class=&quot;headerlink&quot; title=&quot;ç®€ä»‹&quot;&gt;&lt;/a&gt;ç®€ä»‹&lt;/h2&gt;&lt;p&gt;æ‹…å¿ƒæ—¶é—´ä¹…äº†ï¼Œäººä¹Ÿæ‡’äº†ï¼Œç”¨æœ¬æ–‡è®°è½½ä¸€ä¸‹ä¸»è¦çš„å·¥ä½œç»å†å§ã€‚&lt;/p&gt;
&lt;h2 id=&quot;é…ç½®ç®¡ç†&quot;&gt;&lt;a href=&quot;#é…ç½®ç®¡ç†&quot; class=&quot;
      
    
    </summary>
    
      <category term="DevOps" scheme="https://michael728.github.io/categories/DevOps/"/>
    
    
      <category term="æ€»ç»“" scheme="https://michael728.github.io/tags/%E6%80%BB%E7%BB%93/"/>
    
      <category term="å·¥ä½œ" scheme="https://michael728.github.io/tags/%E5%B7%A5%E4%BD%9C/"/>
    
      <category term="æ€è€ƒ" scheme="https://michael728.github.io/tags/%E6%80%9D%E8%80%83/"/>
    
  </entry>
  
  <entry>
    <title>Python ä»£ç ç‰‡æ®µæ”¶è—</title>
    <link href="https://michael728.github.io/2019/09/07/python-useful-snippets/"/>
    <id>https://michael728.github.io/2019/09/07/python-useful-snippets/</id>
    <published>2019-09-07T11:10:57.000Z</published>
    <updated>2020-01-05T15:47:56.120Z</updated>
    
    <content type="html"><![CDATA[<h1 id="list-åˆ—è¡¨ç›¸å…³"><a href="#list-åˆ—è¡¨ç›¸å…³" class="headerlink" title="list åˆ—è¡¨ç›¸å…³"></a>list åˆ—è¡¨ç›¸å…³</h1><h2 id="list-ä¸­æœ€å°å€¼ã€æœ€å¤§å€¼"><a href="#list-ä¸­æœ€å°å€¼ã€æœ€å¤§å€¼" class="headerlink" title="list ä¸­æœ€å°å€¼ã€æœ€å¤§å€¼"></a>list ä¸­æœ€å°å€¼ã€æœ€å¤§å€¼</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> operator</span><br><span class="line"></span><br><span class="line">values = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line"></span><br><span class="line">min_index, min_value = min(enumerate(values), key=operator.itemgetter(<span class="number">1</span>))</span><br><span class="line">max_index, max_value = max(enumerate(values), key=operator.itemgetter(<span class="number">1</span>))</span><br><span class="line"></span><br><span class="line">print(<span class="string">'min_index:'</span>, min_index, <span class="string">'min_value:'</span>, min_value)</span><br><span class="line">print(<span class="string">'max_index:'</span>, max_index, <span class="string">'max_value:'</span>, max_value)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Out</span></span><br><span class="line">min_index: <span class="number">0</span> min_value: <span class="number">1</span></span><br><span class="line">max_index: <span class="number">4</span> max_value: <span class="number">5</span></span><br></pre></td></tr></table></figure><h2 id="list-ä¸­è¿ç»­å…ƒç´ ä¹‹é—´çš„å·®"><a href="#list-ä¸­è¿ç»­å…ƒç´ ä¹‹é—´çš„å·®" class="headerlink" title="list ä¸­è¿ç»­å…ƒç´ ä¹‹é—´çš„å·®"></a>list ä¸­è¿ç»­å…ƒç´ ä¹‹é—´çš„å·®</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> itertools <span class="keyword">import</span> islice</span><br><span class="line">ls = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">8</span>]</span><br><span class="line">diff = [j-i <span class="keyword">for</span> i,j <span class="keyword">in</span> zip(ls, islice(ls, <span class="number">1</span>, <span class="literal">None</span>))]</span><br><span class="line">print(diff)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Out</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br></pre></td></tr></table></figure><h2 id="åˆ é™¤åˆ—è¡¨ä¸­çš„é‡å¤å…ƒç´ "><a href="#åˆ é™¤åˆ—è¡¨ä¸­çš„é‡å¤å…ƒç´ " class="headerlink" title="åˆ é™¤åˆ—è¡¨ä¸­çš„é‡å¤å…ƒç´ "></a>åˆ é™¤åˆ—è¡¨ä¸­çš„é‡å¤å…ƒç´ </h2><p>ä¸‹é¢è¿™ç§æ–¹æ³•ä¸èƒ½ç»´æŒé¡ºåºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">x = [<span class="number">1</span>, <span class="number">8</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">1</span>, <span class="number">8</span>]</span><br><span class="line">list(set(x))</span><br><span class="line"></span><br><span class="line"><span class="comment"># Out</span></span><br><span class="line">[<span class="number">8</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br></pre></td></tr></table></figure><p>ä¸‹é¢çš„æ–¹æ³•ï¼Œå¯ä»¥ç»´æŒé¡ºåºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> OrderedDict</span><br><span class="line">x = [<span class="number">1</span>, <span class="number">8</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">1</span>, <span class="number">8</span>]</span><br><span class="line">list(OrderedDict.fromkeys(x))</span><br><span class="line"></span><br><span class="line"><span class="comment"># Out</span></span><br><span class="line">[<span class="number">1</span>,<span class="number">8</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br></pre></td></tr></table></figure><h2 id="å¹¶è¡Œéå†2ä¸ªåˆ—è¡¨"><a href="#å¹¶è¡Œéå†2ä¸ªåˆ—è¡¨" class="headerlink" title="å¹¶è¡Œéå†2ä¸ªåˆ—è¡¨"></a>å¹¶è¡Œéå†2ä¸ªåˆ—è¡¨</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">b = [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (a_val, b_val) <span class="keyword">in</span> zip(a, b):</span><br><span class="line">    print(a_val, b_val)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Out</span></span><br><span class="line"><span class="number">1</span> <span class="number">4</span></span><br><span class="line"><span class="number">2</span> <span class="number">5</span></span><br><span class="line"><span class="number">3</span> <span class="number">6</span></span><br></pre></td></tr></table></figure><h2 id="åˆå¹¶åˆ—è¡¨å€¼"><a href="#åˆå¹¶åˆ—è¡¨å€¼" class="headerlink" title="åˆå¹¶åˆ—è¡¨å€¼"></a>åˆå¹¶åˆ—è¡¨å€¼</h2><p>è¾“å…¥çš„ä¸¤ä¸ªæ•°ç»„ï¼Œè¾“å‡ºä¸€ä¸ªæ˜¯æ•°ç»„&amp;å€¼ç›¸åŠ æˆ–è€…ç›¸ä¹˜ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># input</span></span><br><span class="line">first = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line">second = [<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">#output</span></span><br><span class="line">three = [<span class="number">7</span>,<span class="number">9</span>,<span class="number">11</span>,<span class="number">13</span>,<span class="number">15</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># The zip function is useful here, used with a list comprehension.</span></span><br><span class="line"><span class="comment"># add</span></span><br><span class="line">[x + y <span class="keyword">for</span> x, y <span class="keyword">in</span> zip(first, second)]</span><br><span class="line"></span><br><span class="line"><span class="comment"># other</span></span><br><span class="line">[x*y <span class="keyword">for</span> x, y <span class="keyword">in</span> zip(first, second)]</span><br><span class="line">[max(x,y) <span class="keyword">for</span> x, y <span class="keyword">in</span> zip(first, second)]</span><br></pre></td></tr></table></figure><p>å‚è€ƒï¼š</p><ul><li><a href="http://blog.ourren.com/2015/07/19/pythonzhong-de-chang-yong-dai-ma/" target="_blank" rel="noopener">Pythonä¸­çš„å¸¸ç”¨ä»£ç </a></li></ul><h1 id="å­—å…¸å¤„ç†"><a href="#å­—å…¸å¤„ç†" class="headerlink" title="å­—å…¸å¤„ç†"></a>å­—å…¸å¤„ç†</h1><h2 id="å­—å…¸åšäº¤ã€å·®ã€å¹¶"><a href="#å­—å…¸åšäº¤ã€å·®ã€å¹¶" class="headerlink" title="å­—å…¸åšäº¤ã€å·®ã€å¹¶"></a>å­—å…¸åšäº¤ã€å·®ã€å¹¶</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">a=&#123;<span class="string">'name'</span>:<span class="string">'michael'</span>,<span class="string">'age'</span>:<span class="string">"27"</span>,<span class="string">'sex'</span>:<span class="string">'male'</span>&#125;</span><br><span class="line">b=&#123;<span class="string">'name'</span>:<span class="string">'hqh'</span>,<span class="string">'age'</span>:<span class="string">'27'</span>&#125;</span><br><span class="line">&#123;k:a[k] <span class="keyword">for</span> k <span class="keyword">in</span> a.keys()-b.keys()&#125;</span><br><span class="line">out: &#123;<span class="string">'sex'</span>: <span class="string">'male'</span>&#125;</span><br><span class="line">dict(a.items()-b.items())</span><br><span class="line">out: &#123;<span class="string">'name'</span>: <span class="string">'michael'</span>, <span class="string">'sex'</span>: <span class="string">'male'</span>&#125;</span><br></pre></td></tr></table></figure><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå½“å­—å…¸çš„å€¼æœ‰å­—å…¸æ—¶ï¼Œ<code>a.items()-b.items()</code> è¿™ç§æ–¹å¼ä¼šæŠ¥é”™ <code>TypeError: unhashable type: &#39;dict&#39;</code>ï¼›</p><p>å‚è€ƒï¼š</p><ul><li><a href="https://python3-cookbook.readthedocs.io/zh_CN/latest/c01/p09_find_commonalities_in_dicts.html" target="_blank" rel="noopener">cookbook-æŸ¥æ‰¾ä¸¤å­—å…¸çš„ç›¸åŒç‚¹</a></li><li><a href="https://www.jianshu.com/p/65f4bebc1061" target="_blank" rel="noopener">ç®€ä¹¦-Python å­—å…¸æ“ä½œè¿›é˜¶</a></li></ul><h2 id="å­—å…¸çš„Keyä¸Valueå¯¹è°ƒ"><a href="#å­—å…¸çš„Keyä¸Valueå¯¹è°ƒ" class="headerlink" title="å­—å…¸çš„Keyä¸Valueå¯¹è°ƒ"></a>å­—å…¸çš„Keyä¸Valueå¯¹è°ƒ</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">m = &#123;<span class="string">'A'</span>: <span class="number">1</span>, <span class="string">'B'</span>: <span class="number">2</span>, <span class="string">'C'</span>: <span class="number">3</span>&#125;</span><br><span class="line">invert_map_key_value = <span class="keyword">lambda</span> m: dict(zip(m.values(), m.keys()))</span><br><span class="line">invert_map_key_value(m)</span><br><span class="line"></span><br><span class="line"><span class="comment"># output: &#123;1: 'A', 2: 'B', 3: 'C'&#125;</span></span><br></pre></td></tr></table></figure><p>å‚è€ƒï¼š</p><ul><li><a href="https://zhuanlan.zhihu.com/p/33069486" target="_blank" rel="noopener">2gua-å‡ ä¸ªPythonä»£ç ç‰‡æ®µ</a></li></ul><h2 id="åˆå¹¶å­—å…¸å€¼"><a href="#åˆå¹¶å­—å…¸å€¼" class="headerlink" title="åˆå¹¶å­—å…¸å€¼"></a>åˆå¹¶å­—å…¸å€¼</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> collections <span class="keyword">import</span> Counter</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>A = Counter(&#123;<span class="string">'a'</span>:<span class="number">1</span>, <span class="string">'b'</span>:<span class="number">2</span>, <span class="string">'c'</span>:<span class="number">3</span>&#125;)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>B = Counter(&#123;<span class="string">'b'</span>:<span class="number">3</span>, <span class="string">'c'</span>:<span class="number">4</span>, <span class="string">'d'</span>:<span class="number">5</span>&#125;)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>A + B</span><br><span class="line">Counter(&#123;<span class="string">'c'</span>: <span class="number">7</span>, <span class="string">'b'</span>: <span class="number">5</span>, <span class="string">'d'</span>: <span class="number">5</span>, <span class="string">'a'</span>: <span class="number">1</span>&#125;)</span><br></pre></td></tr></table></figure><h2 id="å­—å…¸çš„å¢åŠ "><a href="#å­—å…¸çš„å¢åŠ " class="headerlink" title="å­—å…¸çš„å¢åŠ "></a>å­—å…¸çš„å¢åŠ </h2><p>ç”¨ <code>update</code> æ–¹æ³•å¾€å·²æœ‰å­—å…¸ä¸­å¢åŠ é”®å€¼å¯¹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">deploy_info=dict()</span><br><span class="line"><span class="keyword">for</span> idx, row <span class="keyword">in</span> raw_data.iterrows():</span><br><span class="line">    temp=dict()</span><br><span class="line">    version = row[<span class="string">'version'</span>]</span><br><span class="line">    app_comp_name = row[<span class="string">'app_comp_name'</span>]</span><br><span class="line">    pkg_name = <span class="string">"&#123;&#125;_&#123;&#125;.tar.gz"</span>.format(app_comp_name, version)</span><br><span class="line">    time.sleep(<span class="number">2</span>)</span><br><span class="line">    data = get_verify_value(api_url,pkg_name)</span><br><span class="line">    temp = &#123;</span><br><span class="line">        deploy_history_id:&#123;</span><br><span class="line">            <span class="string">'app_comp_name'</span>:app_comp_name,</span><br><span class="line">            <span class="string">'version'</span>:version,</span><br><span class="line">            <span class="string">'pkg_name'</span>:pkg_name,</span><br><span class="line">            <span class="string">'data'</span>:data</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    deploy_info.update(temp)</span><br></pre></td></tr></table></figure><h1 id="å­—ç¬¦ä¸²ç›¸å…³"><a href="#å­—ç¬¦ä¸²ç›¸å…³" class="headerlink" title="å­—ç¬¦ä¸²ç›¸å…³"></a>å­—ç¬¦ä¸²ç›¸å…³</h1><h2 id="ç´¢å¼•"><a href="#ç´¢å¼•" class="headerlink" title="ç´¢å¼•"></a>ç´¢å¼•</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tag=<span class="string">'hx/mitaka_compute/12.0.0'</span></span><br><span class="line">[m.start() <span class="keyword">for</span> m <span class="keyword">in</span> re.finditer(<span class="string">'/'</span>,tag)]</span><br></pre></td></tr></table></figure><p>å‚è€ƒï¼š</p><ul><li><a href="https://codeday.me/bug/20170404/7720.html" target="_blank" rel="noopener">åœ¨Pythonä¸­æŸ¥æ‰¾æ‰€æœ‰å‡ºç°çš„å­å­—ç¬¦ä¸²</a></li></ul><h2 id="å°†ç™¾åˆ†å·çš„ç™¾åˆ†æ¯”å­—ç¬¦ä¸²è½¬ä¸ºæ•°å­—"><a href="#å°†ç™¾åˆ†å·çš„ç™¾åˆ†æ¯”å­—ç¬¦ä¸²è½¬ä¸ºæ•°å­—" class="headerlink" title="å°†ç™¾åˆ†å·çš„ç™¾åˆ†æ¯”å­—ç¬¦ä¸²è½¬ä¸ºæ•°å­—"></a>å°†ç™¾åˆ†å·çš„ç™¾åˆ†æ¯”å­—ç¬¦ä¸²è½¬ä¸ºæ•°å­—</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">p=<span class="string">"75%"</span></span><br><span class="line">float(p.strip(<span class="string">'%'</span>))/<span class="number">100</span></span><br></pre></td></tr></table></figure><p>å‚è€ƒï¼š</p><ul><li><a href="https://www.kaggle.com/grfiv4/convert-to-numeric-python" target="_blank" rel="noopener">Convert to numeric Python</a></li></ul><h2 id="å‰”é™¤åˆ†éš”ç¬¦"><a href="#å‰”é™¤åˆ†éš”ç¬¦" class="headerlink" title="å‰”é™¤åˆ†éš”ç¬¦"></a>å‰”é™¤åˆ†éš”ç¬¦</h2><p>é€šå¸¸åšæ³•ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">''</span>.join(<span class="string">'A|B|C|D|E|F|G'</span>.split(<span class="string">'|'</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># output: 'ABCDEFG'</span></span><br></pre></td></tr></table></figure><p>ç”¨ <code>itertools.islice</code>ï¼Œå› ä¸ºå¯ä»¥èŠ‚é€‰å­—ç¬¦ä¸²ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> itertools</span><br><span class="line"></span><br><span class="line"><span class="string">''</span>.join(itertools.islice(<span class="string">'A|B|C|D|E|F|G'</span>, <span class="number">6</span>, <span class="literal">None</span>, <span class="number">2</span>))</span><br><span class="line"><span class="comment"># output: 'DEFG'</span></span><br><span class="line"></span><br><span class="line"><span class="string">''</span>.join(itertools.islice(<span class="string">'A|B|C|D|E|F|G'</span>, <span class="number">0</span>, <span class="literal">None</span>, <span class="number">2</span>))</span><br><span class="line"><span class="comment"># output: ''ABCDEFG'</span></span><br></pre></td></tr></table></figure><h2 id="ç¾è§‚æ‰“å°"><a href="#ç¾è§‚æ‰“å°" class="headerlink" title="ç¾è§‚æ‰“å°"></a>ç¾è§‚æ‰“å°</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pprint <span class="keyword">as</span> pp</span><br><span class="line">animals = [&#123;<span class="string">'animal'</span>: <span class="string">'dog'</span>, <span class="string">'legs'</span>: <span class="number">4</span>, <span class="string">'breeds'</span>: [<span class="string">'Border Collie'</span>, <span class="string">'Pit Bull'</span>, <span class="string">'Huskie'</span>]&#125;, &#123;<span class="string">'animal'</span>: <span class="string">'cat'</span>, <span class="string">'legs'</span>: <span class="number">4</span>, <span class="string">'breeds'</span>: [<span class="string">'Siamese'</span>, <span class="string">'Persian'</span>, <span class="string">'Sphynx'</span>]&#125;]</span><br><span class="line">pp.pprint(animals, width=<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Out</span></span><br><span class="line">[&#123;<span class="string">'animal'</span>: <span class="string">'dog'</span>,</span><br><span class="line">  <span class="string">'breeds'</span>: [<span class="string">'Border '</span></span><br><span class="line">             <span class="string">'Collie'</span>,</span><br><span class="line">             <span class="string">'Pit '</span></span><br><span class="line">             <span class="string">'Bull'</span>,</span><br><span class="line">             <span class="string">'Huskie'</span>],</span><br><span class="line">  <span class="string">'legs'</span>: <span class="number">4</span>&#125;,</span><br><span class="line"> &#123;<span class="string">'animal'</span>: <span class="string">'cat'</span>,</span><br><span class="line">  <span class="string">'breeds'</span>: [<span class="string">'Siamese'</span>,</span><br><span class="line">             <span class="string">'Persian'</span>,</span><br><span class="line">             <span class="string">'Sphynx'</span>],</span><br><span class="line">  <span class="string">'legs'</span>: <span class="number">4</span>&#125;]</span><br></pre></td></tr></table></figure><p>widthå‚æ•°æŒ‡å®šä¸€è¡Œä¸Šæœ€å¤§çš„å­—ç¬¦æ•°ã€‚è®¾ç½®widthä¸º1ç¡®ä¿å­—å…¸æ‰“å°åœ¨å•ç‹¬çš„è¡Œ</p><h1 id="æ–‡ä»¶è¯»å†™"><a href="#æ–‡ä»¶è¯»å†™" class="headerlink" title="æ–‡ä»¶è¯»å†™"></a>æ–‡ä»¶è¯»å†™</h1><h2 id="åŸºæœ¬æ–‡ä»¶è¯»-txt"><a href="#åŸºæœ¬æ–‡ä»¶è¯»-txt" class="headerlink" title="åŸºæœ¬æ–‡ä»¶è¯» txt"></a>åŸºæœ¬æ–‡ä»¶è¯» txt</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># <span class="doctag">Note:</span> rb opens file in binary mode to avoid issues with Windows systems</span></span><br><span class="line"><span class="comment"># where 'rn' is used instead of 'n' as newline character(s).</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># A) Reading in Byte chunks</span></span><br><span class="line">reader_a = open(<span class="string">"file.txt"</span>, <span class="string">"rb"</span>)</span><br><span class="line">chunks = []</span><br><span class="line">data = reader_a.read(<span class="number">64</span>)  <span class="comment"># reads first 64 bytes</span></span><br><span class="line"><span class="keyword">while</span> data != <span class="string">""</span>:</span><br><span class="line">    chunks.append(data)</span><br><span class="line">    data = reader_a.read(<span class="number">64</span>)</span><br><span class="line"><span class="keyword">if</span> data:</span><br><span class="line">    chunks.append(data)</span><br><span class="line">print(len(chunks))</span><br><span class="line">reader_a.close()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># B) Reading whole file at once into a list of lines</span></span><br><span class="line"><span class="keyword">with</span> open(<span class="string">"file.txt"</span>, <span class="string">"rb"</span>) <span class="keyword">as</span> reader_b:   <span class="comment"># recommended syntax, auto closes</span></span><br><span class="line">    data = reader_b.readlines() <span class="comment"># data is assigned a list of lines</span></span><br><span class="line">print(len(data))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># C) Reading whole file at once into a string</span></span><br><span class="line"><span class="keyword">with</span> open(<span class="string">"file.txt"</span>, <span class="string">"rb"</span>) <span class="keyword">as</span> reader_c:</span><br><span class="line">    data = reader_c.read() <span class="comment"># data is assigned a list of lines</span></span><br><span class="line">print(len(data))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># D) Reading line by line into a list</span></span><br><span class="line">data = []</span><br><span class="line"><span class="keyword">with</span> open(<span class="string">"file.txt"</span>, <span class="string">"rb"</span>) <span class="keyword">as</span> reader_d:</span><br><span class="line">    <span class="keyword">for</span> line <span class="keyword">in</span> reader_d:</span><br><span class="line">        data.append(line)</span><br><span class="line">print(len(data))</span><br></pre></td></tr></table></figure><h2 id="json-è¯»å†™jsonæ–‡ä»¶"><a href="#json-è¯»å†™jsonæ–‡ä»¶" class="headerlink" title="json è¯»å†™jsonæ–‡ä»¶"></a>json è¯»å†™jsonæ–‡ä»¶</h2><ul><li>json.loads()æ˜¯å°†strè½¬åŒ–æˆdictæ ¼å¼ï¼Œjson.dumps()æ˜¯å°†dictè½¬åŒ–æˆstræ ¼å¼ã€‚</li><li>json.load()å’Œjson.dump()ä¹Ÿæ˜¯ç±»ä¼¼çš„åŠŸèƒ½ï¼Œåªæ˜¯ä¸æ–‡ä»¶æ“ä½œç»“åˆèµ·æ¥äº†ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è§£ç </span></span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">with</span> open(<span class="string">'build_info.json'</span>,<span class="string">'r'</span>) <span class="keyword">as</span> f:</span><br><span class="line">    array = json.load(f)</span><br><span class="line">print(array)</span><br></pre></td></tr></table></figure><p>åœ¨ç¼–ç JSONçš„æ—¶å€™ï¼Œè¿˜æœ‰ä¸€äº›é€‰é¡¹å¾ˆæœ‰ç”¨ã€‚ å¦‚æœä½ æƒ³è·å¾—æ¼‚äº®çš„æ ¼å¼åŒ–å­—ç¬¦ä¸²åè¾“å‡ºï¼Œå¯ä»¥ä½¿ç”¨ <code>json.dumps()</code> çš„<code>indent</code>å‚æ•°ã€‚ å®ƒä¼šä½¿å¾—è¾“å‡ºå’Œpprint() å‡½æ•°æ•ˆæœç±»ä¼¼ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(json.dumps(data))</span><br><span class="line">&#123;<span class="string">"price"</span>: <span class="number">542.23</span>, <span class="string">"name"</span>: <span class="string">"ACME"</span>, <span class="string">"shares"</span>: <span class="number">100</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(json.dumps(data, indent=<span class="number">4</span>))</span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">"price"</span>: <span class="number">542.23</span>,</span><br><span class="line">    <span class="string">"name"</span>: <span class="string">"ACME"</span>,</span><br><span class="line">    <span class="string">"shares"</span>: <span class="number">100</span></span><br><span class="line">&#125;</span><br><span class="line">&gt;&gt;&gt;</span><br></pre></td></tr></table></figure><p>ä¿å­˜ä¸º json æ–‡ä»¶ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç¼–ç </span></span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line">a = &#123;<span class="string">"name"</span>:<span class="string">"michael"</span>&#125;</span><br><span class="line"><span class="keyword">with</span> open(<span class="string">"demo.json"</span>,<span class="string">"w"</span>) <span class="keyword">as</span> f:</span><br><span class="line">json.dump(a, f, indent=<span class="number">4</span>)</span><br></pre></td></tr></table></figure><ul><li><a href="https://python3-cookbook.readthedocs.io/zh_CN/latest/c06/p02_read-write_json_data.html?highlight=json" target="_blank" rel="noopener">CookBook-6.2 è¯»å†™JSONæ•°æ®</a></li><li><a href="https://www.jianshu.com/p/e29611244810" target="_blank" rel="noopener">ç®€ä¹¦-Python: jsonæ¨¡å—å®ä¾‹è¯¦è§£</a></li><li><a href="https://docs.python.org/3.6/library/json.html" target="_blank" rel="noopener">å®˜å®£-json â€” JSON encoder and decoder</a></li><li><a href="https://stackoverflow.com/questions/38644480/reading-json-file-with-python-3" target="_blank" rel="noopener">Reading JSON file with Python 3</a></li><li><a href="https://stackoverflow.com/questions/39719689/what-is-the-difference-between-json-load-and-json-loads-functions-in-python" target="_blank" rel="noopener">What is the difference between json.load() and json.loads() functions in Python?</a></li></ul><h1 id="æ—¶é—´æ—¥æœŸ"><a href="#æ—¶é—´æ—¥æœŸ" class="headerlink" title="æ—¶é—´æ—¥æœŸ"></a>æ—¶é—´æ—¥æœŸ</h1><h2 id="åŸºæœ¬æ—¶é—´ï¼ˆtimeï¼‰å’Œæ—¥æœŸï¼ˆdateï¼‰"><a href="#åŸºæœ¬æ—¶é—´ï¼ˆtimeï¼‰å’Œæ—¥æœŸï¼ˆdateï¼‰" class="headerlink" title="åŸºæœ¬æ—¶é—´ï¼ˆtimeï¼‰å’Œæ—¥æœŸï¼ˆdateï¼‰"></a>åŸºæœ¬æ—¶é—´ï¼ˆtimeï¼‰å’Œæ—¥æœŸï¼ˆdateï¼‰</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="comment"># print time HOURS:MINUTES:SECONDS</span></span><br><span class="line"><span class="comment"># e.g., '10:50:58'</span></span><br><span class="line">print(time.strftime(<span class="string">"%H:%M:%S"</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># print current date DAY:MONTH:YEAR</span></span><br><span class="line"><span class="comment"># e.g., '05/01/2019'</span></span><br><span class="line">print(time.strftime(<span class="string">"%d/%m/%Y"</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># Out</span></span><br><span class="line"><span class="number">15</span>:<span class="number">18</span>:<span class="number">03</span></span><br><span class="line"><span class="number">05</span>/<span class="number">01</span>/<span class="number">2019</span></span><br></pre></td></tr></table></figure><h2 id="å­—ç¬¦ä¸²å’Œæ—¥æœŸçš„ç›¸äº’è½¬æ¢"><a href="#å­—ç¬¦ä¸²å’Œæ—¥æœŸçš„ç›¸äº’è½¬æ¢" class="headerlink" title="å­—ç¬¦ä¸²å’Œæ—¥æœŸçš„ç›¸äº’è½¬æ¢"></a>å­—ç¬¦ä¸²å’Œæ—¥æœŸçš„ç›¸äº’è½¬æ¢</h2><p>strptime æ˜¯å°†å­—ç¬¦ä¸²è½¬æ¢ä¸º datetimeï¼Œå…¶å®è¿™ä¸ªæ–¹æ³•çš„å…¨ç§°æ˜¯ â€œstring parse timeâ€ï¼Œå«åšå­—ç¬¦ä¸²è§£ææˆæ—¶é—´ï¼Œé‡ç‚¹åœ¨è§£æï¼ˆparseï¼‰:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> datetime</span><br><span class="line"></span><br><span class="line">date_obj = datetime.strptime(<span class="string">'2018-10-15 20:59:29'</span>, <span class="string">'%Y-%m-%d %H:%M:%S'</span>)</span><br><span class="line">print(type(date_obj),date_obj)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Out</span></span><br><span class="line">&lt;<span class="class"><span class="keyword">class</span> '<span class="title">datetime</span>.<span class="title">datetime</span>'&gt; 2018-10-15 20:</span><span class="number">59</span>:<span class="number">29</span></span><br></pre></td></tr></table></figure><p>strftime æ˜¯å°† datetime è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œå…¨ç§°æ˜¯ â€œstring format timeâ€ï¼Œç¿»è¯‘è¿‡æ¥å°±æ˜¯å°†å­—ç¬¦ä¸²çš„å½¢å¼æ¥æ ¼å¼åŒ–æ—¶é—´ï¼Œé‡ç‚¹åœ¨æ ¼å¼åŒ–ï¼ˆformatï¼‰ï¼Œä½¿ä¹‹ä»¥ä¸€ç§å¯è¯»çš„å­—ç¬¦ä¸²å½¢å¼è¿”å›ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> datetime</span><br><span class="line">date_obj = datetime.now()</span><br><span class="line">date_string = datetime.now().strftime(<span class="string">"%Y-%m-%d %H:%M:%S"</span>)</span><br><span class="line">print(type(date_string),date_string)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Out</span></span><br><span class="line">&lt;<span class="class"><span class="keyword">class</span> '<span class="title">str</span>'&gt; 2019-01-05 18:</span><span class="number">41</span>:<span class="number">04</span></span><br></pre></td></tr></table></figure><p>å‚è€ƒï¼š</p><ul><li><a href="https://mp.weixin.qq.com/s?__biz=MjM5MzgyODQxMQ==&amp;mid=2650369197&amp;idx=1&amp;sn=0057a786cb28f9d264e8bdd5ed0a0d15&amp;chksm=be9cd7f989eb5eefa012a502def9c071ac790e70162ec525c8dc43b087c961648ee1a9bb6264&amp;mpshare=1&amp;scene=1&amp;srcid=1115C4UhHFYie2bJLm4K8erU#rd" target="_blank" rel="noopener">3åˆ†é’Ÿå­¦ä¼šä¸€ä¸ªå°æŠ€å·§</a></li></ul><h1 id="ç¼–ç ç›¸å…³"><a href="#ç¼–ç ç›¸å…³" class="headerlink" title="ç¼–ç ç›¸å…³"></a>ç¼–ç ç›¸å…³</h1><h2 id="Python-Requests-ç¼–ç é—®é¢˜"><a href="#Python-Requests-ç¼–ç é—®é¢˜" class="headerlink" title="Python Requests ç¼–ç é—®é¢˜"></a>Python Requests ç¼–ç é—®é¢˜</h2><ul><li><a href="https://github.com/requests/requests/issues/1604" target="_blank" rel="noopener">requests github issue</a></li></ul><h1 id="ä¸‹è½½"><a href="#ä¸‹è½½" class="headerlink" title="ä¸‹è½½"></a>ä¸‹è½½</h1><h2 id="Pythonä¸‹è½½æ–‡ä»¶"><a href="#Pythonä¸‹è½½æ–‡ä»¶" class="headerlink" title="Pythonä¸‹è½½æ–‡ä»¶"></a>Pythonä¸‹è½½æ–‡ä»¶</h2><ul><li><a href="https://blog.csdn.net/fengzhizi76506/article/details/59229846" target="_blank" rel="noopener">urlretrieve</a></li></ul><h2 id="Pythonæ ¹æ®urlä¸‹è½½ç›®å½•æˆ–è€…æ–‡ä»¶"><a href="#Pythonæ ¹æ®urlä¸‹è½½ç›®å½•æˆ–è€…æ–‡ä»¶" class="headerlink" title="Pythonæ ¹æ®urlä¸‹è½½ç›®å½•æˆ–è€…æ–‡ä»¶"></a>Pythonæ ¹æ®urlä¸‹è½½ç›®å½•æˆ–è€…æ–‡ä»¶</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">download_package</span><span class="params">(self, package_url)</span>:</span></span><br><span class="line">    print(<span class="string">"start download_build_result"</span>)</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> package_url.endswith(<span class="string">"/"</span>):</span><br><span class="line">        package_url += <span class="string">'/'</span></span><br><span class="line">    cmd = <span class="string">"wget -c -r -nd -np -P %s %s"</span> % (<span class="string">"output"</span>, package_url)</span><br><span class="line">    print(cmd)</span><br><span class="line">    os.system(cmd)</span><br><span class="line">    print(os.getcwd())</span><br><span class="line">    print(<span class="string">"finish download_build_result"</span>)</span><br></pre></td></tr></table></figure><h1 id="æ•°æ®å¤„ç†"><a href="#æ•°æ®å¤„ç†" class="headerlink" title="æ•°æ®å¤„ç†"></a>æ•°æ®å¤„ç†</h1><h2 id="Python-Pandaså¤„ç†Excelæ•°æ®"><a href="#Python-Pandaså¤„ç†Excelæ•°æ®" class="headerlink" title="Python Pandaså¤„ç†Excelæ•°æ®"></a>Python Pandaså¤„ç†Excelæ•°æ®</h2><h3 id="é€è¡Œå¤„ç†æ•°æ®-iterrows"><a href="#é€è¡Œå¤„ç†æ•°æ®-iterrows" class="headerlink" title="é€è¡Œå¤„ç†æ•°æ® iterrows"></a>é€è¡Œå¤„ç†æ•°æ® iterrows</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> idx, row <span class="keyword">in</span> data.iterrows():</span><br><span class="line">    project_name=row[<span class="string">'projectName'</span>]</span><br><span class="line">    tag_name=row[<span class="string">'tagName'</span>]</span><br></pre></td></tr></table></figure><h3 id="Pandasè¿½åŠ æ¨¡å¼å†™å…¥csvæ–‡ä»¶"><a href="#Pandasè¿½åŠ æ¨¡å¼å†™å…¥csvæ–‡ä»¶" class="headerlink" title="Pandasè¿½åŠ æ¨¡å¼å†™å…¥csvæ–‡ä»¶"></a>Pandasè¿½åŠ æ¨¡å¼å†™å…¥csvæ–‡ä»¶</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">data = pd.DataFrame([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]])</span><br><span class="line">csv_headers=[<span class="string">'A'</span>,<span class="string">'B'</span>,<span class="string">'C'</span>]</span><br><span class="line">data.to_csv(<span class="string">'./Marvel3_yingpping.csv'</span>, header=csv_headers, index=<span class="literal">False</span>, mode=<span class="string">'a+'</span>, encoding=<span class="string">'utf-8'</span>)</span><br><span class="line">data = pd.DataFrame([[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]])</span><br><span class="line">data.to_csv(<span class="string">'./Marvel3_yingpping.csv'</span>, header=<span class="literal">False</span>, index=<span class="literal">False</span>, mode=<span class="string">'a+'</span>, encoding=<span class="string">'utf-8'</span>)</span><br><span class="line">data = pd.DataFrame([[<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>]])</span><br><span class="line">data.to_csv(<span class="string">'./Marvel3_yingpping.csv'</span>, header=<span class="literal">False</span>, index=<span class="literal">False</span>, mode=<span class="string">'a+'</span>, encoding=<span class="string">'utf-8'</span>)</span><br></pre></td></tr></table></figure><h2 id="Python-CSV-Excel"><a href="#Python-CSV-Excel" class="headerlink" title="Python-CSV-Excel"></a>Python-CSV-Excel</h2><ul><li><a href="https://stackoverflow.com/questions/28310409/python-pandas-iterrows-method" target="_blank" rel="noopener">Python Pandas iterrows method</a></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> idx, row <span class="keyword">in</span> data.iterrows():</span><br><span class="line">    project_name=row[<span class="string">'projectName'</span>]</span><br><span class="line">    tag_name=row[<span class="string">'tagName'</span>]</span><br></pre></td></tr></table></figure><h2 id="to-csvè¡¨æ ¼ä¸­æ–‡ä¹±ç "><a href="#to-csvè¡¨æ ¼ä¸­æ–‡ä¹±ç " class="headerlink" title="to_csvè¡¨æ ¼ä¸­æ–‡ä¹±ç "></a>to_csvè¡¨æ ¼ä¸­æ–‡ä¹±ç </h2><p>ipythonä¸­ç›´æ¥æ‰“å°dfï¼Œä¸­æ–‡æ²¡æœ‰ä¹±ç ï¼Œä½†æ˜¯<code>to_csv</code>æ–¹æ³•å­˜å‚¨æ—¶ï¼Œä¸­æ–‡æœ‰ä¹±ç ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.to_csv(<span class="string">'file.csv'</span>,encoding=<span class="string">'utf-8-sig'</span>)</span><br></pre></td></tr></table></figure><p>å‚è€ƒï¼š</p><ul><li><a href="https://stackoverflow.com/questions/25788037/pandas-df-to-csvfile-csv-encode-utf-8-still-gives-trash-characters-for-min" target="_blank" rel="noopener">Pandas df.to_csv(â€œfile.csvâ€ encode=â€œutf-8â€) still gives trash characters for minus sign</a></li><li><a href="https://blog.csdn.net/weixin_39461443/article/details/75303072" target="_blank" rel="noopener">å…³äºpandasä¸­,to_csvå‡½æ•°è¾“å‡ºçš„utf8æ•°æ®ç”¨Excelæ‰“å¼€æ˜¯ä¹±ç </a></li></ul><h2 id="itero"><a href="#itero" class="headerlink" title="itero"></a>itero</h2><p>çœ‹é¢˜ç›®ï¼š</p><ul><li><a href="https://segmentfault.com/q/1010000006624056?_ea=1081758" target="_blank" rel="noopener">pythonæ•°æ®å¤„ç†ï¼Œå­—å…¸ç”Ÿæˆçš„ä¸€ä¸ªé—®é¢˜</a>ç­”æ¡ˆä¸­æœ‰ä½å‰è¾ˆç”¨è¿™ä¸ªç”¨çš„ç‚‰ç«çº¯é’å•Šï¼</li></ul><h1 id="Shell-Linux-æ“ä½œç›¸å…³"><a href="#Shell-Linux-æ“ä½œç›¸å…³" class="headerlink" title="Shell/Linux æ“ä½œç›¸å…³"></a>Shell/Linux æ“ä½œç›¸å…³</h1><h2 id="Pythonè¿è¡Œshellå‘½ä»¤çš„å‡½æ•°ï¼š"><a href="#Pythonè¿è¡Œshellå‘½ä»¤çš„å‡½æ•°ï¼š" class="headerlink" title="Pythonè¿è¡Œshellå‘½ä»¤çš„å‡½æ•°ï¼š"></a>Pythonè¿è¡Œshellå‘½ä»¤çš„å‡½æ•°ï¼š</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">run</span><span class="params">(cmd_str, fatal=True)</span>:</span></span><br><span class="line">    <span class="comment"># this is not a good implement</span></span><br><span class="line">    log.command(log.term.cmd(cmd_str))</span><br><span class="line">    ret = os.system(cmd_str)</span><br><span class="line">    <span class="keyword">if</span> ret <span class="keyword">is</span> <span class="keyword">not</span> <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">if</span> fatal:</span><br><span class="line">            log.error(<span class="string">'[ERROR] run cmd: %s failed'</span>, cmd_str)</span><br><span class="line">            os._exit(<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            log.info(<span class="string">'[INFO] %s is not fatal'</span> % cmd_str)</span><br></pre></td></tr></table></figure><h2 id="è°ƒç”¨å¤–éƒ¨çš„å‘½ä»¤"><a href="#è°ƒç”¨å¤–éƒ¨çš„å‘½ä»¤" class="headerlink" title="è°ƒç”¨å¤–éƒ¨çš„å‘½ä»¤"></a>è°ƒç”¨å¤–éƒ¨çš„å‘½ä»¤</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="keyword">import</span> subprocess</span><br><span class="line"></span><br><span class="line">subprocess.call([<span class="string">'mkdir'</span>, <span class="string">'empty_folder'</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿è¡Œä¸€æ¡å‘½ä»¤å¹¶è¾“å‡ºå¾—åˆ°çš„ç»“æœ</span></span><br><span class="line">output = subprocess.check_output([<span class="string">'ls'</span>, <span class="string">'-l'</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¸Šé¢çš„è°ƒç”¨æ˜¯é˜»å¡çš„</span></span><br><span class="line"><span class="comment"># å¦‚æœè¿è¡Œshellä¸­å†…ç½®çš„å‘½ä»¤ï¼Œå¦‚cdæˆ–è€…dirï¼Œéœ€è¦æŒ‡å®šæ ‡è®°shell=True</span></span><br><span class="line">output = subprocess.call([<span class="string">'cd'</span>, <span class="string">'/'</span>], shell=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯¹äºæ›´é«˜çº§çš„ç”¨ä¾‹ï¼Œå¯ä»¥ä½¿ç”¨ Popen constructorã€‚</span></span><br></pre></td></tr></table></figure><p>Python 3.5å¼•è¿›äº†ä¸€ä¸ªæ–°çš„runå‡½æ•°ï¼Œå®ƒçš„è¡Œä¸ºä¸callå’Œcheck_outputå¾ˆç›¸ä¼¼ã€‚å¦‚æœä½ ä½¿ç”¨çš„æ˜¯3.5ç‰ˆæœ¬æˆ–æ›´é«˜ç‰ˆæœ¬ï¼Œçœ‹ä¸€çœ‹runçš„æ–‡æ¡£ï¼Œé‡Œé¢æœ‰ä¸€äº›æœ‰ç”¨çš„ä¾‹å­ã€‚å¦åˆ™ï¼Œå¦‚æœä½ ä½¿ç”¨çš„æ˜¯Python 3.5ä»¥å‰çš„ç‰ˆæœ¬æˆ–è€…ä½ æƒ³ä¿æŒå‘åå…¼å®¹æ€§ï¼Œä¸Šé¢çš„callå’Œcheck_outputä»£ç ç‰‡æ®µæ˜¯ä½ æœ€å®‰å…¨å’Œæœ€ç®€å•çš„é€‰æ‹©</p><p>å‚è€ƒï¼š</p><ul><li><a href="https://python.freelycode.com/contribution/detail/53" target="_blank" rel="noopener"></a></li></ul><h2 id="è®¡ç®—æ–‡ä»¶çš„æ ¡éªŒå€¼"><a href="#è®¡ç®—æ–‡ä»¶çš„æ ¡éªŒå€¼" class="headerlink" title="è®¡ç®—æ–‡ä»¶çš„æ ¡éªŒå€¼"></a>è®¡ç®—æ–‡ä»¶çš„æ ¡éªŒå€¼</h2><p>å¯ä»¥è®¡ç®—æ–‡ä»¶çš„ <code>md5</code>ã€<code>sha256</code> ç­‰å€¼</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># https://pymotw.com/3/hashlib/index.html#module-hashlib</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_verify_value</span><span class="params">(file_path, verify_type)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    è®¡ç®—æŒ‡å®šæ–‡ä»¶çš„æ ¡éªŒå€¼</span></span><br><span class="line"><span class="string">    :param file_path: æ–‡ä»¶è·¯å¾„</span></span><br><span class="line"><span class="string">    :param verify_type: æ ¡éªŒå€¼ç±»å‹ï¼Œmd5 sha256 ç­‰ç­‰</span></span><br><span class="line"><span class="string">    :return:</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    h = hashlib.new(verify_type)</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> file_path:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line">    <span class="keyword">with</span> open(file_path, <span class="string">'rb'</span>) <span class="keyword">as</span> f:</span><br><span class="line">        <span class="keyword">for</span> block <span class="keyword">in</span> iter(<span class="keyword">lambda</span>: f.read(<span class="number">4096</span>), <span class="string">b""</span>):</span><br><span class="line">            h.update(block)</span><br><span class="line">    <span class="keyword">return</span> h.hexdigest()</span><br></pre></td></tr></table></figure><h1 id="æ€§èƒ½ç›¸å…³"><a href="#æ€§èƒ½ç›¸å…³" class="headerlink" title="æ€§èƒ½ç›¸å…³"></a>æ€§èƒ½ç›¸å…³</h1><h2 id="è„šæœ¬çš„è¿è¡Œæ—¶é—´"><a href="#è„šæœ¬çš„è¿è¡Œæ—¶é—´" class="headerlink" title="è„šæœ¬çš„è¿è¡Œæ—¶é—´"></a>è„šæœ¬çš„è¿è¡Œæ—¶é—´</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line">start_time = time.clock()</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">10000000</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">elapsed_time = time.clock() - start_time</span><br><span class="line">print(<span class="string">"Time elapsed: &#123;&#125; seconds"</span>.format(elapsed_time))</span><br><span class="line"></span><br><span class="line"><span class="comment"># Out</span></span><br><span class="line">Time elapsed: <span class="number">0.30121700000000007</span> seconds</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> timeit</span><br><span class="line">elapsed_time = timeit.timeit(<span class="string">'for i in range(10000000): pass'</span>, number=<span class="number">1</span>)</span><br><span class="line">print(<span class="string">"Time elapsed: &#123;&#125; seconds"</span>.format(elapsed_time))</span><br><span class="line"></span><br><span class="line"><span class="comment"># Out</span></span><br><span class="line">Time elapsed: <span class="number">0.2051873060000844</span> seconds</span><br></pre></td></tr></table></figure><h2 id="è®¡ç®—è¿è¡Œæ—¶é—´"><a href="#è®¡ç®—è¿è¡Œæ—¶é—´" class="headerlink" title="è®¡ç®—è¿è¡Œæ—¶é—´"></a>è®¡ç®—è¿è¡Œæ—¶é—´</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Timer</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__enter__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.error = <span class="literal">None</span></span><br><span class="line">        self.start = time.time()</span><br><span class="line">        <span class="keyword">return</span> self</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__exit__</span><span class="params">(self, type, value, tb)</span>:</span></span><br><span class="line">        self.finish = time.time()</span><br><span class="line">        <span class="keyword">if</span> type:</span><br><span class="line">            self.error = (type, value, tb)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">duration</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self.finish - self.start</span><br><span class="line"><span class="keyword">with</span> Timer() <span class="keyword">as</span> timer:</span><br><span class="line">    func()</span><br><span class="line">timer.duration()</span><br><span class="line"></span><br><span class="line"><span class="comment"># Out</span></span><br><span class="line"><span class="number">0.29994797706604004</span></span><br></pre></td></tr></table></figure><p>å‚è€ƒï¼š</p><ul><li><a href="https://blog.csdn.net/u010571844/article/details/50731541" target="_blank" rel="noopener">CSDN- pythonä»£ç ç‰‡æ®µ</a></li></ul><h1 id="ç›®å½•ã€è·¯å¾„ç›¸å…³"><a href="#ç›®å½•ã€è·¯å¾„ç›¸å…³" class="headerlink" title="ç›®å½•ã€è·¯å¾„ç›¸å…³"></a>ç›®å½•ã€è·¯å¾„ç›¸å…³</h1><h2 id="åŸºæœ¬ç›®å½•æ–‡ä»¶æ“ä½œ"><a href="#åŸºæœ¬ç›®å½•æ–‡ä»¶æ“ä½œ" class="headerlink" title="åŸºæœ¬ç›®å½•æ–‡ä»¶æ“ä½œ"></a>åŸºæœ¬ç›®å½•æ–‡ä»¶æ“ä½œ</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> shutil</span><br><span class="line"><span class="keyword">import</span> glob</span><br><span class="line"></span><br><span class="line"><span class="comment"># working directory</span></span><br><span class="line">c_dir = os.getcwd()                 <span class="comment"># show current working directory</span></span><br><span class="line">os.listdir(c_dir)                   <span class="comment"># shows all files in the working directory</span></span><br><span class="line">os.chdir(<span class="string">'~/Data'</span>)                  <span class="comment"># change working directory</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># get all files in a directory</span></span><br><span class="line">glob.glob(<span class="string">'/Users/sebastian/Desktop/*'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># e.g.,  ['/Users/sebastian/Desktop/untitled folder', '/Users/sebastian/Desktop/Untitled.txt']</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># walk</span></span><br><span class="line">tree = os.walk(c_dir)</span><br><span class="line"><span class="comment"># moves through sub directories and creates a 'generator' object of tuples</span></span><br><span class="line"><span class="comment"># ('dir', [file1, file2, ...] [subdirectory1, subdirectory2, ...]),</span></span><br><span class="line"><span class="comment">#    (...), ...</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#check files: returns either True or False</span></span><br><span class="line">os.exists(<span class="string">'../rel_path'</span>)</span><br><span class="line">os.exists(<span class="string">'/home/abs_path'</span>)</span><br><span class="line">os.isfile(<span class="string">'./file.txt'</span>)</span><br><span class="line">os.isdir(<span class="string">'./subdir'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># file permission (True or False</span></span><br><span class="line">os.access(<span class="string">'./some_file'</span>, os.F_OK) <span class="comment"># File exists? Python 2.7</span></span><br><span class="line">os.access(<span class="string">'./some_file'</span>, os.R_OK) <span class="comment"># Ok to read? Python 2.7</span></span><br><span class="line">os.access(<span class="string">'./some_file'</span>, os.W_OK) <span class="comment"># Ok to write? Python 2.7</span></span><br><span class="line">os.access(<span class="string">'./some_file'</span>, os.X_OK) <span class="comment"># Ok to execute? Python 2.7</span></span><br><span class="line">os.access(<span class="string">'./some_file'</span>, os.X_OK | os.W_OK) <span class="comment"># Ok to execute or write? Python 2.7</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># join (creates operating system dependent paths)</span></span><br><span class="line">os.path.join(<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>)</span><br><span class="line"><span class="comment"># 'a/b/c' on Unix/Linux</span></span><br><span class="line"><span class="comment"># 'a\b\c' on Windows</span></span><br><span class="line">os.path.normpath(<span class="string">'a/b/c'</span>) <span class="comment"># converts file separators</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># os.path: direcory and file names</span></span><br><span class="line">os.path.samefile(<span class="string">'./some_file'</span>, <span class="string">'/home/some_file'</span>)  <span class="comment"># True if those are the same</span></span><br><span class="line">os.path.dirname(<span class="string">'./some_file'</span>)  <span class="comment"># returns '.' (everythin but last component)</span></span><br><span class="line">os.path.basename(<span class="string">'./some_file'</span>) <span class="comment"># returns 'some_file' (only last component</span></span><br><span class="line">os.path.split(<span class="string">'./some_file'</span>) <span class="comment"># returns (dirname, basename) or ('.', 'some_file)</span></span><br><span class="line">os.path.splitext(<span class="string">'./some_file.txt'</span>) <span class="comment"># returns ('./some_file', '.txt')</span></span><br><span class="line">os.path.splitdrive(<span class="string">'./some_file.txt'</span>) <span class="comment"># returns ('', './some_file.txt')</span></span><br><span class="line">os.path.isabs(<span class="string">'./some_file.txt'</span>) <span class="comment"># returns False (not an absolute path)</span></span><br><span class="line">os.path.abspath(<span class="string">'./some_file.txt'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># create and delete files and directories</span></span><br><span class="line">os.mkdir(<span class="string">'./test'</span>)  <span class="comment"># create a new direcotory</span></span><br><span class="line">os.rmdir(<span class="string">'./test'</span>)  <span class="comment"># removes an empty direcotory</span></span><br><span class="line">os.removedirs(<span class="string">'./test'</span>) <span class="comment"># removes nested empty directories</span></span><br><span class="line">os.remove(<span class="string">'file.txt'</span>)   <span class="comment"># removes an individual file</span></span><br><span class="line">shutil.rmtree(<span class="string">'./test'</span>) <span class="comment"># removes directory (empty or not empty)</span></span><br><span class="line"></span><br><span class="line">os.rename(<span class="string">'./dir_before'</span>, <span class="string">'./renamed'</span>) <span class="comment"># renames directory if destination doesn't exist</span></span><br><span class="line">shutil.move(<span class="string">'./dir_before'</span>, <span class="string">'./renamed'</span>) <span class="comment"># renames directory always</span></span><br><span class="line"></span><br><span class="line">shutil.copytree(<span class="string">'./orig'</span>, <span class="string">'./copy'</span>) <span class="comment"># copies a directory recursively</span></span><br><span class="line">shutil.copyfile(<span class="string">'file'</span>, <span class="string">'copy'</span>)     <span class="comment"># copies a file</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Getting files of particular type from directory</span></span><br><span class="line">files = [f <span class="keyword">for</span> f <span class="keyword">in</span> os.listdir(s_pdb_dir) <span class="keyword">if</span> f.endswith(<span class="string">".txt"</span>)]</span><br><span class="line"></span><br><span class="line"><span class="comment"># Copy and move</span></span><br><span class="line">shutil.copyfile(<span class="string">"/path/to/file"</span>, <span class="string">"/path/to/new/file"</span>)</span><br><span class="line">shutil.copy(<span class="string">"/path/to/file"</span>, <span class="string">"/path/to/directory"</span>)</span><br><span class="line">shutil.move(<span class="string">"/path/to/file"</span>,<span class="string">"/path/to/directory"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Check if file or directory exists</span></span><br><span class="line">os.path.exists(<span class="string">"file or directory"</span>)</span><br><span class="line">os.path.isfile(<span class="string">"file"</span>)</span><br><span class="line">os.path.isdir(<span class="string">"directory"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Working directory and absolute path to files</span></span><br><span class="line">os.getcwd()</span><br><span class="line">os.path.abspath(<span class="string">"file"</span>)</span><br></pre></td></tr></table></figure><p>å‚è€ƒï¼š</p><ul><li><a href="http://blog.topspeedsnail.com/archives/883" target="_blank" rel="noopener">æ–—å¤§çš„ç†ŠçŒ«-æ”¶é›†çš„æœ‰ç”¨çš„ Python ä»£ç ç‰‡æ®µ</a></li></ul><h2 id="Python-åˆ é™¤æ–‡ä»¶å¤¹"><a href="#Python-åˆ é™¤æ–‡ä»¶å¤¹" class="headerlink" title="Python åˆ é™¤æ–‡ä»¶å¤¹"></a>Python åˆ é™¤æ–‡ä»¶å¤¹</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">onerror</span><span class="params">(func, path, exc_info)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    Error handler for ``shutil.rmtree``.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    If the error is due to an access error (read only file)</span></span><br><span class="line"><span class="string">    it attempts to add write permission and then retries.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    If the error is for another reason it re-raises the error.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Usage : ``shutil.rmtree(path, onerror=onerror)``</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="keyword">import</span> stat</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> os.access(path, os.W_OK):</span><br><span class="line">        <span class="comment"># Is the error an access error ?</span></span><br><span class="line">        os.chmod(path, stat.S_IWUSR)</span><br><span class="line">        func(path)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">raise</span></span><br></pre></td></tr></table></figure><p>å‚è€ƒï¼š</p><ul><li><a href="https://stackoverflow.com/questions/2656322/shutil-rmtree-fails-on-windows-with-access-is-denied" target="_blank" rel="noopener">shutil.rmtree fails on Windows with â€˜Access is deniedâ€™</a></li></ul><h2 id="Python-åˆ‡æ¢ç›®å½•"><a href="#Python-åˆ‡æ¢ç›®å½•" class="headerlink" title="Python åˆ‡æ¢ç›®å½•"></a>Python åˆ‡æ¢ç›®å½•</h2><p>æ‰§è¡Œå®Œï¼Œè¿”å›ä¹‹å‰ç›®å½•<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> contextlib</span><br><span class="line"><span class="meta">@contextlib.contextmanager</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">cdir</span><span class="params">(path)</span>:</span></span><br><span class="line">    prev_cwd = os.getcwd()</span><br><span class="line">    os.chdir(path)</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="keyword">yield</span></span><br><span class="line">    <span class="keyword">finally</span>:</span><br><span class="line">        os.chdir(prev_cwd)</span><br></pre></td></tr></table></figure></p><p>ç”¨æ³•ï¼š<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> cdir(path):</span><br><span class="line">    func()</span><br></pre></td></tr></table></figure></p><h2 id="æœç´¢æŒ‡å®šç›®å½•ä¸‹çš„æ–‡ä»¶"><a href="#æœç´¢æŒ‡å®šç›®å½•ä¸‹çš„æ–‡ä»¶" class="headerlink" title="æœç´¢æŒ‡å®šç›®å½•ä¸‹çš„æ–‡ä»¶"></a>æœç´¢æŒ‡å®šç›®å½•ä¸‹çš„æ–‡ä»¶</h2><p>å°†æŒ‡å®šç›®å½•åŠå…¶å­ç›®å½•ä¸‹çš„æ–‡ä»¶æœç´¢å‡ºæ¥ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">find_file</span><span class="params">(start_path, name)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    search the files of name from the dir start_pathï¼Œå­˜æ”¾çš„æ˜¯æœç´¢æ–‡ä»¶çš„è·¯å¾„</span></span><br><span class="line"><span class="string">    :param start_path: the search scope of dir</span></span><br><span class="line"><span class="string">    :param name: the name of search file</span></span><br><span class="line"><span class="string">    :return: set of files path</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    files_path = set()</span><br><span class="line">    <span class="keyword">for</span> rel_path, dirs, files <span class="keyword">in</span> os.walk(start_path):</span><br><span class="line">        <span class="comment"># if name in files:</span></span><br><span class="line">        <span class="keyword">for</span> f <span class="keyword">in</span> files:</span><br><span class="line">            <span class="keyword">if</span> name <span class="keyword">in</span> f:</span><br><span class="line">                full_path = os.path.join(start_path, rel_path, f)</span><br><span class="line">                path = os.path.normpath(os.path.abspath(full_path))</span><br><span class="line">                files_path.add(path)</span><br><span class="line">    <span class="keyword">return</span> files_path</span><br></pre></td></tr></table></figure><h2 id="åªåˆ—å‡ºæ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶å¤¹"><a href="#åªåˆ—å‡ºæ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶å¤¹" class="headerlink" title="åªåˆ—å‡ºæ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶å¤¹"></a>åªåˆ—å‡ºæ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶å¤¹</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[ name for name in os.listdir(thedir) if os.path.isdir(os.path.join(thedir, name)) ]</span><br><span class="line"></span><br><span class="line">filter(os.path.isdir, os.listdir(os.getcwd()))</span><br></pre></td></tr></table></figure><ul><li><a href="https://stackoverflow.com/questions/141291/how-to-list-only-top-level-directories-in-python" target="_blank" rel="noopener">How to list only top level directories in Python?</a></li></ul><h2 id="Python-Pathç›¸å…³é—®é¢˜"><a href="#Python-Pathç›¸å…³é—®é¢˜" class="headerlink" title="Python Pathç›¸å…³é—®é¢˜"></a>Python Pathç›¸å…³é—®é¢˜</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">os.path.split(<span class="string">r"C:\foo\bar\file_name.txt"</span>)</span><br></pre></td></tr></table></figure><ul><li><a href="http://stackoverflow.org.cn/front/ask/view?ask_id=811828" target="_blank" rel="noopener">æ ¼å¼åŒ–æ–‡ä»¶è·¯å¾„</a></li></ul><h1 id="æ•°æ®åº“"><a href="#æ•°æ®åº“" class="headerlink" title="æ•°æ®åº“"></a>æ•°æ®åº“</h1><h2 id="MySQL-æ•°æ®åº“"><a href="#MySQL-æ•°æ®åº“" class="headerlink" title="MySQL æ•°æ®åº“"></a>MySQL æ•°æ®åº“</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">db = MySQLdb.connect(<span class="string">"localhost"</span>,<span class="string">"your_username"</span>,<span class="string">"your_password"</span>,<span class="string">"your_dbname"</span>)</span><br><span class="line">cursor = db.cursor()</span><br><span class="line">sql = <span class="string">"select Column1,Column2 from Table1"</span></span><br><span class="line">cursor.execute(sql)</span><br><span class="line">results = cursor.fetchall()</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> row <span class="keyword">in</span> results:</span><br><span class="line">    <span class="keyword">print</span> row[<span class="number">0</span>]+row[<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">db.close()</span><br></pre></td></tr></table></figure><p>å‚è€ƒï¼š</p><ul><li><a href="http://blog.topspeedsnail.com/archives/3918" target="_blank" rel="noopener">æ–—å¤§çš„ç†ŠçŒ«-æœ€å¸¸ç”¨çš„Pythonä»£ç ç‰‡æ®µ</a></li></ul><h2 id="MongoDB"><a href="#MongoDB" class="headerlink" title="MongoDB"></a>MongoDB</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">uri=<span class="string">"mongodb://admin:admin@xxx.xxx.xxx.xxx:27017,xxx.xxx.xxx.xxx:27018,xxx.xxx.xxx.xxx:27019/test"</span></span><br><span class="line">client=pymongo.MongoClient(uri,replicaSet=<span class="string">'noah-cluster'</span>,readPreference=<span class="string">'primaryPreferred'</span>)</span><br><span class="line">db=client.get_default_database()</span><br><span class="line">decouple_history=db.rpm_decouple_release_history_info</span><br><span class="line">pprint(decouple_history.find_one(&#123;<span class="string">'service_name'</span>:<span class="string">'test'</span>&#125;))</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;list-åˆ—è¡¨ç›¸å…³&quot;&gt;&lt;a href=&quot;#list-åˆ—è¡¨ç›¸å…³&quot; class=&quot;headerlink&quot; title=&quot;list åˆ—è¡¨ç›¸å…³&quot;&gt;&lt;/a&gt;list åˆ—è¡¨ç›¸å…³&lt;/h1&gt;&lt;h2 id=&quot;list-ä¸­æœ€å°å€¼ã€æœ€å¤§å€¼&quot;&gt;&lt;a href=&quot;#list-ä¸­æœ€å°å€¼ã€æœ€å¤§
      
    
    </summary>
    
      <category term="Python" scheme="https://michael728.github.io/categories/Python/"/>
    
    
      <category term="Snippet" scheme="https://michael728.github.io/tags/Snippet/"/>
    
  </entry>
  
  <entry>
    <title>Python å®ç”¨æŠ€å·§æ€»ç»“</title>
    <link href="https://michael728.github.io/2019/09/07/python-effective-tips/"/>
    <id>https://michael728.github.io/2019/09/07/python-effective-tips/</id>
    <published>2019-09-07T10:10:57.000Z</published>
    <updated>2020-01-05T15:47:56.120Z</updated>
    
    <content type="html"><![CDATA[<h2 id="æ¨¡å—ç›¸å…³"><a href="#æ¨¡å—ç›¸å…³" class="headerlink" title="æ¨¡å—ç›¸å…³"></a>æ¨¡å—ç›¸å…³</h2><ol><li>å¯¼å…¥æ¨¡å—æ—¶ï¼Œå¯ä»¥é€šè¿‡æ¨¡å—çš„ <code>__file__</code> å±æ€§æŸ¥çœ‹æ¨¡å—æ‰€åœ¨ç£ç›˜çš„è·¯å¾„ä½ç½®ï¼Œå‚è€ƒï¼š<a href="https://foofish.net/package-module-tips.html" target="_blank" rel="noopener">å…³äºPythonåŒ…å’Œæ¨¡å—çš„10ä¸ªçŸ¥è¯†æ¸…å•</a></li></ol><h2 id="Pip"><a href="#Pip" class="headerlink" title="Pip"></a>Pip</h2><h3 id="å®‰è£…Pip"><a href="#å®‰è£…Pip" class="headerlink" title="å®‰è£…Pip"></a>å®‰è£…Pip</h3><p>æ–¹æ³•ä¸€ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get purge python-pip python3-pip # Ubuntuå¸è½½</span><br><span class="line">wget https://bootstrap.pypa.io/get-pip.py</span><br><span class="line">sudo python3 get-pip.py # å®‰è£…py3å¯¹åº”çš„pip</span><br><span class="line">sudo python get-pip.py # å®‰è£…py2å¯¹åº”çš„pip</span><br></pre></td></tr></table></figure><p>æ–¹æ³•äºŒï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span># centos yumæ–¹å¼</span><br><span class="line">yum install -y python-setuptools</span><br><span class="line">easy_install pip</span><br></pre></td></tr></table></figure><h3 id="Pipå‘½ä»¤"><a href="#Pipå‘½ä»¤" class="headerlink" title="Pipå‘½ä»¤"></a>Pipå‘½ä»¤</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">python -m pip install -U pip #å‡çº§pipï¼š</span><br><span class="line">pip list --outdate #æŸ¥çœ‹å“ªäº›åŒ…æœ‰æ›´æ–°ï¼š</span><br><span class="line">pip install --upgrade requests  // mac,linux,unix åœ¨å‘½ä»¤å‰åŠ  sudo -H  å‡çº§ä¸€ä¸ªåŒ…ï¼š</span><br><span class="line">pip install -U setuptools    #</span><br><span class="line">conda update setuptools  #</span><br><span class="line">pip freeze --local | grep -v '^\-e' | cut -d = -f 1  | xargs pip install -U # å‡çº§æ‰€æœ‰åŒ…</span><br><span class="line">pip show requests # æŸ¥çœ‹ package æ‰€åœ¨çš„ä½ç½®ç­‰ä¿¡æ¯</span><br></pre></td></tr></table></figure><p>pipçš„é…ç½®æ–‡ä»¶ä¸­ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[list]                                                # pip listå‘½ä»¤æ¥å£çš„å±•ç¤ºæ–¹å¼è®¾ç½®</span><br><span class="line">format=columns</span><br></pre></td></tr></table></figure><p>å‚è€ƒï¼š</p><ul><li><a href="http://shadow000902.space/2018/03/06/Python%E5%B0%8F%E6%8A%80%E5%B7%A7/" target="_blank" rel="noopener">Pythonå°æŠ€å·§</a></li><li><a href="https://www.jianshu.com/p/81b648b1d572" target="_blank" rel="noopener">åœ¨Linuxä¸Šå®‰è£…Python 3</a></li><li><a href="http://www.cnblogs.com/chenzehe/archive/2010/10/20/1856437.html" target="_blank" rel="noopener">linuxä¸‹pythonå¼€å‘ç¯å¢ƒä¹‹ä¸€â€”â€”å®‰è£…python</a></li><li><a href="http://www.suohi.cc/posts/578ee7ff1f6d1303e9f04a5d" target="_blank" rel="noopener">å…³äºpipå®‰è£…æ—¶æç¤ºpkg_resources.DistributionNotFound é”™è¯¯é—®é¢˜</a></li></ul><h3 id="Pipæº"><a href="#Pipæº" class="headerlink" title="Pipæº"></a>Pipæº</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">~/.pydistutils.cfg  # é…ç½®distutilsçš„æºï¼Œeasy_install å‘½ä»¤ä¼šèµ°è¿™é‡Œé…ç½®çš„ pip æº</span><br></pre></td></tr></table></figure><p>å‚è€ƒï¼š</p><ul><li><a href="http://everet.org/python-pypi-source.html" target="_blank" rel="noopener">ä¿®æ”¹pip/setup.pyçš„æº</a></li></ul><h2 id="å®ç”¨"><a href="#å®ç”¨" class="headerlink" title="å®ç”¨"></a>å®ç”¨</h2><h3 id="Pythonä¸€é”®æ­å»ºHttpæœåŠ¡å™¨"><a href="#Pythonä¸€é”®æ­å»ºHttpæœåŠ¡å™¨" class="headerlink" title="Pythonä¸€é”®æ­å»ºHttpæœåŠ¡å™¨"></a>Pythonä¸€é”®æ­å»ºHttpæœåŠ¡å™¨</h3><p>ä½ å¦‚æœæƒ³å¿«é€Ÿä¸”ç®€å•åœ°å…±äº«ä¸€ä¸ªç›®å½•ä¸­çš„æ–‡ä»¶ï¼Œä½ åªéœ€åœ¨ç»ˆç«¯æ‰§è¡Œä¸‹é¢å¯¹åº”ç‰ˆæœ¬çš„æŒ‡ä»¤ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">python -m http.server <span class="number">8000</span> <span class="comment"># Py3</span></span><br><span class="line">python -m SimpleHTTPServer <span class="number">8000</span> <span class="comment"># Py2</span></span><br></pre></td></tr></table></figure><ul><li><a href="https://www.vimiix.com/python_tricks/#4" target="_blank" rel="noopener">Python æŠ€å·§</a></li></ul><h3 id="virtualenvåˆ›å»ºè™šæ‹Ÿç¯å¢ƒ"><a href="#virtualenvåˆ›å»ºè™šæ‹Ÿç¯å¢ƒ" class="headerlink" title="virtualenvåˆ›å»ºè™šæ‹Ÿç¯å¢ƒ"></a>virtualenvåˆ›å»ºè™šæ‹Ÿç¯å¢ƒ</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">virtualenv env</span><br></pre></td></tr></table></figure><p>è¿è¡Œå¸¦ <code>--no-site-packages</code> é€‰é¡¹çš„ virtualenv å°†ä¸ä¼šåŒ…æ‹¬å…¨å±€å®‰è£…çš„åŒ…ã€‚ è¿™å¯ç”¨äºä¿æŒåŒ…åˆ—è¡¨å¹²å‡€ï¼Œä»¥é˜²ä»¥åéœ€è¦è®¿é—®å®ƒã€‚ï¼ˆ<strong>è¿™åœ¨ virtualenv 1.7åŠä¹‹åæ˜¯é»˜è®¤è¡Œä¸º</strong>ï¼‰</p><div class="note warning no-icon">            <p>â€“no-site-packages    DEPRECATED. Retained only for backward compatibility.<br>                     Not having access to global site-packages is now the<br>                    default behavior.</p>          </div><p>å‚è€ƒï¼š<a href="https://pythonguidecn.readthedocs.io/zh/latest/dev/virtualenvs.html" target="_blank" rel="noopener">Pipenv &amp; è™šæ‹Ÿç¯å¢ƒ</a></p><h2 id="ipyhon"><a href="#ipyhon" class="headerlink" title="ipyhon"></a>ipyhon</h2><p><code>hist</code> æ˜¾ç¤ºä¹‹å‰çš„ä»£ç ï¼Œä¸æ˜¾ç¤ºè¡Œå·ï¼Œæ–¹ä¾¿å¤åˆ¶</p><h2 id="jupyter-notebook"><a href="#jupyter-notebook" class="headerlink" title="jupyter notebook"></a>jupyter notebook</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install jupyter_contrib_nbextensions &amp;&amp; jupyter contrib nbextension install</span><br></pre></td></tr></table></figure><p>å®‰è£…å¥½ jupyter notebook æ’é”®ä¹‹åï¼Œå¯ä»¥åœ¨ <code>Nbextensions</code> èœå•é€‰é¡¹å¡ä¸­å‹¾é€‰å¯ç”¨ç›¸å…³æ‰©å±•åŠŸèƒ½ï¼Œä¸‹é¢æ˜¯æ¯”è¾ƒå¥½ç”¨çš„æ‰©å±•ï¼š</p><ul><li>Table of Contentsï¼šæ›´å®¹æ˜“å¯¼èˆª</li><li>Autopep8ï¼šè½»è½»ä¸€å‡»å°±èƒ½è·å¾—ç®€æ´ä»£ç </li><li>variable inspectorï¼šè·Ÿè¸ªä½ çš„å·¥ä½œç©ºé—´</li><li>ExecuteTimeï¼šæ˜¾ç¤ºå•å…ƒæ ¼çš„è¿è¡Œæ—¶é—´å’Œè€—æ—¶</li><li>éšè—ä»£ç è¾“å…¥ï¼šéšè—è¿‡ç¨‹ï¼Œå±•ç¤ºç»“æœ</li></ul><p>å‚è€ƒï¼š<a href="https://www.jiqizhixin.com/articles/2018-12-20-12" target="_blank" rel="noopener">æœºå™¨ä¹‹å¿ƒâ€”â€”æˆ‘çŸ¥é“ä½ ä¼šç”¨Jupyter Notebookï¼Œä½†è¿™äº›æ’ä»¶ä½ éƒ½ä¼šäº†å—ï¼Ÿ</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;æ¨¡å—ç›¸å…³&quot;&gt;&lt;a href=&quot;#æ¨¡å—ç›¸å…³&quot; class=&quot;headerlink&quot; title=&quot;æ¨¡å—ç›¸å…³&quot;&gt;&lt;/a&gt;æ¨¡å—ç›¸å…³&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;å¯¼å…¥æ¨¡å—æ—¶ï¼Œå¯ä»¥é€šè¿‡æ¨¡å—çš„ &lt;code&gt;__file__&lt;/code&gt; å±æ€§æŸ¥çœ‹æ¨¡å—æ‰€åœ¨ç£ç›˜çš„è·¯å¾„ä½ç½®ï¼Œå‚è€ƒï¼š&lt;
      
    
    </summary>
    
      <category term="Python" scheme="https://michael728.github.io/categories/Python/"/>
    
    
      <category term="Tips" scheme="https://michael728.github.io/tags/Tips/"/>
    
  </entry>
  
  <entry>
    <title>é‚£äº›å¹´æˆ‘å‰æ‰‹çš„æå®¢æ—¶é—´è¯¾ç¨‹</title>
    <link href="https://michael728.github.io/2019/09/01/resource-it-geektime/"/>
    <id>https://michael728.github.io/2019/09/01/resource-it-geektime/</id>
    <published>2019-09-01T23:55:08.000Z</published>
    <updated>2020-01-05T15:47:56.120Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ä»Šå¤©çœ‹äº†çœ‹åœ¨ã€Œæå®¢æ—¶é—´ã€é‡Œæ„å»ºçš„è¯¾ç¨‹ï¼Œå‘ç°å·²ç»æŒºå¤šçš„äº†ï¼Œè®¤çœŸçœ‹å¤šçš„å´æŒºå°‘ï¼Œä¸‹é¢æ˜¯æˆ‘è§‰å¾—å€¼å¾—ä¸€çœ‹çš„è¯¾ç¨‹ï¼Œè€å¸ˆè®²çš„éƒ½æŒºè®¤çœŸã€å†…å®¹ä¸æ°´ï¼ä»Šå¹´ä¸‹åŠå¹´ç›®æ ‡å°±æŠŠä»–ä»¬æ¶ˆåŒ–æ¶ˆåŒ–å°±è¶³å¤Ÿäº†~</p><p>PSï¼šæ­¤å¤–ï¼Œæœ‰éœ€è¦çš„å°ä¼™ä¼´ä¹Ÿå¯ä»¥æ‰«ç è´­ä¹°ï¼Œç›®å‰æå®¢æ—¶é—´çš„è¿”åˆ©è§„åˆ™å·²ç”±åŸæ¥çš„è´­ä¹°è€…å’Œæˆ‘éƒ½è·å¾—è¿”åˆ©å˜ä¸ºä»…ä»…æˆ‘èƒ½æ”¶åˆ°è¿”åˆ©ã€‚æ‰€ä»¥ï¼Œå¦‚æœä½ æ˜¯é€šè¿‡æ‰«ä¸‹é¢çš„ç è´­ä¹°è¯¾ç¨‹ï¼Œå¯ä»¥ä¿å­˜ä¸‹æˆªå›¾ï¼ŒåŠ æˆ‘å¾®ä¿¡ï¼Œæˆ‘ä¼šè¿”åˆ©ä¸€åŠç»™ä½ ï¼Œè¿™æ ·ä¹Ÿèƒ½ç»™ä½ å¸¦å»ä¼˜æƒ  ğŸ¤“</p><p><img src="https://gitee.com/michael_xiang/images/raw/master/å¾®ä¿¡äºŒç»´ç -ç¿”.jpeg" alt="wechat"></p><h2 id="è¶£è°ˆ-Linux-æ“ä½œç³»ç»Ÿ"><a href="#è¶£è°ˆ-Linux-æ“ä½œç³»ç»Ÿ" class="headerlink" title="è¶£è°ˆ Linux æ“ä½œç³»ç»Ÿ"></a>è¶£è°ˆ Linux æ“ä½œç³»ç»Ÿ</h2><p><img src="https://gitee.com/michael_xiang/images/raw/master/è¶£è°ˆLinuxæ“ä½œç³»ç»Ÿ.jpeg" alt="è¶£è°ˆ Linux æ“ä½œç³»ç»Ÿ"></p><h2 id="è¶£è°ˆç½‘ç»œåè®®"><a href="#è¶£è°ˆç½‘ç»œåè®®" class="headerlink" title="è¶£è°ˆç½‘ç»œåè®®"></a>è¶£è°ˆç½‘ç»œåè®®</h2><p><img src="https://gitee.com/michael_xiang/images/raw/master/è¶£è°ˆç½‘ç»œåè®®.jpeg" alt="è¶£è°ˆç½‘ç»œåè®®"></p><h2 id="ç®—æ³•é¢è¯•é€šè¿‡40è®²"><a href="#ç®—æ³•é¢è¯•é€šè¿‡40è®²" class="headerlink" title="ç®—æ³•é¢è¯•é€šè¿‡40è®²"></a>ç®—æ³•é¢è¯•é€šè¿‡40è®²</h2><p><img src="https://gitee.com/michael_xiang/images/raw/master/ç®—æ³•é¢è¯•é€šè¿‡40è®².jpeg" alt="ç®—æ³•é¢è¯•é€šè¿‡40è®²"></p><h2 id="ç©è½¬Gitä¸‰å‰‘å®¢"><a href="#ç©è½¬Gitä¸‰å‰‘å®¢" class="headerlink" title="ç©è½¬Gitä¸‰å‰‘å®¢"></a>ç©è½¬Gitä¸‰å‰‘å®¢</h2><p><img src="https://gitee.com/michael_xiang/images/raw/master/ç©è½¬Gitä¸‰å‰‘å®¢.jpeg" alt="ç©è½¬Gitä¸‰å‰‘å®¢"></p><h2 id="å·¦è€³æœµè€—å­"><a href="#å·¦è€³æœµè€—å­" class="headerlink" title="å·¦è€³æœµè€—å­"></a>å·¦è€³æœµè€—å­</h2><p><img src="https://gitee.com/michael_xiang/images/raw/master/å·¦è€³æœµè€—å­.jpeg" alt="å·¦è€³æœµè€—å­"></p><h2 id="MySQLå®æˆ˜45è®²"><a href="#MySQLå®æˆ˜45è®²" class="headerlink" title="MySQLå®æˆ˜45è®²"></a>MySQLå®æˆ˜45è®²</h2><p><img src="https://gitee.com/michael_xiang/images/raw/master/MySQLå®æˆ˜45è®².jpeg" alt="MySQLå®æˆ˜45è®²"></p><h2 id="Nginxæ ¸å¿ƒçŸ¥è¯†100è®²"><a href="#Nginxæ ¸å¿ƒçŸ¥è¯†100è®²" class="headerlink" title="Nginxæ ¸å¿ƒçŸ¥è¯†100è®²"></a>Nginxæ ¸å¿ƒçŸ¥è¯†100è®²</h2><p><img src="https://gitee.com/michael_xiang/images/raw/master/Nginxæ ¸å¿ƒçŸ¥è¯†100è®².jpeg" alt="Nginxæ ¸å¿ƒçŸ¥è¯†100è®²"></p><h2 id="Webåè®®è¯¦è§£ä¸æŠ“åŒ…å®æˆ˜"><a href="#Webåè®®è¯¦è§£ä¸æŠ“åŒ…å®æˆ˜" class="headerlink" title="Webåè®®è¯¦è§£ä¸æŠ“åŒ…å®æˆ˜"></a>Webåè®®è¯¦è§£ä¸æŠ“åŒ…å®æˆ˜</h2><p><img src="https://gitee.com/michael_xiang/images/raw/master/Webåè®®è¯¦è§£ä¸æŠ“åŒ…å®æˆ˜.jpeg" alt="Webåè®®è¯¦è§£ä¸æŠ“åŒ…å®æˆ˜"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;ä»Šå¤©çœ‹äº†çœ‹åœ¨ã€Œæå®¢æ—¶é—´ã€é‡Œæ„å»ºçš„è¯¾ç¨‹ï¼Œå‘ç°å·²ç»æŒºå¤šçš„äº†ï¼Œè®¤çœŸçœ‹å¤šçš„å´æŒºå°‘ï¼Œä¸‹é¢æ˜¯æˆ‘è§‰å¾—å€¼å¾—ä¸€çœ‹çš„è¯¾ç¨‹ï¼Œè€å¸ˆè®²çš„éƒ½æŒºè®¤çœŸã€å†…å®¹ä¸æ°´ï¼ä»Šå¹´ä¸‹åŠå¹´
      
    
    </summary>
    
      <category term="é˜…è¯»" scheme="https://michael728.github.io/categories/%E9%98%85%E8%AF%BB/"/>
    
    
      <category term="èµ„æº" scheme="https://michael728.github.io/tags/%E8%B5%84%E6%BA%90/"/>
    
      <category term="è¿”åˆ©" scheme="https://michael728.github.io/tags/%E8%BF%94%E5%88%A9/"/>
    
      <category term="è¯¾ç¨‹" scheme="https://michael728.github.io/tags/%E8%AF%BE%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>IT åŸºç¡€ â€”â€” å¼€æºåè®®</title>
    <link href="https://michael728.github.io/2019/08/25/it-basic-open-source-protocol/"/>
    <id>https://michael728.github.io/2019/08/25/it-basic-open-source-protocol/</id>
    <published>2019-08-25T22:49:10.000Z</published>
    <updated>2020-01-05T15:47:56.120Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://gitee.com/michael_xiang/images/raw/master/osi_keyhole_300X300_90ppi.png" alt="OSI Logo"></p><h2 id="ä»€ä¹ˆæ˜¯å¼€æº"><a href="#ä»€ä¹ˆæ˜¯å¼€æº" class="headerlink" title="ä»€ä¹ˆæ˜¯å¼€æº"></a>ä»€ä¹ˆæ˜¯å¼€æº</h2><p>å‘å±•å²</p><ul><li>1969 å¹´ï¼Œè´å°”å®éªŒå®¤å°† Unix ä»£ç å…±äº«ç»™ç¤¾åŒºï¼Œä¸ºå¼€æºå¥ å®šäº†é‡è¦åŸºç¡€ã€‚</li><li>1984 å¹´ï¼ŒRichard Stallman ç¦»å¼€ MITï¼Œå‘èµ· GUN é¡¹ç›®ï¼Œå¸Œæœ›ä½¿ç”¨è‡ªç”±ä»£ç æ„å»ºä¸€ä¸ªç±» Unix çš„æ“ä½œç³»ç»Ÿã€‚æ­¤åï¼ŒStallman åˆ›ç«‹è‡ªç”±è½¯ä»¶åŸºé‡‘ä¼šï¼ˆFSFï¼‰ï¼Œå‘èµ· GNU é€šç”¨å…¬å…±åè®®è¯ä¹¦ï¼ˆGNU General Public License, GNU GPLï¼‰ï¼Œå¼€å‘äº† GCCã€Emacs ç­‰ä¸€ç³»åˆ—é‡è¦äº§å“ã€‚</li><li>1991 å¹´ï¼ŒLinus Torvalds åœ¨ GPL åè®®ä¸‹å‘å¸ƒäº† Linux æ“ä½œç³»ç»Ÿå†…æ ¸ã€‚</li><li>1995 å¹´ï¼ŒApache è¯ç”Ÿï¼Œéšå³å æ® Web æœåŠ¡å™¨å¤§éƒ¨åˆ†å¸‚åœºä»½é¢ã€‚</li><li>2000 å¹´ï¼Œå¼€æºå»¶ä¼¸è‡³ç§»åŠ¨å’Œäº‘é¢†åŸŸï¼Œç”± Google ç­‰å¤§ä¼ä¸šé©±åŠ¨ï¼Œå½±å“æŠ€æœ¯å‘å±•è·¯çº¿å’Œå¸‚åœºæ ¼å±€ã€‚</li><li>2008 å¹´ï¼ŒGithub ç­‰ä»£ç æ‰˜ç®¡å¹³å°ï¼Œé‡‡ç”¨ pull/request ç­‰æ–¹å¼ååŒåˆä½œï¼Œå°†å¼€æºæ¨å‘äº†æ–°é«˜åº¦ã€‚</li><li>2014 å¹´ï¼ŒGoogle å¼€æº Kubernetesï¼Œè·å¾—æå¤§å…³æ³¨ã€‚ç»è¿‡å‡ å¹´å‘å±•ï¼ŒKubernetes æˆä¸ºäº‹å®ä¸Šçš„åˆ†å¸ƒå¼æ¶æ„å¹³å°ã€‚</li></ul><a id="more"></a><h2 id="å¼€æºåè®®"><a href="#å¼€æºåè®®" class="headerlink" title="å¼€æºåè®®"></a>å¼€æºåè®®</h2><p>è½¯ä»¶çš„å¼€æºåè®®æˆäºˆæ‰€æœ‰ç”¨æˆ·ä½¿ç”¨ï¼Œä¿®æ”¹ä»¥åŠå…±äº«çš„æƒé™ï¼Œå¹¶æ˜ç¡®è¡¨ç¤ºäº†å“ªäº›è¡Œä¸ºæ˜¯å‡†è®¸çš„ï¼Œå“ªäº›è¡Œä¸ºæ˜¯ç¦æ­¢çš„ã€‚ä¸åŒçš„å¼€æºåè®®ï¼Œä¹Ÿæœ‰ä¸åŒçš„ä¾§é‡ç‚¹ã€‚</p><h3 id="GPL"><a href="#GPL" class="headerlink" title="GPL"></a>GPL</h3><p>æˆ‘ä»¬å¾ˆç†Ÿæ‚‰çš„ Linux æ˜¯é‡‡ç”¨äº† GPLã€‚GPL åè®®å’Œ BSDã€ MIT ç­‰é¼“åŠ±ä»£ç é‡ç”¨çš„è®¸å¯å¾ˆä¸ä¸€æ ·ã€‚GPL è¦æ±‚ä¿®æ”¹åçš„ä»£ç æˆ–è€…è¡ç”Ÿå“ï¼Œä¹Ÿè¦é‡‡ç”¨ GPL åè®®ï¼Œæ—¢ä¿®æ”¹åçš„ä»£ç æˆ–è€…è¡ç”Ÿå“ï¼Œå¿…é¡»ä¹Ÿæ˜¯å¼€æºå’Œå…è´¹çš„ã€‚</p><h3 id="BSD"><a href="#BSD" class="headerlink" title="BSD"></a>BSD</h3><p>æ˜¯ä¸€ä¸ªç»™äºä½¿ç”¨è€…å¾ˆå¤§è‡ªç”±çš„åè®®ã€‚å¯ä»¥è‡ªç”±çš„ä½¿ç”¨ï¼Œä¿®æ”¹æºä»£ç ï¼Œä¹Ÿå¯ä»¥å°†ä¿®æ”¹åçš„ä»£ç ä½œä¸ºå¼€æºæˆ–è€…ä¸“æœ‰è½¯ä»¶å†å‘å¸ƒã€‚</p><h3 id="MIT"><a href="#MIT" class="headerlink" title="MIT"></a>MIT</h3><p>MIT ä¸ BSD ç±»ä¼¼ï¼Œä½†æ˜¯æ¯” BSD åè®®æ›´åŠ å®½æ¾ï¼Œæ˜¯ç›®å‰æœ€å°‘é™åˆ¶çš„åè®®ã€‚è¿™ä¸ªåè®®å”¯ä¸€çš„æ¡ä»¶å°±æ˜¯åœ¨ä¿®æ”¹åçš„ä»£ç æˆ–è€…å‘è¡ŒåŒ…åŒ…å«åŸä½œè€…çš„è®¸å¯ä¿¡æ¯ã€‚</p><div class="note warning">            <p>å› æ­¤ï¼Œä¸€äº›å…¬å¸å¾€å¾€éœ€è¦å°å¿ƒ GPLï¼ˆGPLã€AGPLã€SSPLï¼‰çš„ä½¿ç”¨</p>          </div><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>æ”¾ä¸¤å¼ å…³äºå¼€æºåè®®çš„æ€»ç»“ï¼Œéå¸¸ç®€æ´æ˜“æ‡‚ï¼š</p><p><img src="https://gitee.com/michael_xiang/images/raw/master/free_software_licenses.png" alt="å¦‚ä½•é€‰æ‹©å¼€æºè®¸å¯è¯"></p><p>ä¸Šå›¾æ¥è‡ªï¼š<a href="http://www.ruanyifeng.com/blog/2011/05/how_to_choose_free_software_licenses.html" target="_blank" rel="noopener">é˜®ä¸€å³°-å¦‚ä½•é€‰æ‹©å¼€æºè®¸å¯è¯ï¼Ÿ</a></p><p><img src="https://gitee.com/michael_xiang/images/raw/master/pudhS6.png" alt="é€‰æ‹©ä¸€ä¸ªå¼€æºè½¯ä»¶åè®®"></p><p>ä¸Šå›¾æ¥è‡ªï¼š<a href="http://choosealicense.online/" target="_blank" rel="noopener">é€‰æ‹©ä¸€ä¸ªå¼€æºè½¯ä»¶åè®®</a> å¯¹åº”è‹±æ–‡ç½‘å€<a href="https://choosealicense.com" target="_blank" rel="noopener">Choose an open source license</a></p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a href="https://www.kenzhishi.com/1731.html" target="_blank" rel="noopener">å¼€æºè½¯ä»¶æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿé—­æºå‘¢ï¼Ÿ</a> ä¸€ä¸ª UP ä¸»çš„åšå®¢</li><li><a href="https://opensource.org/licenses" target="_blank" rel="noopener">About Open Source Licenses</a></li><li><a href="https://www.chenshaowen.com/blog/open-source-is-refactoring-the-business-model.html" target="_blank" rel="noopener">é™ˆå°‘æ–‡-å¼€æºæ­£åœ¨é‡æ„å•†ä¸šæ¨¡å¼</a></li><li><a href="https://opensource.org/node/442" target="_blank" rel="noopener">opensource-logo</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://gitee.com/michael_xiang/images/raw/master/osi_keyhole_300X300_90ppi.png&quot; alt=&quot;OSI Logo&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;ä»€ä¹ˆæ˜¯å¼€æº&quot;&gt;&lt;a href=&quot;#ä»€ä¹ˆæ˜¯å¼€æº&quot; class=&quot;headerlink&quot; title=&quot;ä»€ä¹ˆæ˜¯å¼€æº&quot;&gt;&lt;/a&gt;ä»€ä¹ˆæ˜¯å¼€æº&lt;/h2&gt;&lt;p&gt;å‘å±•å²&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;1969 å¹´ï¼Œè´å°”å®éªŒå®¤å°† Unix ä»£ç å…±äº«ç»™ç¤¾åŒºï¼Œä¸ºå¼€æºå¥ å®šäº†é‡è¦åŸºç¡€ã€‚&lt;/li&gt;
&lt;li&gt;1984 å¹´ï¼ŒRichard Stallman ç¦»å¼€ MITï¼Œå‘èµ· GUN é¡¹ç›®ï¼Œå¸Œæœ›ä½¿ç”¨è‡ªç”±ä»£ç æ„å»ºä¸€ä¸ªç±» Unix çš„æ“ä½œç³»ç»Ÿã€‚æ­¤åï¼ŒStallman åˆ›ç«‹è‡ªç”±è½¯ä»¶åŸºé‡‘ä¼šï¼ˆFSFï¼‰ï¼Œå‘èµ· GNU é€šç”¨å…¬å…±åè®®è¯ä¹¦ï¼ˆGNU General Public License, GNU GPLï¼‰ï¼Œå¼€å‘äº† GCCã€Emacs ç­‰ä¸€ç³»åˆ—é‡è¦äº§å“ã€‚&lt;/li&gt;
&lt;li&gt;1991 å¹´ï¼ŒLinus Torvalds åœ¨ GPL åè®®ä¸‹å‘å¸ƒäº† Linux æ“ä½œç³»ç»Ÿå†…æ ¸ã€‚&lt;/li&gt;
&lt;li&gt;1995 å¹´ï¼ŒApache è¯ç”Ÿï¼Œéšå³å æ® Web æœåŠ¡å™¨å¤§éƒ¨åˆ†å¸‚åœºä»½é¢ã€‚&lt;/li&gt;
&lt;li&gt;2000 å¹´ï¼Œå¼€æºå»¶ä¼¸è‡³ç§»åŠ¨å’Œäº‘é¢†åŸŸï¼Œç”± Google ç­‰å¤§ä¼ä¸šé©±åŠ¨ï¼Œå½±å“æŠ€æœ¯å‘å±•è·¯çº¿å’Œå¸‚åœºæ ¼å±€ã€‚&lt;/li&gt;
&lt;li&gt;2008 å¹´ï¼ŒGithub ç­‰ä»£ç æ‰˜ç®¡å¹³å°ï¼Œé‡‡ç”¨ pull/request ç­‰æ–¹å¼ååŒåˆä½œï¼Œå°†å¼€æºæ¨å‘äº†æ–°é«˜åº¦ã€‚&lt;/li&gt;
&lt;li&gt;2014 å¹´ï¼ŒGoogle å¼€æº Kubernetesï¼Œè·å¾—æå¤§å…³æ³¨ã€‚ç»è¿‡å‡ å¹´å‘å±•ï¼ŒKubernetes æˆä¸ºäº‹å®ä¸Šçš„åˆ†å¸ƒå¼æ¶æ„å¹³å°ã€‚&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="IT åŸºç¡€" scheme="https://michael728.github.io/categories/IT-%E5%9F%BA%E7%A1%80/"/>
    
    
      <category term="å¼€æº" scheme="https://michael728.github.io/tags/%E5%BC%80%E6%BA%90/"/>
    
      <category term="åŸºç¡€" scheme="https://michael728.github.io/tags/%E5%9F%BA%E7%A1%80/"/>
    
  </entry>
  
  <entry>
    <title>DevOps ä¹‹ ELK åŸºç¡€è®¾æ–½æ­å»º</title>
    <link href="https://michael728.github.io/2019/08/14/cicd-elk-install/"/>
    <id>https://michael728.github.io/2019/08/14/cicd-elk-install/</id>
    <published>2019-08-14T22:10:57.000Z</published>
    <updated>2020-01-05T15:47:56.116Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><p><img src="https://gitee.com/michael_xiang/images/raw/master/201909078-elk.png" alt="ELK"></p><h2 id="Elasticsearch"><a href="#Elasticsearch" class="headerlink" title="Elasticsearch"></a>Elasticsearch</h2><p>å®˜æ–¹çš„<a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/index.html" target="_blank" rel="noopener">Elasticsearch Reference</a> æ–‡æ¡£æ˜¯ç›¸å½“å…¨é¢äº†ï¼Œè€Œä¸”ï¼Œä¸åŒç‰ˆæœ¬éƒ½å¯ä»¥åˆ‡æ¢ï¼ŒçœŸæ˜¯èµï¼å¦‚æœè‹±æ–‡çš„ä¸æƒ³çœ‹ï¼Œè¿˜æä¾›äº†ä¸­æ–‡ç‰ˆçš„ <a href="https://www.elastic.co/guide/cn/elasticsearch/guide/current/index.html" target="_blank" rel="noopener">Elasticsearch: æƒå¨æŒ‡å—</a>ï¼Œè™½ç„¶å¯èƒ½ç‰ˆæœ¬ä¸æ˜¯æœ€æ–°çš„ï¼Œä½†æ˜¯äº†è§£åŸºæœ¬æ¦‚å¿µä¹Ÿæ˜¯æœ‰å¸®åŠ©çš„ã€‚</p><p>Elasticsearch åŒ…é‡Œè‡ªåŒ…å«äº† OpenJDK çš„åŒ…ï¼Œåœ¨ Elacticsearch ç›®å½•ä¸‹çš„ <code>jdk</code> ç›®å½•ä¸­ã€‚å¦‚æœä½ æƒ³è¦ä½¿ç”¨ä½ è‡ªå·±é…ç½®å¥½çš„ Java ç‰ˆæœ¬ï¼Œéœ€è¦è®¾ç½® <code>JAVA_HOME</code> ç¯å¢ƒå˜é‡ã€‚</p><p>å®˜æ–¹æ–‡æ¡£çš„ <code>Set up Elasticsearch</code> ä¸‹é¢æœ‰å®‰è£…çš„æŒ‡å¯¼ï¼Œå…·ä½“é¡µé¢ <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/install-elasticsearch.html" target="_blank" rel="noopener">Installing Elasticsearch</a> ä¸­æä¾›äº†å¤šç§å®‰è£…åŒ…å¯¹åº”çš„æŒ‡å¯¼é“¾æ¥ï¼æœ¬æ–‡å°±å…ˆé€‰æ‹© <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/targz.html" target="_blank" rel="noopener">tar åŒ…</a>çš„æ–¹å¼å®‰è£…ã€‚</p><p>ç”±äºæœ¬åœ°æœºå™¨æœ‰é™ï¼Œæˆ‘ä»¬åœ¨åŒä¸€å°æœºå™¨ä¸Šæ¨¡æ‹Ÿå‡º 3 ä¸ªèŠ‚ç‚¹ï¼Œå®‰è£… ES é›†ç¾¤ã€‚</p><h3 id="ä¸‹è½½-ES-å®‰è£…åŒ…"><a href="#ä¸‹è½½-ES-å®‰è£…åŒ…" class="headerlink" title="ä¸‹è½½ ES å®‰è£…åŒ…"></a>ä¸‹è½½ ES å®‰è£…åŒ…</h3><p>å®˜ç½‘çš„ä¸‹è½½åœ°å€ç®€ç›´æ˜¯é¾Ÿé€Ÿï¼Œå‘ç°æˆ‘å¸çš„<a href="https://mirrors.huaweicloud.com/elasticsearch/" target="_blank" rel="noopener">é•œåƒç«™</a>ä¸Šæä¾›äº†å®‰è£…åŒ…ï¼Œè¯•ç”¨åå®‰åˆ©ï¼Œé€Ÿåº¦ä¸é”™ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">wget https://mirrors.huaweicloud.com/elasticsearch/7.3.0/</span><br><span class="line">wget https://mirrors.huaweicloud.com/elasticsearch/7.3.0/elasticsearch-7.3.0-linux-x86_64.tar.gz.sha512</span><br><span class="line"><span class="meta">#</span> éªŒè¯å®‰è£…åŒ…çš„å®Œæ•´æ€§ï¼Œå¦‚æœæ²¡é—®é¢˜ï¼Œä¼šè¾“å‡º OK</span><br><span class="line">shasum -a 512 -c elasticsearch-7.3.0-linux-x86_64.tar.gz.sha512</span><br><span class="line">tar -xzf elasticsearch-7.3.0-linux-x86_64.tar.gz</span><br><span class="line">cp -R elasticsearch-7.3.0 es-node1</span><br><span class="line">cp -R elasticsearch-7.3.0 es-node2</span><br><span class="line">mv elasticsearch-7.3.0 es-node3</span><br><span class="line">chown -R michael es-node* # å› ä¸ºä»¥ root ç”¨æˆ·å¯åŠ¨ä¸äº† ES</span><br></pre></td></tr></table></figure><p>ä¸‹æ–‡çš„ <code>$ES_HOME</code> å°±æ˜¯æŒ‡è¿™é‡Œ tar åŒ…è§£å‹åçš„æ–‡ä»¶å¤¹ç›®å½•ï¼Œç›®å½•ç»„æˆï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">â”œâ”€â”€ bin # äºŒè¿›åˆ¶è„šæœ¬å­˜æ”¾ç›®å½•ï¼ŒåŒ…æ‹¬ elasticsearch æ¥æŒ‡å®šè¿è¡Œä¸€ä¸ª nodeï¼ŒåŒ…æ‹¬ elasticsearch-plugin æ¥å®‰è£… plugins</span><br><span class="line">â”œâ”€â”€ config # åŒ…å«äº† elasticsearch.yml é…ç½®æ–‡ä»¶</span><br><span class="line">â”œâ”€â”€ data # èŠ‚ç‚¹ä¸Šåˆ†é…çš„æ¯ä¸ª index/åˆ†ç‰‡ çš„æ•°æ®æ–‡ä»¶</span><br><span class="line">â”œâ”€â”€ jdk</span><br><span class="line">â”œâ”€â”€ lib</span><br><span class="line">â”œâ”€â”€ LICENSE.txt</span><br><span class="line">â”œâ”€â”€ logs</span><br><span class="line">â”œâ”€â”€ modules</span><br><span class="line">â”œâ”€â”€ NOTICE.txt</span><br><span class="line">â”œâ”€â”€ plugins # æ’é”®æ–‡ä»¶å­˜æ”¾çš„ä½ç½®</span><br><span class="line">â””â”€â”€ README.textile</span><br></pre></td></tr></table></figure><h3 id="ä½¿ç”¨å‘½ä»¤è¡Œè¿è¡Œ-Elasticsearch"><a href="#ä½¿ç”¨å‘½ä»¤è¡Œè¿è¡Œ-Elasticsearch" class="headerlink" title="ä½¿ç”¨å‘½ä»¤è¡Œè¿è¡Œ Elasticsearch"></a>ä½¿ç”¨å‘½ä»¤è¡Œè¿è¡Œ Elasticsearch</h3><p>é¦–å…ˆï¼Œæˆ‘ä»¬å…ˆè¿è¡Œä¸€ä¸ªèŠ‚ç‚¹èµ·æ¥ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./bin/elasticsearch</span><br></pre></td></tr></table></figure><div class="note warning">            <p>ä¸èƒ½ä½¿ç”¨ root è´¦å·è¿è¡Œä¸Šé¢çš„å‘½ä»¤ï¼Œå¦åˆ™ä¼šæŠ¥é”™ï¼š</p>undefined          </div><p>å¦‚æœéœ€è¦æ–°å»ºç”¨æˆ·çš„è¯å¯ä»¥è¿è¡Œ <code>adduser michael</code>ï¼Œä¿®æ”¹å¯†ç ï¼š<code>passwd michael</code>ï¼Œç„¶å <code>chown -R es-node*</code>ã€‚</p><h3 id="æ£€æŸ¥ä¸€ä¸‹è¿è¡ŒçŠ¶æ€"><a href="#æ£€æŸ¥ä¸€ä¸‹è¿è¡ŒçŠ¶æ€" class="headerlink" title="æ£€æŸ¥ä¸€ä¸‹è¿è¡ŒçŠ¶æ€"></a>æ£€æŸ¥ä¸€ä¸‹è¿è¡ŒçŠ¶æ€</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -X GET "localhost:9200/?pretty"</span><br></pre></td></tr></table></figure><p>æˆ–è€…åœ¨æµè§ˆå™¨ä¸­è®¿é—® <code>localhost:9200</code> éƒ½å¯ä»¥ï¼Œä¼šè¿”å›ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    "name": "node-1",</span><br><span class="line">    "cluster_name": "michael-es",</span><br><span class="line">    "cluster_uuid": "GlzI_v__QJ2s9ewAgomOqg",</span><br><span class="line">    "version": &#123;</span><br><span class="line">        "number": "7.3.0",</span><br><span class="line">        "build_flavor": "default",</span><br><span class="line">        "build_type": "tar",</span><br><span class="line">        "build_hash": "de777fa",</span><br><span class="line">        "build_date": "2019-07-24T18:30:11.767338Z",</span><br><span class="line">        "build_snapshot": false,</span><br><span class="line">        "lucene_version": "8.1.0",</span><br><span class="line">        "minimum_wire_compatibility_version": "6.8.0",</span><br><span class="line">        "minimum_index_compatibility_version": "6.0.0-beta1"</span><br><span class="line">    &#125;,</span><br><span class="line">    "tagline": "You Know, for Search"</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœä½ æ˜¯åœ¨æœåŠ¡å™¨ä¸Šéƒ¨ç½²çš„ ESï¼Œé‚£ä¹ˆï¼Œåœ¨ä½ çš„å·¥ä½œæœºä¸Šç›®å‰è¿˜æ— æ³•è°ƒç”¨é€š <code>&lt;IP&gt;:9200</code>ï¼Œéœ€è¦ä¸€äº›é…ç½®æ‰å¯ä»¥ã€‚åé¢ä¼šä»‹ç»ã€‚</p><h3 id="ä½œä¸ºå®ˆæŠ¤è¿›ç¨‹è¿è¡Œ"><a href="#ä½œä¸ºå®ˆæŠ¤è¿›ç¨‹è¿è¡Œ" class="headerlink" title="ä½œä¸ºå®ˆæŠ¤è¿›ç¨‹è¿è¡Œ"></a>ä½œä¸ºå®ˆæŠ¤è¿›ç¨‹è¿è¡Œ</h3><p>è¦å°† ES ä½œä¸ºå®ˆæŠ¤ç¨‹åºè¿è¡Œï¼Œè¯·åœ¨å‘½ä»¤è¡Œä¸­æŒ‡å®š <code>-d</code>ï¼ŒæŒ‡å®š <code>-p</code> å‚æ•°ï¼Œå°†è¿›ç¨‹ ID è®°å½•åˆ° <code>pid</code> æ–‡ä»¶ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./bin/elasticsearch -d -p pid</span><br></pre></td></tr></table></figure><p>æ—¥å¿—åœ¨ <code>$ES_HOME/logs</code> ç›®å½•ä¸­ã€‚</p><p>å¦‚æœæƒ³åœæ­¢  ESï¼Œè¿è¡Œå¦‚ä¸‹çš„å‘½ä»¤ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pkill -F pid</span><br></pre></td></tr></table></figure><h3 id="åœ¨å‘½ä»¤è¡Œé…ç½®-ES"><a href="#åœ¨å‘½ä»¤è¡Œé…ç½®-ES" class="headerlink" title="åœ¨å‘½ä»¤è¡Œé…ç½® ES"></a>åœ¨å‘½ä»¤è¡Œé…ç½® ES</h3><p>ES é»˜è®¤ä¼šåŠ è½½ä½äº <code>$ES_HOME/config/elasticsearch.yml</code> çš„é…ç½®æ–‡ä»¶ã€‚</p><p>ä»»ä½•èƒ½å¤Ÿé€šè¿‡é…ç½®æ–‡ä»¶è®¾ç½®çš„å†…å®¹ï¼Œéƒ½å¯ä»¥é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨ <code>-E</code> çš„è¯­æ³•è¿›è¡ŒæŒ‡å®šï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./bin/elasticsearch -d -Ecluster.name=my_cluster -Enode.name=node_1</span><br></pre></td></tr></table></figure><div class="note info">            <p>é€šå¸¸ï¼Œä»»ä½•ç¾¤é›†èŒƒå›´çš„è®¾ç½®ï¼ˆå¦‚cluster.nameï¼‰éƒ½åº”æ·»åŠ åˆ°elasticsearch.ymlé…ç½®æ–‡ä»¶ä¸­ï¼Œè€Œä»»ä½•ç‰¹å®šäºèŠ‚ç‚¹çš„è®¾ç½®ï¼ˆå¦‚node.nameï¼‰éƒ½å¯ä»¥åœ¨å‘½ä»¤è¡Œä¸­æŒ‡å®š</p>          </div><h3 id="é…ç½®-ES"><a href="#é…ç½®-ES" class="headerlink" title="é…ç½® ES"></a>é…ç½® ES</h3><p>å®˜ç½‘å…³äºé…ç½®çš„å†…å®¹ä¸»è¦æœ‰ä¸¤å¤„ï¼š</p><ul><li><a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/important-settings.html" target="_blank" rel="noopener">Important Elasticsearch configuration</a></li><li><a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/settings.html" target="_blank" rel="noopener">Configuraing Elasticsearch</a> åšäº†è¯´æ˜ã€‚</li></ul><p>æœ¬æ–‡ä»…æ­å»ºä¸€ä¸ªå•èŠ‚ç‚¹çš„ ES æœåŠ¡ï¼Œæœªæ­å»ºé›†ç¾¤ã€‚</p><ul><li>è®¾ç½®é›†ç¾¤åç§°</li></ul><p>é€šè¿‡ <code>cluster.name</code> å¯ä»¥è®¾ç½®é›†ç¾¤çš„åç§°ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cluster.name: michael-es</span><br></pre></td></tr></table></figure><p>é€šè¿‡ <code>node.name</code> å¯ä»¥é…ç½®æ¯ä¸ªèŠ‚ç‚¹çš„åç§°ï¼Œé›†ç¾¤ä¸­æ¯ä¸ªèŠ‚ç‚¹çš„åç§°éƒ½ä¸è¦ç›¸åŒ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">node.name: node-1</span><br></pre></td></tr></table></figure><ul><li>è®¾ç½®è®¿é—®çš„åœ°å€å’Œç«¯å£</li></ul><p>æˆ‘ä»¬éœ€è¦è®¾å®š ES è¿è¡Œç»‘å®šçš„ Hostï¼Œé»˜è®¤æ˜¯æ— æ³•å…¬å¼€è®¿é—®çš„ï¼å¦‚æœè®¾ç½®ä¸ºä¸»æœºçš„å…¬ç½‘ IP æˆ– <code>0.0.0.0</code> å°±æ˜¯å¯ä»¥å…¬å¼€è®¿é—®çš„ï¼Œå¯ä»¥éƒ½è®¾ç½®ä¸ºå…¬å¼€è®¿é—®æˆ–è€…éƒ¨åˆ†ä¸»æœºå…¬å¼€è®¿é—®ã€‚å¦‚æœæ˜¯å…¬å¼€è®¿é—®å°±é…ç½®ä¸ºï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">network.host: 0.0.0.0</span><br></pre></td></tr></table></figure><p>å¦å¤–ï¼Œå¯ä»¥æ›´æ”¹ç«¯å£ï¼Œé»˜è®¤ç«¯å£æ˜¯ 9200 ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http.port: 9200</span><br></pre></td></tr></table></figure><div class="note warning">            <p>æ³¨æ„ï¼šè¿™æ˜¯æŒ‡ http ç«¯å£ï¼Œå¦‚æœé‡‡ç”¨ REST API å¯¹æ¥ ESï¼Œé‚£ä¹ˆå°±æ˜¯é‡‡ç”¨çš„ http åè®®</p>          </div><ul><li>é›†ç¾¤åœ°å€è®¾ç½®</li></ul><p>é…ç½®é›†ç¾¤çš„ä¸»æœºåœ°å€ï¼Œé…ç½®ä¹‹åé›†ç¾¤çš„ä¸»æœºä¹‹é—´å¯ä»¥è‡ªåŠ¨å‘ç°ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">discovery.seed_hosts: ["192.168.3.43"]</span><br></pre></td></tr></table></figure><blockquote><p>the default discovery settings are unsuitable for production use; at least one of [discovery.seed_hosts, discovery.seed_providers, cluster.initial_master_nodes] must be configured</p></blockquote><p>å¿…é¡»è‡³å°‘é…ç½® <code>[discovery.seed_hostsï¼Œdiscovery.seed_providersï¼Œcluster.initial_master_nodes]</code> ä¸­çš„ä¸€ä¸ªã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> egrep -v "^#|^$" config/elasticsearch.yml</span><br><span class="line">cluster.name: michael-es</span><br><span class="line">node.name: node-1</span><br><span class="line">network.host: 0.0.0.0</span><br><span class="line">http.port: 9200</span><br><span class="line">discovery.seed_hosts: ["192.168.3.43"]</span><br><span class="line">cluster.initial_master_nodes: ["node-1"]</span><br></pre></td></tr></table></figure><p>ç»è¿‡ä¸Šé¢çš„é…ç½®ï¼Œè¿™æ—¶å€™å°±å¯ä»¥ä½¿ç”¨ <code>http://192.168.3.43:9200/</code> çœ‹åˆ°ç»“æœäº†ã€‚</p><p>å…³äº cluster.initial_master_nodes å¯ä»¥æŸ¥çœ‹å¦‚ä¸‹èµ„æ–™</p><ul><li><a href="https://www.elastic.co/guide/en/elasticsearch/reference/master/modules-discovery-bootstrap-cluster.html" target="_blank" rel="noopener">Bootstrapping a cluster</a></li><li><a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/modules-discovery-settings.html" target="_blank" rel="noopener">Discovery and cluster formation settings</a></li></ul><h3 id="å®‰è£…æ’é”®"><a href="#å®‰è£…æ’é”®" class="headerlink" title="å®‰è£…æ’é”®"></a>å®‰è£…æ’é”®</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./bin/elasticsearch-plugin install analysis-icu</span><br></pre></td></tr></table></figure><p>å¦‚æœæ’é”®å®‰è£…æ…¢ï¼Œå¯ä»¥å…ˆä¸‹è½½ä¸‹æ¥ï¼Œå†å®‰è£…ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wget https://artifacts.elastic.co/downloads/elasticsearch-plugins/analysis-icu/analysis-icu-7.1.0.zip</span><br><span class="line">./bin/elasticsearch-plugin install file://file path Of analysis-icu-7.1.0.zip</span><br></pre></td></tr></table></figure><h3 id="é›†ç¾¤é…ç½®"><a href="#é›†ç¾¤é…ç½®" class="headerlink" title="é›†ç¾¤é…ç½®"></a>é›†ç¾¤é…ç½®</h3><p>åˆ†åˆ«è¿›å…¥å¯¹åº” es-node2 å’Œ es-node3 çš„æ–‡ä»¶å¤¹ï¼Œè®¾ç½®å¦‚ä¸‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> es-node2</span><br><span class="line">cluster.name: michael-es</span><br><span class="line">node.name: node-2</span><br><span class="line">network.host: 0.0.0.0</span><br><span class="line">discovery.seed_hosts: ["192.168.3.43"]</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> es-node3</span><br><span class="line">cluster.name: michael-es</span><br><span class="line">node.name: node-3</span><br><span class="line">network.host: 0.0.0.0</span><br><span class="line">discovery.seed_hosts: ["192.168.3.43"]</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬é€šè¿‡è®¿é—® <code>http://192.168.3.43:9200/_cat/nodes</code>æŸ¥çœ‹é›†ç¾¤æ˜¯å¦ OKï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">172.20.0.1 18 98 35 1.16 0.69 0.58 dim - node-2</span><br><span class="line">172.20.0.1 14 98 35 1.16 0.69 0.58 dim - node-3</span><br><span class="line">172.20.0.1 19 98 35 1.16 0.69 0.58 dim * node-1</span><br></pre></td></tr></table></figure><p>æœ‰æ²¡æœ‰å‘ç°ï¼Œæˆ‘å¹¶æ²¡æœ‰ç»™ <code>es-node2</code> å’Œ <code>es-node3</code> æ˜ç¡®çš„æŒ‡å®šç«¯å£ï¼Œä¸ºä»€ä¹ˆåœ¨ä¸€å°æœºå™¨ä¸Šä¹ŸæˆåŠŸå¯åŠ¨äº†è¿™ä¸¤ä¸ªèŠ‚ç‚¹ï¼Ÿå› ä¸º Elasticsearch ä¼šå–ç”¨ 9200~9299 è¿™ä¸ªèŒƒå›´å†…çš„ç«¯å£ï¼Œå¦‚æœ 9200 è¢«å ç”¨ï¼Œå°±é€‰æ‹© 9201ï¼Œä¾æ¬¡ç±»æ¨ã€‚</p><p>å…¶å®ï¼Œè¿˜æœ‰ä¸€ä¸ªè·Ÿç®€å•çš„æ–¹æ³•åˆ›å»ºé›†ç¾¤ï¼Œæˆ‘ä»¬é¦–å…ˆå°†ä¸Šé¢è¿è¡Œçš„ä¸‰ä¸ªèŠ‚ç‚¹åœæ­¢æ‰ï¼Œç„¶åè¿›å…¥ es-node1 æ–‡ä»¶å¤¹ä¸‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p data/data&#123;1,2,3&#125;</span><br><span class="line">./bin/elasticsearch -E node.name=node-1 -E cluster.name=michael-es -E path.data=data/data1 -E path.logs=logs/logs1 -d -p pid1</span><br><span class="line">./bin/elasticsearch -E node.name=node-2 -E cluster.name=michael-es -E path.data=data/data2 -E path.logs=logs/logs2 -E http.port=9201 -d -p pid2</span><br><span class="line">./bin/elasticsearch -E node.name=node-3 -E cluster.name=michael-es -E path.data=data/data3 -E path.logs=logs/logs3 -E http.port=9202 -d -p pid3</span><br></pre></td></tr></table></figure><h3 id="ES-FAQ"><a href="#ES-FAQ" class="headerlink" title="ES-FAQ"></a>ES-FAQ</h3><p>Q1ï¼š<code>[1]: max virtual memory areas vm.max_map_count [65530] is too low, increase to at least [262144]</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">echo "vm.max_map_count=262144" &gt; /etc/sysctl.conf</span><br><span class="line">sysctl -p</span><br></pre></td></tr></table></figure><p>Q2ï¼š<code>max file descriptors [4096] for elasticsearch process is too low, increase to at least [65536]</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /etc/security/limits.conf</span><br><span class="line"><span class="meta">#</span> åŠ å…¥ä»¥ä¸‹å†…å®¹</span><br><span class="line">* soft nofile 300000</span><br><span class="line">* hard nofile 300000</span><br><span class="line">* soft nproc 102400</span><br><span class="line">* soft memlock unlimited</span><br><span class="line">* hard memlock unlimited</span><br></pre></td></tr></table></figure><p>Q3ï¼š<code>master_not_discovered_exception</code></p><p>ä¸»èŠ‚ç‚¹æŒ‡å®šçš„åå­—è¦ä¿è¯å­˜åœ¨ï¼Œåˆ«æŒ‡å®šäº†ä¸å­˜åœ¨çš„èŠ‚ç‚¹åã€‚</p><h2 id="Kibana"><a href="#Kibana" class="headerlink" title="Kibana"></a>Kibana</h2><p>å®˜æ–¹æ–‡æ¡£ <a href="https://www.elastic.co/guide/en/kibana/current/install.html" target="_blank" rel="noopener">Installing Kibana</a> ä¸­æä¾›äº†å¤šç§å®‰è£…åŒ…å¯¹åº”çš„æŒ‡å¯¼é“¾æ¥ï¼æœ¬æ–‡å°±å…ˆé€‰æ‹© <a href="https://www.elastic.co/guide/en/kibana/current/targz.html" target="_blank" rel="noopener">tar åŒ…</a>çš„æ–¹å¼å®‰è£…ã€‚</p><h3 id="ä¸‹è½½-Kibana-å®‰è£…åŒ…"><a href="#ä¸‹è½½-Kibana-å®‰è£…åŒ…" class="headerlink" title="ä¸‹è½½ Kibana å®‰è£…åŒ…"></a>ä¸‹è½½ Kibana å®‰è£…åŒ…</h3><p>åŒæ ·ï¼ŒKibana åœ¨æˆ‘å¸é•œåƒç«™ä¸Šä¹Ÿæœ‰å¯¹åº”çš„è½¯ä»¶åŒ…ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">https://mirrors.huaweicloud.com/kibana/7.3.0/</span><br><span class="line">wget https://mirrors.huaweicloud.com/kibana/7.3.0/kibana-7.3.0-linux-x86_64.tar.gz</span><br><span class="line">wget https://mirrors.huaweicloud.com/kibana/7.3.0/kibana-7.3.0-linux-x86_64.tar.gz.sha512</span><br><span class="line">shasum -a 512 -c elasticsearch-7.3.0-linux-x86_64.tar.gz.sha512</span><br><span class="line">tar xzf kibana-7.3.0-linux-x86_64.tar.gz</span><br><span class="line">chown -R michael kibana-7.3.0-linux-x86_64</span><br><span class="line">cd kibana-7.3.0-linux-x86_64</span><br></pre></td></tr></table></figure><h3 id="é…ç½®-Kibana"><a href="#é…ç½®-Kibana" class="headerlink" title="é…ç½® Kibana"></a>é…ç½® Kibana</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">egrep -v "^#|^$" config/kibana.yml # å¦‚ä¸‹å†…å®¹æ˜¯ä¿®æ”¹çš„é…ç½®</span><br><span class="line">server.port: 5601</span><br><span class="line">server.host: "0.0.0.0"</span><br><span class="line">elasticsearch.hosts: ["http://192.168.3.43:9200"]</span><br><span class="line">kibana.index: ".kibana"</span><br></pre></td></tr></table></figure><p>æ›´å¤šé…ç½®å†…å®¹ï¼Œå¯ä»¥é˜…è¯» <a href="https://www.elastic.co/guide/en/kibana/current/settings.html" target="_blank" rel="noopener">Configuring Kibana</a></p><h3 id="è¿è¡Œ-Kibana"><a href="#è¿è¡Œ-Kibana" class="headerlink" title="è¿è¡Œ Kibana"></a>è¿è¡Œ Kibana</h3><p>å¦‚ä¸‹æ–¹å¼å¯ä»¥å®ç°åå°è¿è¡Œï¼Œé¿å… Ctrl+C ç»ˆæ­¢äº†ç¨‹åºï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nohup bin/kibana &amp;</span><br></pre></td></tr></table></figure><p>è®¿é—®ï¼š<code>http://192.168.3.43:5601/</code></p><p>è¿™æ—¶å€™å¯ä»¥çœ‹åˆ°æˆ‘ä»¬ä¹‹å‰æ­å»ºçš„é›†ç¾¤èŠ‚ç‚¹äº†ï¼š</p><p><img src="https://gitee.com/michael_xiang/images/raw/master/Dg7DMe.png" alt="Kiana-ES"></p><h2 id="Filebeat-amp-amp-Logstash"><a href="#Filebeat-amp-amp-Logstash" class="headerlink" title="Filebeat &amp;&amp; Logstash"></a>Filebeat &amp;&amp; Logstash</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">https://mirrors.huaweicloud.com/filebeat/7.3.0/</span><br><span class="line">wget https://mirrors.huaweicloud.com/filebeat/7.3.0/filebeat-7.3.0-linux-x86_64.tar.gz</span><br><span class="line">wget https://mirrors.huaweicloud.com/filebeat/7.3.0/filebeat-7.3.0-linux-x86_64.tar.gz.sha512</span><br></pre></td></tr></table></figure><p>ç›®å‰é¡¹ç›®ä¸­æ˜¯é‡‡ç”¨çš„ç›´æ¥å¾€ Elasticsearch ä¸­å­˜å‚¨æ•°æ® + Kibana å±•ç¤ºæ•°æ®çš„æ–¹å¼ã€‚æ‰€ä»¥ï¼Œ<a href="https://www.elastic.co/cn/products/beats/filebeat" target="_blank" rel="noopener">Filebeat</a> å’Œ Logstash æš‚æ—¶æ²¡æ¥è§¦è¿‡ã€‚ä¸è¿‡ï¼Œåœ¨ B ç«™ä¸Šçœ‹åˆ°ä¸€ä½ UP ä¸»å‘äº†å¾ˆå¤šç›¸å…³çš„å­¦ä¹ æ•™ç¨‹ï¼Œå®‰åˆ©ä¸€ä¸‹ï¼š</p><ul><li><a href="https://www.bilibili.com/video/av23720863" target="_blank" rel="noopener">EP26 - å®‰è£…ä¸åˆå§‹åŒ–é…ç½®ELK 6</a></li><li><a href="https://ngx.hk/?s=elk" target="_blank" rel="noopener">ELKæœç´¢ç»“æœ</a> ä¸Šé¢è¿™ä½ UP ä¸»çš„åšå®¢</li></ul><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>æœ¬æ–‡æ˜¯é€šè¿‡ tar åŒ…æ–¹å¼å®‰è£…çš„ï¼Œå‘ç°ï¼Œè¿˜ä¸å¦‚ç”¨ RPM åŒ…æ¥çš„æ–¹ä¾¿ã€‚ä¸è¿‡é…ç½®çš„å†…å®¹å…¶å®å·®ä¸å¤šï¼ŒåŒºåˆ«å¯èƒ½å°±æ˜¯ï¼ŒRPM åŒ…æ–¹å¼ï¼Œå¯ä»¥ç›´æ¥ç”¨ systemctl çš„å‘½ä»¤æŸ¥çœ‹çŠ¶æ€ã€é‡å¯ç­‰ã€‚</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a href="https://www.jianshu.com/p/04f4d7b4a1d3" target="_blank" rel="noopener">ç¨‹åºç¾Š-CentOS7ä¸ŠElasticSearchå®‰è£…å¡«å‘è®°</a> FAQ æœ‰å¸®åŠ©</li><li><a href="https://time.geekbang.org/course/detail/197-102661" target="_blank" rel="noopener">æå®¢æ—¶é—´-Elasticsearchæ ¸å¿ƒæŠ€æœ¯ä¸å®æˆ˜</a> è¿™ç¯‡æ–‡ç« é˜è¿°äº† ES é›†ç¾¤çš„ä¸»èŠ‚ç‚¹çš„ä»²è£ç­‰çŸ¥è¯†</li><li><a href="https://jeremy-xu.oschina.io/2018/10/%E6%90%AD%E5%BB%BAelfk%E6%97%A5%E5%BF%97%E9%87%87%E9%9B%86%E7%B3%BB%E7%BB%9F/" target="_blank" rel="noopener">æ­å»ºELFKæ—¥å¿—é‡‡é›†ç³»ç»Ÿ</a></li><li><a href="https://cuiqingcai.com/6255.html" target="_blank" rel="noopener">é™è§…â€”Ubuntu æ­å»º Elasticsearch 6 é›†ç¾¤æµç¨‹</a></li><li><a href="https://www.ruanyifeng.com/blog/2017/08/elasticsearch.html" target="_blank" rel="noopener">é˜®ä¸€å³°-å…¨æ–‡æœç´¢å¼•æ“ Elasticsearch å…¥é—¨æ•™ç¨‹</a></li><li><a href="https://www.cnblogs.com/xishuai/p/elk-elasticsearch-kibana.html" target="_blank" rel="noopener">ELK æ¶æ„ä¹‹ Elasticsearch å’Œ Kibana å®‰è£…é…ç½®</a></li><li><a href="https://wsgzao.github.io/post/elk/" target="_blank" rel="noopener">ä½¿ç”¨ ELK(Elasticsearch + Logstash + Kibana) æ­å»ºæ—¥å¿—é›†ä¸­åˆ†æå¹³å°å®è·µ</a></li><li><a href="http://www.justdojava.com/2019/08/11/elk-install/" target="_blank" rel="noopener">æ‰‹æŠŠæ‰‹æ•™ä½ ï¼Œåœ¨CentOSä¸Šå®‰è£…ELKï¼Œè¿›è¡ŒæœåŠ¡å™¨æ—¥å¿—æ”¶é›†</a></li></ul><p>Filebeat</p><ul><li><a href="https://www.cnblogs.com/cjsblog/p/9445792.html" target="_blank" rel="noopener">åšå®¢å›­-å¼€å§‹ä½¿ç”¨Filebeat</a></li></ul><p>SpringBoot+ES</p><ul><li><a href="https://my.oschina.net/zhaixingzu/blog/3010467" target="_blank" rel="noopener">ã€ESã€‘Java High Level REST Client ä½¿ç”¨ç¤ºä¾‹ï¼ˆå¢åŠ ä¿®æ”¹ï¼‰</a></li><li><a href="https://www.jianshu.com/p/c1f2161a5d22" target="_blank" rel="noopener">Elasticsearch Java Rest Client ä¸Šæ‰‹æŒ‡å—ï¼ˆä¸Šï¼‰</a></li><li><a href="https://www.cnblogs.com/guozp/archive/2018/04/02/8686904.html" target="_blank" rel="noopener">åšå®¢å›­â€”â€”springboot elasticsearch é›†æˆæ³¨æ„äº‹é¡¹</a></li><li><a href="https://www.cnblogs.com/leeSmall/p/9218779.html" target="_blank" rel="noopener">lasticsearchç³»åˆ—ä¸ƒï¼šES Javaå®¢æˆ·ç«¯-Elasticsearch Java clientï¼ˆES Client ç®€ä»‹ã€Java REST Clientã€Java Clientã€Spring Data Elasticsearchï¼‰</a></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;ç®€ä»‹&quot;&gt;&lt;a href=&quot;#ç®€ä»‹&quot; class=&quot;headerlink&quot; title=&quot;ç®€ä»‹&quot;&gt;&lt;/a&gt;ç®€ä»‹&lt;/h2&gt;&lt;p&gt;&lt;img src=&quot;https://gitee.com/michael_xiang/images/raw/master/201909078-
      
    
    </summary>
    
      <category term="DevOps" scheme="https://michael728.github.io/categories/DevOps/"/>
    
    
      <category term="DevOps" scheme="https://michael728.github.io/tags/DevOps/"/>
    
      <category term="CICD" scheme="https://michael728.github.io/tags/CICD/"/>
    
      <category term="ELK" scheme="https://michael728.github.io/tags/ELK/"/>
    
  </entry>
  
  <entry>
    <title>Spring Boot å®æˆ˜ â€”â€” é€šè¿‡ Sentry æ”¶é›† Log4j2 å¼‚å¸¸æ—¥å¿—è®°å½•</title>
    <link href="https://michael728.github.io/2019/08/11/java-spring-boot-sentry-log4j2/"/>
    <id>https://michael728.github.io/2019/08/11/java-spring-boot-sentry-log4j2/</id>
    <published>2019-08-11T11:49:10.000Z</published>
    <updated>2020-01-05T15:47:56.120Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://gitee.com/michael_xiang/images/raw/master/xOgFTp.png" alt="Sentry-Robot"></p><h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>åœ¨æ—¥å¸¸çº¿ä¸Šè¿è¡Œçš„åº”ç”¨ä¸­å¦‚æœæŠ¥äº†å¼‚å¸¸ï¼Œæ€ä¹ˆåœ¨ç¬¬ä¸€æ—¶é—´æ”¶åˆ°æŠ¥é”™å‘Šè­¦å¹¶ä¸”æŸ¥çœ‹æŠ¥é”™æ—¥å¿—å‘¢ï¼Ÿå‘¨äº”å°±å› ä¸ºç¼ºä¹æŠ¥é”™æ—¥å¿—ï¼Œå¯¼è‡´æ„å»ºæœåŠ¡å—å½±å“è¶…è¿‡äº† 2 å°æ—¶ï¼Œè™½ç„¶ä¸è‡³äºã€Œæ­»äººã€ï¼Œä½†æ˜¯ä¹Ÿç¡®å®è®©æˆ‘æ„è¯†åˆ°æ—¥å¿—çš„é‡è¦æ€§ï¼åæ¥ä¸´æ—¶åœ¨ç›¸å…³çš„åœ°æ–¹åŠ ä¸Šæ—¥å¿—ï¼Œé€šè¿‡é”™è¯¯ä¿¡æ¯å¾ˆå¿«å®šä½äº†åˆ°äº†åŸå› ï¼ŒåŸæ¥æ˜¯æ•°æ®åº“è¢«è¿ç»´äººå‘˜åšäº†æ–°ç‰¹æ€§çš„æ”¹åŠ¨ï¼Œè€Œæˆ‘ä»¬æœåŠ¡è¿˜æœªé€‚é…å¥½ã€‚æƒ³æƒ³å½“æ—¶çš„åœºæ™¯ï¼Œè¿˜çœŸæ˜¯æœ‰ç‚¹ç´§å¼ ~å›§</p><p>ä»Šå¤©å°±å­¦ä¹ ä¸€ä¸‹åˆ©ç”¨ <a href="https://sentry.io/welcome/" target="_blank" rel="noopener">Sentry</a> ä½œä¸ºæ—¥å¿—æ”¶é›†ç³»ç»Ÿï¼Œç»“åˆä¹‹å‰å­¦ä¹ çš„ <a href="https://michael728.github.io/2019/08/17/java-spring-boot-log4j2/">log4j2</a> æ—¥å¿—è¾“å‡ºï¼Œä¸»åŠ¨æ”¶é›†å¼‚å¸¸æ—¥å¿—ã€‚</p><a id="more"></a><h2 id="Sentry"><a href="#Sentry" class="headerlink" title="Sentry"></a>Sentry</h2><p>æˆ‘ä»¬å…ˆæ¥ Sentry æ˜¯æ€ä¹ˆä»‹ç»è‡ªå·±çš„ï¼š</p><blockquote><p>Open-source error tracking that helps developers monitor and fix crashes in real time. Iterate continuously. Boost efficiency. Improve user experience</p></blockquote><p>å¤§ä½“æ„æ€å°±æ˜¯ï¼šSentry æ˜¯ä¸€æ¬¾å¼€æºçš„é”™è¯¯è·Ÿè¸ªç³»ç»Ÿï¼Œå¯å¸®åŠ©å¼€å‘äººå‘˜å®æ—¶ç›‘æ§å’Œä¿®å¤å´©æºƒã€‚å®ƒæ˜¯ä¸æ–­è¿­ä»£çš„ï¼Œæé«˜æ•ˆç‡ï¼Œæ”¹å–„ç”¨æˆ·ä½“éªŒã€‚Sentry æœ¬èº«çš„æ–‡æ¡£ä¹Ÿè®°è½½çš„æ¯”è¾ƒå…¨é¢ï¼Œå¼ºçƒˆå®‰åˆ©ï¼Œä¸€èˆ¬é—®é¢˜å¯ä»¥é€šè¿‡é˜…è¯» <a href="https://docs.sentry.io/" target="_blank" rel="noopener">Doc</a> å­¦ä¹ æˆ–è€…<a href="https://forum.sentry.io/" target="_blank" rel="noopener">è®ºå›å’¨è¯¢</a>ã€‚</p><p>OKï¼Œä¸‹é¢æˆ‘ä»¬å°±å¼€å§‹é€šè¿‡ Docker å®‰è£… Sentryã€‚</p><p>PSï¼šå¦‚æœä½ çš„ Docker ç¯å¢ƒè¿˜æœªé…ç½®å¥½ï¼Œå¯ä»¥é˜…è¯»æˆ‘ä¹‹å‰çš„æ€»ç»“ï¼š<a href="https://michael728.github.io/2019/06/01/docker-centos-install/">Linuxâ€”â€”CentOS å®‰è£… Docker æ•™ç¨‹</a></p><h3 id="å‰æ"><a href="#å‰æ" class="headerlink" title="å‰æ"></a>å‰æ</h3><p>åœ¨ <a href="https://docs.sentry.io/server/installation/" target="_blank" rel="noopener">Sentry Installation é¡µé¢</a>ï¼Œå®˜æ–¹åšäº†æ€»ç»“ï¼ŒSentry éœ€è¦å’Œå‡ ä¸ªæœåŠ¡æœ‰äº¤äº’ï¼š</p><ul><li><a href="http://www.postgresql.org/" target="_blank" rel="noopener">PostgreSQL</a>ï¼šDocker image <a href="https://hub.docker.com/_/postgres/" target="_blank" rel="noopener">postgres:9.5</a>ï¼Œè¿™é‡Œæ˜ç¡®ç‰ˆæœ¬æ˜¯ 9.5ï¼Œæˆ‘è§‰å¾—éå¸¸æ£’ï¼è¿™ä¿è¯äº†åœ¨æœªæ¥éƒ¨ç½²çš„å¯é‡ç°ï¼Œé¿å…äº†ä¸åŒç‰ˆæœ¬å·®å¼‚é€ æˆéƒ¨ç½²å¤±è´¥çš„é—®é¢˜ã€‚</li><li><a href="https://redis.io/" target="_blank" rel="noopener">Redis</a><ul><li>å®˜æ–¹è¯´å¦‚æœä½ ä½¿ç”¨çš„ Ubuntu &lt; 15.04ï¼Œæ¨èå®‰è£… <a href="https://launchpad.net/~chris-lea/+archive/ubuntu/redis-server" target="_blank" rel="noopener">chirs-lea/redis-server</a></li><li>æ–‡æ¡£æ¨èçš„æ˜¯ Docker image <a href="https://hub.docker.com/_/redis/" target="_blank" rel="noopener">redis:3.2-alpine</a>.</li></ul></li></ul><p>ç¡¬ä»¶è¦æ±‚ï¼Œå…·ä½“çš„å¯ä»¥é˜…è¯»<a href="https://docs.sentry.io/server/installation/#hardware" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a>ï¼Œæˆ‘è¿™é‡Œä»…ä»…æ˜¯å®¶é‡Œæµ‹è¯•ä½¿ç”¨ï¼Œå› æ­¤æ— æ‰€è°“ã€‚</p><p>ä¸‹é¢çš„æ­¥éª¤å…¶å®æ˜¯å®˜æ–¹æ–‡æ¡£çš„ç¿»è¯‘ï¼Œä½†æ˜¯ï¼Œè·Ÿç€èµ°äº†ä¸€éä¹‹åå‘ç°ï¼ŒæœåŠ¡å¹¶ä¸èƒ½æ­£å¸¸è¿è¡Œèµ·æ¥ï¼Œä½†æ˜¯ä¹Ÿæ²¡å•¥åå¤„ï¼Œä¸»è¦æ­¥éª¤å…¶å®å°±å’Œè¿™ä¸ªå·®ä¸å¤šï¼Œå¯èƒ½æ˜¯æŸäº›ç»†èŠ‚æ¼äº†ï¼Œå› æ­¤ï¼Œä½ å¯ä»¥å¤§ä½“æµè§ˆä¸€ä¸‹æ­¥éª¤ã€‚å¦‚æœä¸æƒ³æµªè´¹æ—¶é—´ï¼Œå¯ä»¥ç›´æ¥è·³åˆ°ä¸‹é¢çš„ ã€Œè„šæœ¬ä¸€é”®å®‰è£… Sentryã€å°èŠ‚ã€‚</p><h3 id="åˆ›å»ºå®¹å™¨"><a href="#åˆ›å»ºå®¹å™¨" class="headerlink" title="åˆ›å»ºå®¹å™¨"></a>åˆ›å»ºå®¹å™¨</h3><p>éœ€è¦ <a href="https://www.docker.com/get-started" target="_blank" rel="noopener">Docker ç‰ˆæœ¬ 1.10+</a></p><p>å…‹éš†ä»“åº“ <a href="https://github.com/getsentry/onpremise" target="_blank" rel="noopener">getsentry/onpremise</a>ã€‚è¿™ä¸ªä»“åº“æ˜¯å®šåˆ¶åŒ–æ„å»ºä½ è‡ªå·± Sentry é•œåƒçš„åŸºç¡€ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd /data</span><br><span class="line">git clone https://github.com/getsentry/onpremise.git</span><br><span class="line">cd onpremise</span><br></pre></td></tr></table></figure><p>ä»“åº“é‡Œçš„ <code>sentry.conf.py and config.yml</code> å¯ä¾›ä½  <a href="https://docs.sentry.io/server/config/" target="_blank" rel="noopener">é…ç½® Sentry</a> æ‰€ç”¨ï¼Œå»ºè®®å…ˆæµè§ˆä¸€ä¸‹è¿™ä¸ªé…ç½®æ–‡æ¡£ã€‚</p><p>ç°åœ¨å¼€å§‹æ„å»ºæˆ‘ä»¬å®šåˆ¶å¥½çš„é•œåƒã€‚å¦‚æœä½ æ„å»ºçš„é•œåƒéœ€è¦æ¨é€åˆ°ä½ æœ¬åœ°çš„é•œåƒä»“ä¸­ï¼Œé‚£ä¹ˆå¯ä»¥ç”¨å¦‚ä¸‹æ–¹å¼å…ˆå®šä¹‰å¥½é•œåƒåå†æ„å»ºï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">REPOSITORY=registry.michael.com/sentry make build push</span><br></pre></td></tr></table></figure><p>æˆ‘æœ¬åœ°æ²¡æœ‰é•œåƒä»“ï¼Œåªéœ€è¦ç”¨å¦‚ä¸‹æ–¹å¼æ„å»ºå³å¯ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make build</span><br></pre></td></tr></table></figure><h3 id="è¿è¡Œä¾èµ–çš„æœåŠ¡"><a href="#è¿è¡Œä¾èµ–çš„æœåŠ¡" class="headerlink" title="è¿è¡Œä¾èµ–çš„æœåŠ¡"></a>è¿è¡Œä¾èµ–çš„æœåŠ¡</h3><p>Redis:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">docker run \</span><br><span class="line">  --detach \</span><br><span class="line">  --name sentry-redis \</span><br><span class="line">  redis:3.2-alpine</span><br></pre></td></tr></table></figure><p>PostgreSQL:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">docker run \</span><br><span class="line">  --detach \</span><br><span class="line">  --name sentry-postgres \</span><br><span class="line">  --env POSTGRES_PASSWORD=secret \</span><br><span class="line">  --env POSTGRES_USER=sentry \</span><br><span class="line">  postgres:9.5</span><br></pre></td></tr></table></figure><p>Outbound Email:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">docker run \</span><br><span class="line">  --detach \</span><br><span class="line">  --name sentry-smtp \</span><br><span class="line">  tianon/exim4</span><br></pre></td></tr></table></figure><h3 id="è¿è¡Œ-Sentry-æœåŠ¡"><a href="#è¿è¡Œ-Sentry-æœåŠ¡" class="headerlink" title="è¿è¡Œ Sentry æœåŠ¡"></a>è¿è¡Œ Sentry æœåŠ¡</h3><p><code>${REPOSITORY}</code> åªçš„æ˜¯ä½ åˆšåˆšå®šä¹‰çš„é•œåƒåï¼Œå¦‚æœæ²¡æœ‰ï¼Œé»˜è®¤æ˜¯ <code>sentry-onpremise</code>ã€‚</p><p><img src="https://gitee.com/michael_xiang/images/raw/master/cTlup8.png" alt="REPOSITORY"></p><p>ä¸ºäº†æµ‹è¯•é•œåƒæ˜¯ OK çš„ï¼Œå¯ä»¥è¿è¡Œå¦‚ä¸‹å‘½ä»¤:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker run \</span><br><span class="line">  --rm $&#123;REPOSITORY&#125; \</span><br><span class="line">  --help</span><br></pre></td></tr></table></figure><p>ç°åœ¨å¯ä»¥ç”Ÿæˆä¸€ä¸ª <code>secret-key</code> å€¼ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker run \</span><br><span class="line">  --rm $&#123;REPOSITORY&#125; \</span><br><span class="line">  config generate-secret-key</span><br></pre></td></tr></table></figure><p>ç”Ÿæˆçš„å€¼å¯ä»¥åœ¨ <code>config.yml</code> ä¸­è®¾ç½®ç»™ <code>system.secret-key</code>,æˆ–è€…é€šè¿‡ç¯å¢ƒå˜é‡ã€‚å¦‚æœæ˜¯è®¾ç½®åœ¨ <code>config.yml</code> æ–‡ä»¶ä¸­ï¼Œè¿™æ—¶å€™ä½ å¿…é¡»é‡æ–°æ„å»ºä½ çš„é•œåƒã€‚</p><p>è¿è¡Œçš„åŸºæœ¬å‘½ä»¤ä¸¾ä¾‹å¦‚ä¸‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">docker run \</span><br><span class="line">  --detach \</span><br><span class="line">  --link sentry-redis:redis \</span><br><span class="line">  --link sentry-postgres:postgres \</span><br><span class="line">  --link sentry-smtp:smtp \</span><br><span class="line">  --env SENTRY_SECRET_KEY='&lt;secret-key&gt;' \</span><br><span class="line"><span class="meta">  $</span>&#123;REPOSITORY&#125; \</span><br><span class="line">  &lt;command&gt;</span><br></pre></td></tr></table></figure><div class="note warning">            <p>å®˜æ–¹æ–‡æ¡£é‡Œæœ‰ä¸€è¡Œå°å­—ï¼Œè¯´æ˜çš„æ˜¯åé¢çš„æ–‡æ¡£ï¼Œä¸ä¼šç‰¹åœ°çš„å†™ä¸Š â€“link å»è¡¨ç¤ºé“¾æ¥å®¹å™¨ï¼Œä½†æ˜¯è¿™äº›éƒ½æ˜¯å¿…é¡»çš„ï¼åŒæ—¶ï¼Œ${REPOSITORY} ä¼šè¢«å¼•ç”¨ä¸º sentry-onpremiseã€‚</p>          </div><h4 id="è¿è¡Œ-Web-æœåŠ¡"><a href="#è¿è¡Œ-Web-æœåŠ¡" class="headerlink" title="è¿è¡Œ Web æœåŠ¡"></a>è¿è¡Œ Web æœåŠ¡</h4><p>æš´éœ²çš„æ˜¯ 9000 çš„ç«¯å£ï¼Œè¿™æ ·éƒ¨ç½²ä¹‹åï¼Œå¯ä»¥é€šè¿‡ <code>http://localhost:9000/</code> è®¿é—®ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">docker run \</span><br><span class="line">  --detach \</span><br><span class="line">  --link sentry-redis:redis \</span><br><span class="line">  --link sentry-postgres:postgres \</span><br><span class="line">  --link sentry-smtp:smtp \</span><br><span class="line">  --name sentry-web \</span><br><span class="line">  --publish 9000:9000 \</span><br><span class="line">  --env SENTRY_SECRET_KEY=$&#123;SENTRY_SECRET_KEY&#125; \</span><br><span class="line">  sentry-onpremise \</span><br><span class="line">  run web</span><br></pre></td></tr></table></figure><h3 id="è„šæœ¬ä¸€é”®å®‰è£…-Sentry"><a href="#è„šæœ¬ä¸€é”®å®‰è£…-Sentry" class="headerlink" title="è„šæœ¬ä¸€é”®å®‰è£… Sentry"></a>è„šæœ¬ä¸€é”®å®‰è£… Sentry</h3><p>å‘ç°äº† <a href="https://github.com/getsentry/onpremise/blob/master/install.sh" target="_blank" rel="noopener">getsentry/onpremise/install.sh</a> è¿™ä¸ªè„šæœ¬ï¼Œçœ‹æ‡‚è¿™ä¸ªè„šæœ¬é‡Œçš„å†…å®¹åŸºæœ¬ä¸Šå°±å·®ä¸å¤šçŸ¥é“å®‰è£…æ­¥éª¤äº†ã€‚</p><p>è¯»ä¸€ä¸‹è„šæœ¬ï¼š</p><ul><li><code>LATEST_STABLE_SENTRY_IMAGE=&#39;sentry:9.1.2&#39;</code> å®‰è£…çš„æ˜¯ <code>sentry:9.1.2</code></li><li>åœ¨ <code>docker-compose.yml</code> ä¸­ä¼šå»åˆ›å»ºä¸¤ä¸ªå·ï¼Œåˆ†åˆ«æ˜¯ <code>sentry-data</code>å’Œ <code>sentry-postgres</code>ï¼Œè¿™å’Œä¸Šé¢æ­¥éª¤æ˜¯ä¸æ˜¯å‘ç°åŒºåˆ«äº†ï¼Œä¸Šé¢åˆ›å»º<br><code>postgres</code> æ—¶ï¼Œå¯æ²¡æœ‰åˆ›å»ºå·ï¼›</li><li><code>cp -n .env.example &quot;$ENV_FILE&quot;</code> ä¼šå°†ä»“åº“ä¸‹çš„ <a href="https://github.com/getsentry/onpremise/blob/master/.env.example" target="_blank" rel="noopener">.env.example</a> æ–‡ä»¶é‡å‘½åä¸º <code>.env</code> æ–‡ä»¶ï¼Œå…¶å®é‡Œé¢å°±æ˜¯ä¸ºäº†è®¾ç½®ä¸€ä¸ªç¯å¢ƒå˜é‡ <code>SENTRY_SECRET_KEY</code></li><li><code>export SENTRY_IMAGE=$LATEST_STABLE_SENTRY_IMAGE</code> å‘½åäº†ä¸€ä¸ªç¯å¢ƒå˜é‡ï¼Œè®°å½•äº†é•œåƒå</li><li><code>docker-compose build</code> å¼€å§‹æ„å»ºé•œåƒå•¦ï¼Œå…¶å®å°±æ˜¯ç±»ä¼¼è¿™ä¸ªå‘½ä»¤ <code>docker build .</code></li><li><code>SECRET_KEY=$(docker-compose run --rm web config generate-secret-key 2&gt; /dev/null | tail -n1 | sed -e &#39;s/[\/&amp;]/\\&amp;/g&#39;)</code> è¿è¡Œå‘½ä»¤è·å¾— <code>secret-key</code> å€¼ï¼Œèµ‹å€¼ç»™äº†å˜é‡ <code>SECRET_KEY</code></li><li><code>sed -i -e &#39;s/^SENTRY_SECRET_KEY=.*$/SENTRY_SECRET_KEY=&#39;&quot;$SECRET_KEY&quot;&#39;/&#39; $ENV_FILE</code> å°† <code>SECRET_KEY</code> å˜é‡å€¼å¡«å†™åˆ°ç¯å¢ƒå˜é‡æ–‡ä»¶ <code>.env</code> ä¸­</li><li>æ¥ç€å°±æ˜¯è®¾ç½®æ•°æ®åº“çš„æ­¥éª¤ï¼Œè¿™å…¶å®æ˜¯å°±æ˜¯ä¸ºäº†åœ¨æ•°æ®åº“ä¸­æ·»åŠ è´¦å·æ•°æ®å’Œå…¶ä»–ä¸€äº›æ•°æ®è¡¨ç”Ÿæˆ</li><li>æœ€åå°±æ˜¯æ‰§è¡Œ <code>cleanup</code> å‡½æ•°</li></ul><p>æ‰§è¡Œè„šæœ¬ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæŠŠä¹‹å‰åˆ›å»ºçš„å‡ ä¸ªæœåŠ¡åˆ é™¤æ‰å§ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker stop sentry-smtp sentry-postgres sentry-redis</span><br><span class="line">docker rm $(docker ps -aq)</span><br></pre></td></tr></table></figure><h4 id="é…ç½®é‚®ç®±"><a href="#é…ç½®é‚®ç®±" class="headerlink" title="é…ç½®é‚®ç®±"></a>é…ç½®é‚®ç®±</h4><p>é€šè¿‡ä¸Šé¢çš„é˜…è¯»ï¼Œå¯ä»¥å‘ç°ï¼Œè¿è¡Œè„šæœ¬æ—¶ï¼Œä¼šå»æ‰§è¡Œ <code>docker build .</code>ï¼Œè¿™ä¸ªä¼šå°†é…ç½®æ–‡ä»¶ <code>config.yml</code> å’Œç¯å¢ƒå˜é‡ <code>.env</code> æ”¾å…¥é•œåƒçš„ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ç”¨å‘ç”Ÿå¼‚å¸¸æ—¶è·å–é‚®ç®±å‘Šè­¦çš„åŠŸèƒ½ï¼Œéœ€è¦ç°åœ¨é…ç½®æ–‡ä»¶ä¸­è®¾ç½®å¥½é‚®ç®±é…ç½®ã€‚</p><p>è¿™é‡Œæˆ‘ä»¬é€‰æ‹©åœ¨ <code>.env</code> ä¸­é…ç½®å¥½ç¯å¢ƒå˜é‡ï¼Œå®ç°é‚®ç®±çš„é…ç½®ï¼š<br>é…ç½® <code>config.yml</code>:</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">SENTRY_SECRET_KEY=)g=lkl1)uugx236%#)mq2o34^@a&amp;g3q85q**co*hbapm5y1*bs</span></span><br><span class="line"><span class="comment"># é‚®ç®±è®¾ç½®</span></span><br><span class="line"><span class="string">SENTRY_EMAIL_HOST=smtp.qq.com</span></span><br><span class="line"><span class="string">SENTRY_EMAIL_USER=649168982@qq.com</span></span><br><span class="line"><span class="string">SENTRY_SERVER_EMAIL=649168982@qq.com</span></span><br><span class="line"><span class="comment"># è¿™é‡ŒæŒ‡çš„æ˜¯é‚®ç®±çš„æˆæƒç ï¼Œè€Œéå¯†ç </span></span><br><span class="line"><span class="string">SENTRY_EMAIL_PASSWORD=xxxx</span></span><br><span class="line"><span class="string">SENTRY_EMAIL_USE_TLS=true</span></span><br><span class="line"><span class="string">SENTRY_EMAIL_PORT=587</span></span><br></pre></td></tr></table></figure><ul><li>ç½‘ä¸Šçš„æ•™ç¨‹ï¼Œå¤§å¤šæ•°æ˜¯ <code>SENTRY_EMAIL_HOST: &#39;smtp.exmail.qq.com&#39;</code>,è¿™ä¸ªæ˜¯ä¼ä¸šé‚®ç®±ï¼Œæˆ‘ä»¬ä¸ªäººçš„ä¸è¿™ä¹ˆè®¾ç½®ã€‚</li><li><code>SENTRY_EMAIL_USER</code> å’Œ <code>SENTRY_SERVER_EMAIL</code> è¦ä¿æŒä¸€è‡´ï¼›</li></ul><p>è¿™é‡Œæˆ‘è®¾ç½® 1 åˆ†é’Ÿï¼Œå°±èƒ½åŠæ—¶æ”¶åˆ°é‚®ç®±ï¼Œä½†æ˜¯è®¾ç½® 5 åˆ†é’Ÿï¼Œç­‰äº† 5 åˆ†é’Ÿï¼Œä¹Ÿæ²¡æ”¶åˆ°ï¼Œä¸çŸ¥é“æ˜¯ä½•åŸå› ï¼š</p><p><img src="https://gitee.com/michael_xiang/images/raw/master/igfeN5.png" alt="Project-Alerts"></p><p><img src="https://gitee.com/michael_xiang/images/raw/master/B625Ca.png" alt="Alerts"></p><p>ç»è¿‡ä¸Šé¢çš„è®¾ç½®ï¼Œå¯ä»¥è¯•è¯•é‚®ç®±å‘é€åŠŸèƒ½æ˜¯å¦ OKï¼šç‚¹å‡»å·¦ä¸Šè§’å¤´åƒï¼Œé€‰æ‹© <code>Admin</code>-ã€‹<code>Mail</code>-ã€‹<code>æµ‹è¯•è®¾ç½®</code></p><p><img src="https://gitee.com/michael_xiang/images/raw/master/80Ncez.png" alt="é‚®ç®±æµ‹è¯•"></p><h4 id="éƒ¨ç½²-sentry"><a href="#éƒ¨ç½²-sentry" class="headerlink" title="éƒ¨ç½² sentry"></a>éƒ¨ç½² sentry</h4><p>ä¸‹é¢å¼€å§‹å®‰è£…æ­¥éª¤ï¼š</p><ul><li><code>sh install.sh</code> æ‰§è¡Œå®‰è£…è„šæœ¬ï¼Œè„šæœ¬æ‰§è¡Œå®Œéœ€è¦ä¸€ç‚¹æ—¶é—´ï¼Œè¿è¡Œå®Œæˆä¹‹åï¼Œä¼šé€€å‡ºã€‚ä¸­é—´è¿‡ç¨‹ä¼šè®©ä½ é€‰æ‹©æ˜¯å¦åˆ›å»ºè´¦å·ï¼š</li></ul><p><img src="https://gitee.com/michael_xiang/images/raw/master/XoQY9F.png" alt="æ·»åŠ è´¦å·"></p><ul><li>æ¥ç€è¿è¡Œ <code>docker-compose up -d</code> å³å¯ï¼›</li></ul><p><img src="https://gitee.com/michael_xiang/images/raw/master/zoG6sw.png" alt="å®¹å™¨åˆ—è¡¨"></p><p>PSï¼šä¸ºä½•å®¹å™¨çš„åç§°æ˜¯éƒ½æ˜¯ <code>onpremise</code> å¼€å¤´çš„å‘¢ï¼Ÿ<a href="https://docs.docker.com/compose/reference/overview/" target="_blank" rel="noopener">å› ä¸ºä¸æŒ‡å®šåç§°æ—¶ï¼Œä¼šé»˜è®¤å–ç›®å½•åçš„</a>ã€‚</p><p>è¿™æ—¶å€™è¾“å…¥åˆšåˆšåˆ›å»ºçš„è´¦å·ç™»å½•ï¼š</p><p><img src="https://gitee.com/michael_xiang/images/raw/master/WWx2n1.png" alt="login"></p><h2 id="é…ç½®-Sentry"><a href="#é…ç½®-Sentry" class="headerlink" title="é…ç½® Sentry"></a>é…ç½® Sentry</h2><h3 id="åˆ›å»º-project"><a href="#åˆ›å»º-project" class="headerlink" title="åˆ›å»º project"></a>åˆ›å»º project</h3><p>é‚£æˆ‘ä¹‹å‰çš„ log4j2 çš„ demo ä½œä¸ºæ¼”ç¤ºï¼Œè¿™é‡Œé€‰æ‹©ä¸€ä¸ª Java é¡¹ç›®ï¼Œå¹¶ä¸”ï¼Œæˆ‘è¿˜åˆ›å»ºäº†ä¸€ä¸ªå« <code>spring-boot</code> çš„ Teamã€‚</p><p><img src="https://gitee.com/michael_xiang/images/raw/master/VEi8nF.png" alt="project"></p><h2 id="spring-boot-é¡¹ç›®é€‚é…"><a href="#spring-boot-é¡¹ç›®é€‚é…" class="headerlink" title="spring-boot é¡¹ç›®é€‚é…"></a>spring-boot é¡¹ç›®é€‚é…</h2><p><a href="https://docs.sentry.io/clients/java/" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£-Java</a> ç»™å‡ºäº†é€‚ç”¨äº Java é¡¹ç›®çš„å…¨é¢çš„é€‚é…æŒ‡å—ï¼Œå’±ä»¬ä½¿ç”¨çš„æ˜¯ <a href="https://docs.sentry.io/clients/java/integrations/#log4j-2x" target="_blank" rel="noopener">log4j2</a>ã€‚</p><h3 id="å¼•å…¥ä¾èµ–"><a href="#å¼•å…¥ä¾èµ–" class="headerlink" title="å¼•å…¥ä¾èµ–"></a>å¼•å…¥ä¾èµ–</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.sentry<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>sentry-log4j2<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.7.26<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="log4j2-xml-é…ç½®ä¿®æ”¹"><a href="#log4j2-xml-é…ç½®ä¿®æ”¹" class="headerlink" title="log4j2.xml é…ç½®ä¿®æ”¹"></a>log4j2.xml é…ç½®ä¿®æ”¹</h3><ul><li><code>configuration</code> ä¸­åŠ ä¸Š <code>packages=&quot;org.apache.logging.log4j.core,io.sentry.log4j2&quot;</code></li></ul><p>ä¸‹é¢ç¤ºä¾‹ä¸­çš„ <code>SentryAppender</code> è¡¨ç¤ºå‘é€ <code>warn</code> çº§åˆ«çš„æ—¥å¿—åˆ° Sentry Serverã€‚<code>ConsoleAppender</code> ä»…ä»…è¡¨ç¤ºæ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼Œè¡¨ç¤ºä½ é¡¹ç›®ä¸­ä¹‹å‰ä½¿ç”¨çš„é sentryappener çš„ä¾‹å­ã€‚</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span> <span class="attr">status</span>=<span class="string">"warn"</span> <span class="attr">packages</span>=<span class="string">"org.apache.logging.log4j.core,io.sentry.log4j2"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">appenders</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Console</span> <span class="attr">name</span>=<span class="string">"Console"</span> <span class="attr">target</span>=<span class="string">"SYSTEM_OUT"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">PatternLayout</span> <span class="attr">pattern</span>=<span class="string">"%d&#123;HH:mm:ss.SSS&#125; [%t] %-5level %logger&#123;36&#125; - %msg%n"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">Console</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">Sentry</span> <span class="attr">name</span>=<span class="string">"Sentry"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">appenders</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">loggers</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">root</span> <span class="attr">level</span>=<span class="string">"INFO"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">"Console"</span> /&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- Note that the Sentry logging threshold is overridden to the WARN level --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">"Sentry"</span> <span class="attr">level</span>=<span class="string">"WARN"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">root</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">loggers</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ç»è¿‡æµ‹è¯•ï¼Œï¼Œå› ä¸ºåŸæœ‰é¡¹ç›®ä¸­çš„ apppender éƒ½æ˜¯ä¸ºäº†ä¹‹å‰çš„ä½œç”¨è®¾ç½®çš„ï¼Œæ¯”å¦‚æ§åˆ¶å°æ‰“å°ã€æ¯”å¦‚è¾“å‡ºåˆ°æ–‡ä»¶ã€‚è¦æƒ³å°†å¼‚å¸¸ä¿¡æ¯å‘é€åˆ° Sentryï¼Œè¿™é‡Œçš„<code>SentryAppender</code> æ˜¯å¿…ä¸å¯å°‘çš„ã€‚åˆ«å¿˜äº† <code>appender-ref</code> ä¹Ÿè¦è®¾ç½®ï¼</p><h3 id="é…ç½®-DSN"><a href="#é…ç½®-DSN" class="headerlink" title="é…ç½® DSN"></a>é…ç½® DSN</h3><p><a href="https://docs.sentry.io/clients/java/config/#configuration" target="_blank" rel="noopener">é…ç½®é¡µé¢</a> ä»‹ç»äº†å¦‚ä½•è®¾ç½® DSNï¼ˆData Source Nameï¼‰ã€‚</p><p> è¿›å…¥ Sentryï¼Œé¡¹ç›®çš„ DSN åœ¨é¡¹ç›®é¡µé¢-ã€‹setings-ã€‹Clinet Keys(DSN) ä¸­å¯ä»¥å‘ç°ï¼š</p><p><img src="https://gitee.com/michael_xiang/images/raw/master/dgVaSQ.png" alt="DSN"></p><p>é…ç½® DSN æœ‰å¥½å‡ ç§æ–¹å¼ï¼Œå…·ä½“çš„å¯ä»¥åœ¨é¡µé¢æŸ¥çœ‹ï¼Œè¿™é‡Œä»‹ç»æˆ‘é‡‡ç”¨çš„ï¼š</p><p>åœ¨ <code>resources</code> æ–‡ä»¶å¤¹ä¸‹ï¼Œæ–°å»º <code>sentry.properties</code>ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dsn=http://8d53042c89774e5dba599ee67c5c8804@192.168.3.43:9000/3</span><br></pre></td></tr></table></figure><div class="note warning">            <p>é»˜è®¤çš„å°±æ˜¯ <code>sentry.properties</code>ï¼Œä¸€å¼€å§‹æˆ‘ç›´æ¥å†™åœ¨äº† <code>application.properties</code> ä¸­ï¼ŒSentry æ€ä¹ˆä¹Ÿæ”¶ä¸åˆ°å¼‚å¸¸æ—¥å¿—ã€‚</p>          </div><h3 id="ä»£ç ä¸­"><a href="#ä»£ç ä¸­" class="headerlink" title="ä»£ç ä¸­"></a>ä»£ç ä¸­</h3><p>ä»£ç ç¤ºä¾‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.apache.logging.log4j.LogManager;</span><br><span class="line"><span class="keyword">import</span> org.apache.logging.log4j.Logger;</span><br><span class="line"><span class="keyword">import</span> org.apache.logging.log4j.Marker;</span><br><span class="line"><span class="keyword">import</span> org.apache.logging.log4j.MarkerManager;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyClass</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Logger logger = LogManager.getLogger(MyClass.class);</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Marker MARKER = MarkerManager.getMarker(<span class="string">"myMarker"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">logSimpleMessage</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// This sends a simple event to Sentry</span></span><br><span class="line">        logger.error(<span class="string">"This is a test"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">logWithBreadcrumbs</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// Record a breadcrumb that will be sent with the next event(s),</span></span><br><span class="line">        <span class="comment">// by default the last 100 breadcrumbs are kept.</span></span><br><span class="line">        Sentry.record(</span><br><span class="line">            <span class="keyword">new</span> BreadcrumbBuilder().setMessage(<span class="string">"User made an action"</span>).build()</span><br><span class="line">        );</span><br><span class="line"></span><br><span class="line">        <span class="comment">// This sends a simple event to Sentry</span></span><br><span class="line">        logger.error(<span class="string">"This is a test"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">logWithTag</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// This sends an event with a tag named 'log4j2-Marker' to Sentry</span></span><br><span class="line">        logger.error(MARKER, <span class="string">"This is a test"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">logWithExtras</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// MDC extras</span></span><br><span class="line">        ThreadContext.put(<span class="string">"extra_key"</span>, <span class="string">"extra_value"</span>);</span><br><span class="line">        <span class="comment">// NDC extras are sent under 'log4j2-NDC'</span></span><br><span class="line">        ThreadContext.push(<span class="string">"Extra_details"</span>);</span><br><span class="line">        <span class="comment">// This sends an event with extra data to Sentry</span></span><br><span class="line">        logger.error(<span class="string">"This is a test"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">logException</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            unsafeMethod();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            <span class="comment">// This sends an exception event to Sentry</span></span><br><span class="line">            logger.error(<span class="string">"Exception caught"</span>, e);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">unsafeMethod</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> UnsupportedOperationException(<span class="string">"You shouldn't call this!"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯ä»¥å‘ç°ï¼ŒSentry ä½¿ç”¨çš„æ¥å£å’Œä¹‹å‰ log4j2 æ˜¯æœ‰åŒºåˆ«çš„ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åŸæ¥</span></span><br><span class="line"><span class="keyword">import</span> org.slf4j.Logger;</span><br><span class="line"><span class="keyword">import</span> org.slf4j.LoggerFactory;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> Logger log = LoggerFactory.getLogger(<span class="keyword">this</span>.getClass());</span><br><span class="line"><span class="comment">// sentry</span></span><br><span class="line"><span class="keyword">import</span> org.apache.logging.log4j.LogManager;</span><br><span class="line"><span class="keyword">import</span> org.apache.logging.log4j.Logger;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> Logger log = LogManager.getLogger(<span class="keyword">this</span>.getClass());</span><br></pre></td></tr></table></figure><p>å®é™…è¿‡ç¨‹ä¸­ï¼Œè¿™é‡Œæ˜¯å¾ˆå¤šäººå¿½è§†çš„ï¼Œä¸€å®šè¦ä»”ç»†ä¸€ç‚¹ï¼</p><p>è¿™æ—¶å€™ï¼Œä½¿ç”¨æˆ‘ä»¬ä¹‹å‰çš„é”™è¯¯æ¥å£æ•…æ„æ‰“å°é”™è¯¯æ—¥å¿—ï¼Œçœ‹çœ‹ Sentry çš„æ•è·æ•ˆæœå§ï¼š</p><p><img src="https://gitee.com/michael_xiang/images/raw/master/HyqIlX.png" alt="error"></p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>ä»Šå¤©åœ¨ä¹‹å‰åŠ å…¥çš„ä¸€ä¸ªæŠ€æœ¯å¾®ä¿¡ç¾¤é‡Œï¼Œä¸€ä½åŒå­¦å‘äº†ä¸€ç¯‡æ€ä¹ˆæ­å»º Zabbix çš„æ–‡ç« ï¼Œè¢«ç¾¤ä¸»è¸¢äº†ã€‚åæ¥å¤§å®¶è®¨è®ºï¼Œè¿™ç§æ­å»ºçš„æ–‡ç« ï¼Œæ™®éè´¨é‡æ¯”è¾ƒä½ï¼Œæ²¡æœ‰å¤ªå¤šåˆ†äº«çš„æ„ä¹‰ï¼Œåº”è¯¥è¦æ›´å¤šçš„å…³æ³¨ä¸€äº›å‰è¨€çš„çŸ¥è¯†ã€æˆ–è€…åº•å±‚çš„åŸºç¡€çŸ¥è¯†ã€‚è¿™ç§è§‚ç‚¹æˆ‘æ˜¯æ¯”è¾ƒè®¤åŒçš„ï¼Œä½†æ˜¯è°ä¸æ˜¯ä¸€æ­¥ä¸€æ­¥æ…¢æ…¢æ¥çš„å‘¢ï¼Ÿ</p><p>ä»Šå¤©æ­å»º Sentry çš„è¿‡ç¨‹ï¼Œå¯¹ä¹‹å‰ docker-compose çš„ç”¨æ³•åˆæœ‰äº†è¿›ä¸€æ­¥çš„è®¤è¯†ï¼Œå­¦ä¹ åˆ°äº†ä½¿ç”¨ <code>.env</code> çš„æ–¹å¼è®¾ç½®å®¹å™¨å†…ç¯å¢ƒå˜é‡çš„æ–¹å¼ï¼ŒåŒæ—¶ï¼Œä¹Ÿå­¦ä¹ åˆ°äº†å¯ä»¥å…¬ç”¨ä¸€ç§é…ç½®ï¼Œè®© docker-compose æ–‡ä»¶å†…å¤šä¸ªæœåŠ¡å…¬ç”¨çš„æ–¹å¼ã€‚å…¶å®ï¼Œè‡ªå·±çš„æ¯ä¸€ç‚¹çš„æŠ˜è…¾ï¼Œéƒ½ä¼šæ˜¯åé¢çš„åŸºçŸ³ã€‚åªè¦æŒç»­ç§¯ç´¯ï¼Œæ‰ä¼šè¶Šèµ°è¶Šé¡ºï¼</p><h2 id="ç¤ºä¾‹ä»£ç "><a href="#ç¤ºä¾‹ä»£ç " class="headerlink" title="ç¤ºä¾‹ä»£ç "></a>ç¤ºä¾‹ä»£ç </h2><ul><li><a href="https://github.com/Michael728/awesome-spring-boot-examples/tree/master/spring-boot-log4j2" target="_blank" rel="noopener">awesome-spring-boot-examples/log4j2</a></li></ul><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a href="https://thinkhard.tech/2019/05/25/docker-sentry-deploy/" target="_blank" rel="noopener">ç¥å¥‡çš„å±•ç¤º-ç”¨ Docker éƒ¨ç½² Sentry Bug æ—¥å¿—æ”¶é›†æœåŠ¡</a></li><li><a href="https://juejin.im/post/5b226cbe51882574d02f9f62" target="_blank" rel="noopener">æ˜é‡‘-æ­å»ºç§æœ‰çš„å‰ç«¯ç›‘æ§æœåŠ¡: sentry</a></li><li><a href="https://www.baoguoxiao.com/2018/10/30/sentry-configuring-mail/" target="_blank" rel="noopener">sentryé…ç½®é‚®ä»¶</a></li><li><a href="https://segmentfault.com/q/1010000016563419" target="_blank" rel="noopener">è‡ªå»ºsentryåï¼Œé…ç½®äº†é‚®ä»¶æœåŠ¡ï¼Œä½†æ˜¯è¿˜æ˜¯æ”¶ä¸åˆ°éªŒè¯é‚®ä»¶ï¼Ÿ</a> è¿™ä¸ªé—®é¢˜æœ‰å‚è€ƒæ„ä¹‰ï¼Œè¿˜æ˜¯æ¨èé€šè¿‡ç¯å¢ƒå˜é‡çš„æ–¹å¼è€Œä¸æ˜¯ <code>config.yml</code> é…ç½®é‚®ç®±</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://gitee.com/michael_xiang/images/raw/master/xOgFTp.png&quot; alt=&quot;Sentry-Robot&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;èƒŒæ™¯&quot;&gt;&lt;a href=&quot;#èƒŒæ™¯&quot; class=&quot;headerlink&quot; title=&quot;èƒŒæ™¯&quot;&gt;&lt;/a&gt;èƒŒæ™¯&lt;/h2&gt;&lt;p&gt;åœ¨æ—¥å¸¸çº¿ä¸Šè¿è¡Œçš„åº”ç”¨ä¸­å¦‚æœæŠ¥äº†å¼‚å¸¸ï¼Œæ€ä¹ˆåœ¨ç¬¬ä¸€æ—¶é—´æ”¶åˆ°æŠ¥é”™å‘Šè­¦å¹¶ä¸”æŸ¥çœ‹æŠ¥é”™æ—¥å¿—å‘¢ï¼Ÿå‘¨äº”å°±å› ä¸ºç¼ºä¹æŠ¥é”™æ—¥å¿—ï¼Œå¯¼è‡´æ„å»ºæœåŠ¡å—å½±å“è¶…è¿‡äº† 2 å°æ—¶ï¼Œè™½ç„¶ä¸è‡³äºã€Œæ­»äººã€ï¼Œä½†æ˜¯ä¹Ÿç¡®å®è®©æˆ‘æ„è¯†åˆ°æ—¥å¿—çš„é‡è¦æ€§ï¼åæ¥ä¸´æ—¶åœ¨ç›¸å…³çš„åœ°æ–¹åŠ ä¸Šæ—¥å¿—ï¼Œé€šè¿‡é”™è¯¯ä¿¡æ¯å¾ˆå¿«å®šä½äº†åˆ°äº†åŸå› ï¼ŒåŸæ¥æ˜¯æ•°æ®åº“è¢«è¿ç»´äººå‘˜åšäº†æ–°ç‰¹æ€§çš„æ”¹åŠ¨ï¼Œè€Œæˆ‘ä»¬æœåŠ¡è¿˜æœªé€‚é…å¥½ã€‚æƒ³æƒ³å½“æ—¶çš„åœºæ™¯ï¼Œè¿˜çœŸæ˜¯æœ‰ç‚¹ç´§å¼ ~å›§&lt;/p&gt;
&lt;p&gt;ä»Šå¤©å°±å­¦ä¹ ä¸€ä¸‹åˆ©ç”¨ &lt;a href=&quot;https://sentry.io/welcome/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Sentry&lt;/a&gt; ä½œä¸ºæ—¥å¿—æ”¶é›†ç³»ç»Ÿï¼Œç»“åˆä¹‹å‰å­¦ä¹ çš„ &lt;a href=&quot;https://michael728.github.io/2019/08/17/java-spring-boot-log4j2/&quot;&gt;log4j2&lt;/a&gt; æ—¥å¿—è¾“å‡ºï¼Œä¸»åŠ¨æ”¶é›†å¼‚å¸¸æ—¥å¿—ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="Java" scheme="https://michael728.github.io/categories/Java/"/>
    
    
      <category term="DevOps" scheme="https://michael728.github.io/tags/DevOps/"/>
    
      <category term="Java" scheme="https://michael728.github.io/tags/Java/"/>
    
      <category term="Spring Boot" scheme="https://michael728.github.io/tags/Spring-Boot/"/>
    
      <category term="æ—¥å¿—" scheme="https://michael728.github.io/tags/%E6%97%A5%E5%BF%97/"/>
    
  </entry>
  
  <entry>
    <title>Spring Boot å®æˆ˜ â€”â€” æ—¥å¿—æ¡†æ¶ Log4j2 SLF4J çš„å­¦ä¹ </title>
    <link href="https://michael728.github.io/2019/08/10/java-spring-boot-log4j2/"/>
    <id>https://michael728.github.io/2019/08/10/java-spring-boot-log4j2/</id>
    <published>2019-08-10T23:49:10.000Z</published>
    <updated>2020-01-05T15:47:56.120Z</updated>
    
    <content type="html"><![CDATA[<h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p><img src="https://gitee.com/michael_xiang/images/raw/master/joePal.png" alt="logging.apache"></p><p>Java ä¸­æ¯”è¾ƒå¸¸ç”¨çš„<a href="https://logging.apache.org/" target="_blank" rel="noopener">æ—¥å¿—æ¡†æ¶</a>ï¼š</p><ul><li>log4j(<code>Log for Java</code>)ï¼šApache çš„ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œä¸ƒç§æ—¥å¿—çº§åˆ«ï¼šOFFã€FATALã€ERRORã€WARNã€INFOã€DEBUGã€TRACE</li><li><a href="https://logback.qos.ch/" target="_blank" rel="noopener">logback</a>ï¼šæ˜¯ä¸€ä¸ªå¾ˆæˆç†Ÿçš„æ—¥å¿—æ¡†æ¶ï¼Œå…¶å® logBack å’Œ log4j å‡ºè‡ªä¸€ä¸ªäººä¹‹æ‰‹ï¼Œè¿™ä¸ªäººå°±æ˜¯ Ceki GÃ¼lcÃ¼ã€‚logback æ¯” log4j å¤§çº¦å¿« 10 å€ã€æ¶ˆè€—æ›´å°‘çš„å†…å­˜ï¼Œè¿ç§»æˆæœ¬ä¹Ÿå¾ˆä½ï¼Œè‡ªåŠ¨å‹ç¼©æ—¥å¿—ã€æ”¯æŒå¤šæ ·åŒ–é…ç½®ã€ä¸éœ€è¦é‡å¯å°±å¯ä»¥æ¢å¤ I/O å¼‚å¸¸ç­‰ä¼˜åŠ¿</li><li><a href="https://logging.apache.org/log4j/2.x/manual/index.html" target="_blank" rel="noopener">log4j2</a>ï¼šä½œè€…è®¤ä¸ºï¼Œlog4j2å·²ç»ä¸ä»…ä»…æ˜¯ log4j çš„ä¸€ä¸ªå‡çº§ç‰ˆæœ¬äº†ï¼Œè€Œæ˜¯ä»å¤´åˆ°å°¾è¢«é‡å†™çš„ï¼Œè¿™å¯ä»¥è®¤ä¸ºè¿™å…¶å®å°±æ˜¯å®Œå…¨ä¸åŒçš„ä¸¤ä¸ªæ¡†æ¶</li></ul><a id="more"></a><p>Spring Boot é»˜è®¤ä½¿ç”¨ logbackï¼Œä½†ç›¸æ¯”è¾ƒè€Œè¨€ï¼Œlog4j2 åœ¨æ€§èƒ½ä¸Šé¢ä¼šæ›´å¥½ã€‚SpringBoot é«˜ç‰ˆæœ¬éƒ½ä¸å†æ”¯æŒ log4jï¼Œè€Œæ˜¯æ”¯æŒ log4j2ã€‚log4j2ï¼Œåœ¨ä½¿ç”¨æ–¹é¢ä¸ log4j åŸºæœ¬ä¸Šæ²¡ä»€ä¹ˆåŒºåˆ«ï¼Œæ¯”è¾ƒå¤§çš„åŒºåˆ«æ˜¯ log4j2 ä¸å†æ”¯æŒ properties é…ç½®æ–‡ä»¶ï¼Œæ”¯æŒ xmlã€json æ ¼å¼çš„æ–‡ä»¶ã€‚</p><p>ã€Šé˜¿é‡Œå·´å·´Javaå¼€å‘æ‰‹å†Œã€‹ï¼Œå…¶ä¸­æœ‰ä¸€æ¡è§„èŒƒåšäº†ã€Œå¼ºåˆ¶ã€è¦æ±‚ï¼š</p><blockquote><p>åº”ç”¨ä¸­ä¸å¯ç›´æ¥ä½¿ç”¨æ—¥å¿—ç³»ç»Ÿï¼ˆLog4j Logbackï¼‰ä¸­çš„ APIï¼Œè€Œåº”ä¾èµ–ä½¿ç”¨æ—¥å¿—æ¡†æ¶ SLF4J ä¸­çš„ APIï¼Œä½¿ç”¨æ—¥å¿—é—¨é¢æ¨¡å¼çš„æ—¥å¿—æ¡†æ¶ï¼Œæœ‰åˆ©äºç»´æŠ¤å’Œå„ä¸ªç±»çš„æ—¥å¿—å¤„ç†æ–¹å¼ç»Ÿä¸€ã€‚</p></blockquote><p>Java ç®€æ˜“æ—¥å¿—é—¨é¢ï¼ˆ<code>Simple Logging Facade for Java</code>ï¼Œç¼©å†™ <a href="https://www.slf4j.org/" target="_blank" rel="noopener">SLF4J</a>ï¼‰ï¼Œå®ƒå¹¶ä¸æ˜¯çœŸæ­£çš„æ—¥å¿—æ¡†æ¶,ä»–æ˜¯å¯¹æ‰€æœ‰æ—¥å¿—æ¡†æ¶åˆ¶å®šçš„ä¸€ç§è§„èŒƒã€æ ‡å‡†ã€æ¥å£ï¼Œå¹¶ä¸æ˜¯ä¸€ä¸ªæ¡†æ¶çš„å…·ä½“çš„å®ç°ï¼Œå› ä¸ºæ¥å£å¹¶ä¸èƒ½ç‹¬ç«‹ä½¿ç”¨ï¼Œéœ€è¦å’Œå…·ä½“çš„æ—¥å¿—æ¡†æ¶å®ç°é…åˆä½¿ç”¨ã€‚å¯ä»¥åœ¨è½¯ä»¶éƒ¨ç½²çš„æ—¶å€™å†³å®šè¦ä½¿ç”¨çš„ Logging æ¡†æ¶ï¼Œç›®å‰ä¸»è¦æ”¯æ´çš„æœ‰ Java logging APIã€log4j åŠ logback ç­‰æ¡†æ¶ã€‚</p><h2 id="ç†è§£-SLF4J"><a href="#ç†è§£-SLF4J" class="headerlink" title="ç†è§£ SLF4J"></a>ç†è§£ SLF4J</h2><p>æ¥å£ç”¨äºå®šåˆ¶è§„èŒƒï¼Œå¯ä»¥æœ‰å¤šä¸ªå®ç°ï¼Œä½¿ç”¨æ—¶æ˜¯é¢å‘æ¥å£çš„(å¯¼å…¥çš„åŒ…éƒ½æ˜¯ slf4j çš„åŒ…è€Œä¸æ˜¯å…·ä½“æŸä¸ªæ—¥å¿—æ¡†æ¶ä¸­çš„åŒ…)ï¼Œå³ç›´æ¥å’Œæ¥å£äº¤äº’ï¼Œä¸ç›´æ¥ä½¿ç”¨å®ç°ï¼Œæ‰€ä»¥å¯ä»¥ä»»æ„çš„æ›´æ¢å®ç°è€Œä¸ç”¨æ›´æ”¹ä»£ç ä¸­çš„æ—¥å¿—ç›¸å…³ä»£ç ã€‚</p><p>æ¯”å¦‚ï¼šslf4j å®šä¹‰äº†ä¸€å¥—æ—¥å¿—æ¥å£ï¼Œé¡¹ç›®ä¸­ä½¿ç”¨çš„æ—¥å¿—æ¡†æ¶æ˜¯logbackï¼Œå¼€å‘ä¸­è°ƒç”¨çš„æ‰€æœ‰æ¥å£éƒ½æ˜¯ slf4j çš„ï¼Œä¸ç›´æ¥ä½¿ç”¨ logbackï¼Œè°ƒç”¨æ˜¯ è‡ªå·±çš„å·¥ç¨‹è°ƒç”¨ slf4j çš„æ¥å£ï¼Œslf4j çš„æ¥å£å»è°ƒç”¨ logback çš„å®ç°ï¼Œå¯ä»¥çœ‹åˆ°æ•´ä¸ªè¿‡ç¨‹åº”ç”¨ç¨‹åºå¹¶æ²¡æœ‰ç›´æ¥ä½¿ç”¨ logbackï¼Œå½“é¡¹ç›®éœ€è¦æ›´æ¢æ›´åŠ ä¼˜ç§€çš„æ—¥å¿—æ¡†æ¶æ—¶(å¦‚log4j2)åªéœ€è¦å¼•å…¥ log4j2 çš„ jar å’Œ Llg4j2 å¯¹åº”çš„é…ç½®æ–‡ä»¶å³å¯ï¼Œå®Œå…¨ä¸ç”¨æ›´æ”¹ Java ä»£ç ä¸­çš„æ—¥å¿—ç›¸å…³çš„ä»£ç  <code>logger.info(â€œxxxâ€)</code>ï¼Œä¹Ÿä¸ç”¨ä¿®æ”¹æ—¥å¿—ç›¸å…³çš„ç±»çš„å¯¼å…¥çš„åŒ…( <code>import org.slf4j.Logger; import org.slf4j.LoggerFactory;</code>)</p><p>æ€»ç»“ï¼šä½¿ç”¨æ—¥å¿—æ¥å£ä¾¿äºæ›´æ¢ä¸ºå…¶ä»–æ—¥å¿—æ¡†æ¶ã€‚</p><p>One More Thingï¼šä¸Šé¢çš„è¿™å‡ æ®µè¯æ˜¯å‚è€ƒæ–‡ç« ä¸­æˆªå–çš„ï¼Œä¹Ÿè®©æˆ‘ç¡®å®ç†è§£äº†ä¸ºä½•æ¨èä½¿ç”¨ SLF4J çš„åŸå› ã€‚è¿™ç§åšæ³•æ„Ÿè§‰å°±æ˜¯æœ‰ç‚¹ã€Œé¢å‘æ¥å£ç¼–ç¨‹ã€çš„æ€æƒ³ï¼Œä»Šå¤©ä¹ŸæŸ¥é˜…äº†ä¸€äº›è¿™æ–¹é¢çš„èµ„æ–™ï¼Œä¹Ÿè®©æˆ‘æƒ³èµ·äº†ä¸ºä½•é¡¹ç›®ä¸­å†™ Service ä»£ç æ—¶ï¼Œå¾€å¾€æ˜¯å…ˆå†™ä¸ªæ¥å£ã€ç„¶ååœ¨å†™ä¸ªè¯¥æ¥å£çš„å®ç°ç±»ã€‚å¾…æœ‰æ—¶é—´å¥½å¥½ç ”ç©¶ä¸€äº›è¿™å—çš„ä¼˜ç‚¹ï¼</p><h2 id="æ€§èƒ½åˆ†æ"><a href="#æ€§èƒ½åˆ†æ" class="headerlink" title="æ€§èƒ½åˆ†æ"></a>æ€§èƒ½åˆ†æ</h2><p><img src="https://gitee.com/michael_xiang/images/raw/master/AeAzbU.png" alt="è¯„æµ‹"></p><p><img src="https://gitee.com/michael_xiang/images/raw/master/5XDdYv.png" alt="è¯„æµ‹"></p><p>log4j2 çš„æ€§èƒ½å‡ ä¹æ˜¯ç¢¾å‹çš„ï¼Œä¼˜åŠ¿å¾ˆæ˜æ˜¾ã€‚æ›´å¤šå…³äºæ€§èƒ½çš„è¯„æµ‹ï¼Œåœ¨<a href="https://logging.apache.org/log4j/2.x/performance.html" target="_blank" rel="noopener">å®˜ç½‘</a>å¯ä»¥çœ‹åˆ°</p><h2 id="log4j2-ä¾èµ–"><a href="#log4j2-ä¾èµ–" class="headerlink" title="log4j2 ä¾èµ–"></a>log4j2 ä¾èµ–</h2><p>éœ€è¦åœ¨ pom æ–‡ä»¶ä¸­æ’é™¤é»˜è®¤çš„æ—¥å¿—æ¡†æ¶å¹¶å¼•å…¥ log4j2 ä¾èµ–ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependencies&gt;</span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;</span><br><span class="line">        &lt;!-- å»æ‰logbacké…ç½® --&gt;</span><br><span class="line">        &lt;exclusions&gt;</span><br><span class="line">            &lt;exclusion&gt;</span><br><span class="line">                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">                &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;</span><br><span class="line">            &lt;/exclusion&gt;</span><br><span class="line">        &lt;/exclusions&gt;</span><br><span class="line">    &lt;/dependency&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- å¼•å…¥log4j2ä¾èµ– --&gt;</span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">        &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;</span><br><span class="line">    &lt;/dependency&gt;</span><br><span class="line">&lt;/dependencies&gt;</span><br></pre></td></tr></table></figure><h2 id="log4j2-ä½¿ç”¨"><a href="#log4j2-ä½¿ç”¨" class="headerlink" title="log4j2 ä½¿ç”¨"></a>log4j2 ä½¿ç”¨</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">import org.slf4j.Logger;</span><br><span class="line">import org.slf4j.LoggerFactory;</span><br><span class="line"></span><br><span class="line">// è¿™äº†ä¸¤ç§å†™æ³•éƒ½ OKï¼Œæ¨èç¬¬ä¸€ç§ï¼Œä¸ç”¨æ¯æ¬¡éƒ½è¦ä¿®æ”¹ç±»å</span><br><span class="line">private static final Logger logger = LoggerFactory.getLogger(this.getClass());</span><br><span class="line">private static final Logger logger = LogManager.getLogger(UserController.class);</span><br><span class="line">//...</span><br><span class="line">logger.debug("this is debug");</span><br><span class="line">logger.info("this is info");</span><br></pre></td></tr></table></figure><h2 id="log4j2-æ—¥å¿—çº§åˆ«"><a href="#log4j2-æ—¥å¿—çº§åˆ«" class="headerlink" title="log4j2 æ—¥å¿—çº§åˆ«"></a>log4j2 æ—¥å¿—çº§åˆ«</h2><p>ä»å°åˆ°å¤§ä¾æ¬¡æ˜¯:<del>all</del>ã€traceã€debugã€infoã€warnã€errorã€<del>fatalã€off</del></p><p>ç”±äºæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯ slf4j æ¥å£åŒ…ï¼Œè¯¥æ¥å£åŒ…ä¸­åªæä¾›äº†æœªæ ‡æœ‰åˆ é™¤çº¿çš„æ—¥å¿—çº§åˆ«çš„è¾“å‡ºã€‚</p><h2 id="log4j2-é…ç½®æ–‡ä»¶ç»“æ„"><a href="#log4j2-é…ç½®æ–‡ä»¶ç»“æ„" class="headerlink" title="log4j2 é…ç½®æ–‡ä»¶ç»“æ„"></a>log4j2 é…ç½®æ–‡ä»¶ç»“æ„</h2><p>é…ç½®æ–‡ä»¶çš„ä¸»è¦ç»“æ„å¦‚ä¸‹ï¼š</p><ul><li>Appenders:<ul><li>Appender<ul><li>Filter</li><li>Layout</li><li>Policies</li><li>Strategy</li></ul></li></ul></li><li>Loggers<ul><li>Logger</li><li>RootLogger</li></ul></li></ul><h2 id="Appender"><a href="#Appender" class="headerlink" title="Appender"></a>Appender</h2><p>Appender å¯ä»¥ç†è§£ä¸ºä¸€ä¸ªç®¡é“ï¼Œå®šä¹‰äº†æ—¥å¿—å†…å®¹çš„å»å‘(ä¿å­˜ä½ç½®)ã€‚</p><ul><li>é…ç½®ä¸€ä¸ªæˆ–è€…å¤šä¸ª <code>Filter</code>ã€‚</li><li>é…ç½® <code>Layout</code> æ¥æ§åˆ¶æ—¥å¿—ä¿¡æ¯çš„è¾“å‡ºæ ¼å¼ã€‚</li><li>é…ç½® <code>Policies</code> ä»¥æ§åˆ¶æ—¥å¿—ä½•æ—¶(When)è¿›è¡Œæ»šåŠ¨ã€‚</li><li>é…ç½® <code>Strategy</code> ä»¥æ§åˆ¶æ—¥å¿—å¦‚ä½•(How)è¿›è¡Œæ»šåŠ¨ã€‚</li></ul><p>æ³¨æ„ç‚¹ï¼š</p><ul><li>å¤šä¸ª <code>appender</code> ä¸èƒ½æŒ‡å‘åŒä¸€ä¸ªæ—¥å¿—æ–‡ä»¶ï¼Œå¦åˆ™ä¼šæŠ¥é”™ï¼š<code>Configuration has multiple incompatible Appenders pointing to the same resource &#39;logs/mybatis-demo-warn.log&#39;</code></li><li><code>ImmediateFlush=true</code>ï¼Œä¸€æ—¦æœ‰æ–°æ—¥å¿—å†™å…¥ï¼Œç«‹é©¬å°†æ—¥å¿—å†™å…¥åˆ°ç£ç›˜çš„æ–‡ä»¶ä¸­ã€‚å½“æ—¥å¿—å¾ˆå¤šï¼Œè¿™ç§é¢‘ç¹æ“ä½œæ–‡ä»¶æ˜¾ç„¶æ€§èƒ½å¾ˆä½ä¸‹</li><li><code>immediateFlush</code>ï¼šlog4j2 æ¥æ”¶åˆ°æ—¥å¿—äº‹ä»¶æ—¶ï¼Œæ˜¯å¦ç«‹å³å°†æ—¥å¿—åˆ·åˆ°ç£ç›˜ã€‚é»˜è®¤ä¸º trueã€‚</li><li>BufferedIO: æ–‡ä»¶æµå†™å‡ºæ˜¯å¦ä½¿ç”¨ç¼“å†²ï¼Œtrue è¡¨ç¤ºä½¿ç”¨ï¼Œé»˜è®¤å€¼ä¸º false å³ä¸ä½¿ç”¨ç¼“å†²ã€‚æµ‹è¯•æ˜¾ç¤ºï¼Œå³ä½¿åœ¨å¯ç”¨immediateFlush çš„æƒ…å†µä¸‹ï¼Œè®¾ç½® <code>bufferedIO=true</code> ä¹Ÿèƒ½æé«˜æ€§èƒ½ã€‚</li><li>ä¸€ä¸ª LogConfig å¯ä»¥ä½¿ç”¨å¤šä¸ª appenderï¼Œä¸€ä¸ª appender ä¹Ÿå¯ä»¥è¢«å¤šä¸ª LogConfig ä½¿ç”¨</li></ul><p><a href="http://logging.apache.org/log4j/2.x/manual/appenders.html#RandomAccessFileAppender" target="_blank" rel="noopener">å®˜å®£â€”â€”Appender</a></p><h3 id="PatternLayout"><a href="#PatternLayout" class="headerlink" title="PatternLayout"></a>PatternLayout</h3><p>è¿™æ˜¯å¸¸ç”¨çš„æ—¥å¿—æ ¼å¼åŒ–ç±»ï¼Œå…¶å®ƒæ—¥å¿—æ ¼å¼åŒ–ç±»å¾ˆå°‘ç”¨ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;PatternLayout pattern="%d&#123;HH:mm:ss.SSS&#125; [%t] %-5level %logger&#123;36&#125; - %msg%n" charset="UTF-8"/&gt;</span><br></pre></td></tr></table></figure><p>å¸¸ç”¨è¯´æ˜ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">%</span>d&#123;HH:mm:ss.SSS&#125; è¡¨ç¤ºè¾“å‡ºåˆ°æ¯«ç§’çš„æ—¶é—´</span><br><span class="line"><span class="meta">%</span>t è¾“å‡ºå½“å‰çº¿ç¨‹åç§°</span><br><span class="line"><span class="meta">%</span>-5level è¾“å‡ºæ—¥å¿—çº§åˆ«ï¼Œ-5è¡¨ç¤ºå·¦å¯¹é½å¹¶ä¸”å›ºå®šè¾“å‡º5ä¸ªå­—ç¬¦ï¼Œå¦‚æœä¸è¶³åœ¨å³è¾¹è¡¥0</span><br><span class="line"><span class="meta">%</span>logger è¾“å‡ºloggeråç§°ï¼Œå› ä¸ºRoot Loggeræ²¡æœ‰åç§°ï¼Œæ‰€ä»¥æ²¡æœ‰è¾“å‡º</span><br><span class="line"><span class="meta">%</span>msg æ—¥å¿—æ–‡æœ¬</span><br><span class="line"><span class="meta">%</span>n æ¢è¡Œ</span><br><span class="line"></span><br><span class="line">å…¶ä»–å¸¸ç”¨çš„å ä½ç¬¦æœ‰ï¼š</span><br><span class="line"><span class="meta">%</span>F è¾“å‡ºæ‰€åœ¨çš„ç±»æ–‡ä»¶åï¼Œå¦‚Client.java</span><br><span class="line"><span class="meta">%</span>L è¾“å‡ºè¡Œå·</span><br><span class="line"><span class="meta">%</span>M è¾“å‡ºæ‰€åœ¨æ–¹æ³•å</span><br><span class="line"><span class="meta">%</span>l è¾“å‡ºè¯­å¥æ‰€åœ¨çš„è¡Œæ•°, åŒ…æ‹¬ç±»åã€æ–¹æ³•åã€æ–‡ä»¶åã€è¡Œæ•°</span><br></pre></td></tr></table></figure><p>å…³äº pattern çš„æ ¼å¼ç‚¹å‡» <a href="http://logging.apache.org/log4j/2.x/manual/layouts.html#PatternLayout" target="_blank" rel="noopener">å®˜å®£â€”â€”Pattern Layout</a></p><h3 id="Filter"><a href="#Filter" class="headerlink" title="Filter"></a>Filter</h3><p>Filters å†³å®šæ—¥å¿—äº‹ä»¶èƒ½å¦è¢«è¾“å‡ºã€‚è¿‡æ»¤æ¡ä»¶æœ‰ä¸‰ä¸ªå€¼ï¼š<code>ACCEPT(æ¥å—)</code>ï¼Œ<code>DENY(æ‹’ç»)</code>ï¼Œ<code>NEUTRAL(ä¸­ç«‹)</code>ã€‚</p><p>å¸¸ç”¨çš„ Filter å®ç°ç±»æœ‰ï¼š</p><ul><li>LevelRangeFilter</li><li>TimeFilter</li><li>ThresholdFilter</li></ul><p>ç®€å•è¯´å°±æ˜¯ log4j2 ä¸­çš„è¿‡æ»¤å™¨ <code>ACCEPT</code> å’Œ <code>DENY</code> ä¹‹åï¼Œåç»­çš„è¿‡æ»¤å™¨å°±ä¸ä¼šæ‰§è¡Œäº†ï¼Œåªæœ‰åœ¨ <code>NEUTRAL</code> çš„æ—¶å€™æ‰ä¼šæ‰§è¡Œåç»­çš„è¿‡æ»¤å™¨</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;Console name="Console"&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!--</span><br><span class="line">        è®¾ç½® onMismatch="NEUTRAL" å¯ä»¥è®©æ—¥å¿—ç»è¿‡åç»­çš„è¿‡æ»¤å™¨</span><br><span class="line">        æœ€åä¸€ä¸ªè¿‡æ»¤å™¨å»ºè®®è®¾ç½® onMismatch="DENY", ä¸ç„¶æ—¥å¿—å°±è¾“å‡ºäº†ã€‚</span><br><span class="line">    --&gt;</span><br><span class="line">    &lt;Filters&gt;</span><br><span class="line"></span><br><span class="line">        &lt;!-- ä»å¤§åˆ°å°ï¼šerror, warn, info, debug, trace --&gt;</span><br><span class="line">        &lt;LevelRangeFilter minLevel="error" maxLevel="info" onMatch="ACCEPT" onMismatch="NEUTRAL" /&gt;</span><br><span class="line"></span><br><span class="line">        &lt;!-- åªå…è®¸åœ¨æ¯å¤©çš„ 8ç‚¹~8ç‚¹åŠ ä¹‹é—´è¾“å‡ºæ—¥å¿— --&gt;</span><br><span class="line">        &lt;TimeFilter start="08:00:00" end="08:30:00" onMatch="ACCEPT" onMismatch="DENY" /&gt;</span><br><span class="line">    &lt;/Filters&gt;</span><br><span class="line"></span><br><span class="line">    &lt;PatternLayout pattern="%d&#123;HH:mm:ss.SSS&#125; [%t] %-5level %logger&#123;36&#125; - %msg%n" charset="UTF-8"/&gt;</span><br><span class="line">&lt;/Console&gt;</span><br></pre></td></tr></table></figure><p>LevelRangeFilter å¯¹å®ƒä»¬è¿›è¡Œäº† <code>ACCEPT</code>ï¼Œè€Œå‰©ä¸‹çš„ <code>trace Msg</code> å’Œ <code>debug Msg</code> åˆ™ä¼šç»è¿‡ä¸‹ä¸€ä¸ªè¿‡æ»¤å™¨ã€‚</p><h3 id="Policy"><a href="#Policy" class="headerlink" title="Policy"></a>Policy</h3><p><code>Policy &amp; Strategy</code></p><ul><li>Policy æ˜¯ç”¨æ¥æ§åˆ¶æ—¥å¿—æ–‡ä»¶ä½•æ—¶(When)è¿›è¡Œ Rolling/æ»šåŠ¨çš„ï¼›</li><li>Strategy æ˜¯ç”¨æ¥æ§åˆ¶æ—¥å¿—æ–‡ä»¶å¦‚ä½•(How)è¿›è¡Œ Rolling/æ»šåŠ¨çš„ã€‚</li></ul><p>æ‰€è°“ã€Œæ—¥å¿—æ»šåŠ¨ã€å°±æ˜¯å½“è¾¾åˆ°è®¾å®šçš„æ¡ä»¶åï¼Œæ—¥å¿—æ–‡ä»¶è¿›è¡Œåˆ‡åˆ†ã€‚æ¯”å¦‚ï¼šå·¥ç¨‹å¸ˆæƒ³è®©ç³»ç»Ÿä¸­çš„æ—¥å¿—æŒ‰æ—¥è¿›è¡Œåˆ‡åˆ†ï¼Œå¹¶ä¸”æŒ‰æœˆå½’æ¡£ã€‚</p><p><code>Rolling</code> çš„æ„æ€æ˜¯å½“æ»¡è¶³ä¸€å®šæ¡ä»¶åï¼Œå°±é‡å‘½ååŸæ—¥å¿—æ–‡ä»¶ç”¨äºå¤‡ä»½ï¼Œå¹¶é‡æ–°ç”Ÿæˆä¸€ä¸ªæ–°çš„æ—¥å¿—æ–‡ä»¶ã€‚ä¾‹å¦‚éœ€æ±‚æ˜¯æ¯å¤©ç”Ÿæˆä¸€ä¸ªæ—¥å¿—æ–‡ä»¶ï¼Œä½†æ˜¯å¦‚æœä¸€å¤©å†…çš„æ—¥å¿—æ–‡ä»¶ä½“ç§¯å·²ç»è¶…è¿‡ 1Gï¼Œå°±é‡æ–°ç”Ÿæˆã€‚<strong>ä¸¤ä¸ªæ¡ä»¶æ»¡è¶³ä¸€ä¸ªå³å¯</strong>ã€‚</p><p>Policyå¸¸ç”¨çš„å®ç°ç±»:</p><ul><li><code>SizeBasedTriggeringPolicy</code>ï¼Œæ ¹æ®æ—¥å¿—æ–‡ä»¶çš„å¤§å°è¿›è¡Œæ»šåŠ¨ã€‚å•ä½æœ‰ï¼š<code>KB</code>ï¼Œ<code>MB</code>ï¼Œ<code>GB</code></li><li><code>CronTriggeringPolicy</code>ï¼Œä½¿ç”¨ Cron è¡¨è¾¾å¼è¿›è¡Œæ—¥å¿—æ»šåŠ¨ï¼Œå¾ˆçµæ´»</li><li><code>TimeBasedTriggeringPolicy</code>ï¼Œè¿™ä¸ªé…ç½®éœ€è¦å’Œ <code>filePattern</code> ç»“åˆä½¿ç”¨ï¼Œæ³¨æ„ <code>filePattern</code> ä¸­é…ç½®çš„æ–‡ä»¶é‡å‘½åè§„åˆ™ã€‚æ»šåŠ¨ç­–ç•¥ä¾èµ–äº <code>filePattern</code> ä¸­é…ç½®çš„æœ€å…·ä½“çš„æ—¶é—´å•ä½ï¼Œæ ¹æ®æœ€å…·ä½“çš„æ—¶é—´å•ä½è¿›è¡Œæ»šåŠ¨ã€‚è¿™ç§æ–¹å¼æ¯”è¾ƒç®€æ´ã€‚<code>CronTriggeringPolicy</code> ç­–ç•¥æ›´å¼ºå¤§</li></ul><p>åœ¨ <code>TimeBasedTriggeringPolicy</code> æ ‡ç­¾ä¸­åŠ ä¸Šäº† <code>modulate</code> å±æ€§å¹¶è®¾ç½®ä¸º <code>true</code>ï¼Œè¯¥å±æ€§çš„æ„æ€æ˜¯æ˜¯å¦å¯¹æ—¥å¿—ç”Ÿæˆæ—¶é—´è¿›è¡Œè°ƒåˆ¶ã€‚è‹¥ä¸º <code>true</code>ï¼Œåˆ™æ—¥å¿—æ—¶é—´å°†ä»¥ 0 ç‚¹ä¸ºè¾¹ç•Œè¿›è¡Œåç§»è®¡ç®—ã€‚ä¾‹å¦‚ç¬¬ä¸€æ¬¡æ—¥å¿—ä¿å­˜æ—¶é—´æ˜¯ 3 ç‚¹ï¼Œ<code>modulate</code>ä¸º <code>true</code>ï¼Œ<code>interval</code> æ˜¯ <code>4h</code>ã€‚é‚£ä¹ˆä¸‹æ¬¡ç”Ÿæˆæ—¥å¿—æ—¶é—´æ˜¯ 4ç‚¹ï¼Œ08:00ï¼Œ12:00â€¦â€¦ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;Appenders&gt;</span><br><span class="line">    &lt;RollingRandomAccessFile name="File" fileName="logs/app.log"</span><br><span class="line">                                filePattern="logs/$$&#123;date:hh-mm&#125;/%d&#123;hh-mm-ss&#125;.app.%i.log" &gt;</span><br><span class="line">        &lt;PatternLayout pattern="%d&#123;HH:mm:ss.SSS&#125; [%t] %-5level %logger&#123;36&#125; - %msg%n" charset="UTF-8"/&gt;</span><br><span class="line"></span><br><span class="line">        &lt;Policies&gt;</span><br><span class="line">            &lt;!-- æ¯ 5s ç¿»æ»šä¸€æ¬¡ --&gt;</span><br><span class="line">            &lt;!--&lt;CronTriggeringPolicy schedule="0/5 * * * * ?" /&gt;--&gt;</span><br><span class="line"></span><br><span class="line">            &lt;!--</span><br><span class="line">                filePatternä¸­æœ€å…·ä½“çš„æ—¶é—´å•ä½æ˜¯ ç§’ã€‚</span><br><span class="line">                è¿™é‡Œç”¨ TimeBasedTriggeringPolicy æ›¿æ¢ CronTriggeringPolicy</span><br><span class="line"></span><br><span class="line">                æ³¨æ„ï¼šmodulateå±æ€§æ˜¯æŒ‡ä»å¯åŠ¨æ—¶é—´å¼€å§‹ç®—5ç§’ï¼Œè¿˜æ˜¯ä»0ç§’å¼€å§‹ç®—5ç§’ï¼Œè¿è¡Œä¸€ä¸‹å°±æ˜ç™½äº†ã€‚</span><br><span class="line">                modulate: true(é»˜è®¤å€¼) // ä¼šä»å¯åŠ¨æ—¶é—´å¼€å§‹ç®— 5ç§’</span><br><span class="line">                modulate: false // ä» 0ç§’å¼€å§‹ç®—</span><br><span class="line">            --&gt;</span><br><span class="line">            &lt;TimeBasedTriggeringPolicy interval="5" modulate="true"/&gt;</span><br><span class="line">            &lt;SizeBasedTriggeringPolicy size="10 MB"/&gt;</span><br><span class="line">        &lt;/Policies&gt;</span><br><span class="line">        &lt;DefaultRolloverStrategy max="10" /&gt;</span><br><span class="line">    &lt;/RollingRandomAccessFile&gt;</span><br><span class="line">&lt;/Appenders&gt;</span><br></pre></td></tr></table></figure><h3 id="Strategy"><a href="#Strategy" class="headerlink" title="Strategy"></a>Strategy</h3><p>Strategyå¸¸ç”¨çš„å®ç°ç±»ï¼š</p><ul><li>DefaultRolloverStrategy</li><li>DirectWriteRolloverStrategy</li></ul><p>è¿™ä¸¤ä¸ª Strategy éƒ½æ˜¯æ§åˆ¶å¦‚ä½•è¿›è¡Œæ—¥å¿—æ»šåŠ¨çš„ã€‚</p><p><code>DefaultRolloverStrategy</code> é»˜è®¤çš„ <code>max</code>ä¸º 7ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;DefaultRolloverStrategy max="7"/&gt;</span><br></pre></td></tr></table></figure><p>max å‚æ•°æŒ‡å®šäº†è®¡æ•°å™¨çš„æœ€å¤§å€¼ã€‚ä¸€æ—¦è®¡æ•°å™¨è¾¾åˆ°äº†æœ€å¤§å€¼ï¼Œè¿‡æ—§çš„æ–‡ä»¶å°†è¢«åˆ é™¤ã€‚</p><p>æ³¨æ„ï¼šä¸è¦è®¤ä¸º max å‚æ•°æ˜¯éœ€è¦ä¿ç•™çš„æ—¥å¿—æ–‡ä»¶çš„æœ€å¤§æ•°ç›®ã€‚</p><p>max å‚æ•°æ˜¯ä¸ <code>filePattern</code> ä¸­çš„è®¡æ•°å™¨ <code>%i</code> é…åˆèµ·ä½œç”¨çš„ï¼Œå…¶å…·ä½“ä½œç”¨æ–¹å¼ä¸ <code>filePattern</code> çš„é…ç½®å¯†åˆ‡ç›¸å…³ã€‚</p><p>1.å¦‚æœfilePatternä¸­ä»…å«æœ‰date/time patternï¼Œæ¯æ¬¡rolloveræ—¶ï¼Œå°†ç”¨å½“å‰çš„æ—¥æœŸå’Œæ—¶é—´æ›¿æ¢æ–‡ä»¶ä¸­çš„æ—¥æœŸæ ¼å¼å¯¹æ–‡ä»¶è¿›è¡Œé‡å‘½åã€‚maxå‚æ•°å°†ä¸èµ·ä½œç”¨ã€‚</p><p>å¦‚ï¼Œ<code>filePattern=&quot;logs/app-%d{yyyy-MM-dd}.log&quot;</code></p><p>2.å¦‚æœ <code>filePattern</code> ä¸­ä»…å«æœ‰æ•´æ•°è®¡æ•°å™¨ï¼ˆå³<code>%i</code> ï¼‰ï¼Œæ¯æ¬¡ <code>rollover</code> æ—¶ï¼Œæ–‡ä»¶é‡å‘½åæ—¶çš„è®¡æ•°å™¨å°†æ¯æ¬¡åŠ 1ï¼ˆåˆå§‹å€¼ä¸º1ï¼‰ï¼Œè‹¥è¾¾åˆ° max çš„å€¼ï¼Œå°†åˆ é™¤æ—§çš„æ–‡ä»¶ã€‚</p><p>å¦‚ï¼Œ<code>filePattern=&quot;logs/app-%i.log&quot;</code></p><p>3.å¦‚æœ <code>filePattern</code> ä¸­æ—¢å«æœ‰ <code>date/time pattern</code>ï¼Œåˆå«æœ‰ <code>%i</code>ï¼Œæ¯æ¬¡ <code>rollover</code> æ—¶ï¼Œè®¡æ•°å™¨å°†æ¯æ¬¡åŠ  1ï¼Œè‹¥è¾¾åˆ° max çš„å€¼ï¼Œå°†åˆ é™¤æ—§çš„æ–‡ä»¶ï¼Œç›´åˆ° <code>data/time pattern</code> ä¸å†ç¬¦åˆï¼Œè¢«æ›¿æ¢ä¸ºå½“å‰çš„æ—¥æœŸå’Œæ—¶é—´ï¼Œè®¡æ•°å™¨å†ä»1å¼€å§‹ã€‚</p><p>å¦‚ï¼Œ<code>filePattern=&quot;logs/app-%d{yyyy-MM-dd HH-mm}-%i.log&quot;</code></p><h3 id="Appender-ç±»å‹"><a href="#Appender-ç±»å‹" class="headerlink" title="Appender ç±»å‹"></a>Appender ç±»å‹</h3><h4 id="FileAppender-File-ã€RandomAccessFileAppender-RandomAccessFile"><a href="#FileAppender-File-ã€RandomAccessFileAppender-RandomAccessFile" class="headerlink" title="FileAppender(File)ã€RandomAccessFileAppender(RandomAccessFile)"></a>FileAppender(File)ã€RandomAccessFileAppender(RandomAccessFile)</h4><ul><li>ç›¸åŒç‚¹ï¼šå†™å…¥æ—¥å¿—ä¿¡æ¯åˆ°æ–‡ä»¶</li><li>ä¸åŒç‚¹ï¼šä½¿ç”¨çš„ <code>I/O</code> å®ç°ç±»ä¸åŒï¼Œå‰è€…ä½¿ç”¨ <code>FileOutputStream</code>ï¼Œåè€…ä½¿ç”¨ <code>RandomAccessFile</code>ã€‚</li></ul><p>å®˜æ–¹æ–‡æ¡£è¯´æ˜¯åœ¨ <code>bufferedIO=true</code> (é»˜è®¤æ˜¯ <code>true</code> )çš„æƒ…å†µä¸‹ï¼Œæ€§èƒ½æå‡ <code>20% ~ 200%</code>ã€‚</p><p>å¸¸ç”¨å±æ€§:</p><ul><li><code>fileName</code>ï¼šæ¥æŒ‡å®šæ–‡ä»¶ä½ç½®ï¼Œæ–‡ä»¶æˆ–ç›®å½•ä¸å­˜åœ¨åˆ™ä¼šè‡ªåŠ¨åˆ›å»ºã€‚</li><li><code>immediateFlush</code>ï¼šæ˜¯å¦æ¯æ¬¡å†™å…¥éƒ½è¦ç«‹åˆ»åˆ·æ–°åˆ°ç¡¬ç›˜ä¸­ã€‚é»˜è®¤ <code>true</code>ï¼Œå¦‚æœä½¿ç”¨é»˜è®¤å€¼å¯èƒ½ä¼šå½±å“æ€§èƒ½ã€‚</li></ul><h4 id="RollingFileAppender-RollingFile-ã€RollingRandomAccessFileAppender-RollingRandomAccessFile"><a href="#RollingFileAppender-RollingFile-ã€RollingRandomAccessFileAppender-RollingRandomAccessFile" class="headerlink" title="RollingFileAppender(RollingFile)ã€RollingRandomAccessFileAppender(RollingRandomAccessFile)"></a>RollingFileAppender(RollingFile)ã€RollingRandomAccessFileAppender(RollingRandomAccessFile)</h4><ul><li>ç›¸åŒç‚¹ï¼šå†™å…¥æ—¥å¿—ä¿¡æ¯åˆ°æ–‡ä»¶</li><li>ä¸åŒç‚¹ï¼šä½¿ç”¨çš„ <code>I/O</code> å®ç°ç±»ä¸åŒï¼Œå‰è€…ä½¿ç”¨ <code>FileOutputStream</code>ï¼Œåè€…ä½¿ç”¨ <code>RandomAccessFile</code>ã€‚</li><li>ä¸Šä¸€å¯¹çš„å®ç°ç±»ä¸èƒ½è¿›è¡Œã€Œæ—¥å¿—æ»šåŠ¨ã€ï¼Œè€Œå¸¦æœ‰ <code>rolling</code> å­—æ ·çš„ appender å°±å¯ä»¥å®ç°ã€Œæ»šåŠ¨ã€åŠŸèƒ½ã€‚æœ‰ã€Œæ»šåŠ¨ã€ï¼Œä¼šåˆ¤æ–­æ˜¯å¦æ»¡è¶³å°å­˜æ–‡ä»¶çš„è¦æ±‚ï¼Œæ‰§è¡Œæ—¥å¿—å­˜æ¡£æ“ä½œã€‚</li></ul><blockquote><p>RollingRandomAccessFile Appenderï¼Œç›¸æ¯” RollingFileAppenderæœ‰å¾ˆå¤§çš„æ€§èƒ½æå‡ï¼Œå®˜ç½‘å®£ç§°æ˜¯20-200%</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;RollingRandomAccessFile name="File" fileName="logs/app.log"</span><br><span class="line">                            filePattern="logs/$$&#123;date:hh-mm&#125;/%d&#123;hh-mm-ss&#125;.app.%i.log" &gt;</span><br><span class="line">    &lt;PatternLayout pattern="%d&#123;HH:mm:ss.SSS&#125; [%t] %-5level %logger&#123;36&#125; - %msg%n" charset="UTF-8"/&gt;</span><br><span class="line">    &lt;Policies&gt;</span><br><span class="line">        &lt;!-- æ¯ 5s ç¿»æ»šä¸€æ¬¡ --&gt;</span><br><span class="line">        &lt;CronTriggeringPolicy schedule="0/5 * * * * ?" /&gt;</span><br><span class="line">        &lt;SizeBasedTriggeringPolicy size="10 MB"/&gt;</span><br><span class="line">    &lt;/Policies&gt;</span><br><span class="line">    &lt;DefaultRolloverStrategy max="10" /&gt;</span><br><span class="line">&lt;/RollingRandomAccessFile&gt;</span><br><span class="line">&lt;/Appenders&gt;</span><br></pre></td></tr></table></figure><p>å¸¸ç”¨å±æ€§ï¼š</p><ul><li><code>filePattern</code>ï¼šæŒ‡å®šå½“å‘ç”ŸRollingæ—¶ï¼Œæ–‡ä»¶çš„è½¬ç§»å’Œé‡å‘½åè§„åˆ™ã€‚è‡³äºå…¶ä¸­çš„ <code>$${date:hh-mm}</code> æ˜¯è¡¨ç¤ºäº†ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼ˆä»¥ <code>å°æ—¶-åˆ†é’Ÿ</code>ï¼‰å‘½åã€‚</li><li><code>DefaultRolloverStrategy</code> æŒ‡å®šäº†å¦‚ä½•(How)è¿›è¡Œç¿»æ»šï¼Œå¹¶ä¸”æŒ‡å®šäº†æœ€å¤§ç¿»æ»šæ¬¡æ•°(å½±å“%iå‚æ•°å€¼)ï¼Œè¶…è¿‡æ¬¡æ•°ä¹‹åä¼šæŒ‰ç…§ç›¸åº”çš„è§„åˆ™åˆ é™¤æ—§æ—¥å¿—ã€‚</li><li><code>Policies</code>: è¿™é‡Œå°±æ˜¯è§„å®šäº†ä½•æ—¶è¿›è¡Œæ»šåŠ¨(When)ï¼Œå¯ä»¥æœ‰å¤šä¸ªPolicyã€‚<ul><li><code>CronTriggeringPolicy</code>ï¼Œæ¯”å¦‚è®¾ç½®æ¯ 5s è¿›è¡Œä¸€æ¬¡ç¿»æ»š</li><li><code>SizeBasedTriggeringPolicy</code> æŒ‡å®šå½“æ–‡ä»¶ä½“ç§¯å¤§äºsizeæŒ‡å®šçš„å€¼æ—¶ï¼Œè§¦å‘Rollingã€‚ä¾‹å¦‚ï¼Œå¦‚æœå½“å‰æ–‡ä»¶è¶…è¿‡äº† 10MBï¼Œä½†æ˜¯æ–‡ä»¶çš„åå­—è¿˜æ²¡æœ‰è¿›è¡Œç¿»æ»š(å»ºç«‹æ–°æ–‡ä»¶)ï¼Œé‚£ä¹ˆå°±ä¼šç”¨%içš„æ–¹å¼è¿›è¡Œç¿»æ»šã€‚</li></ul></li></ul><p>å¦‚æœé…ç½®çš„æ˜¯ <code>RollingFile</code> æˆ– <code>RollingRandomAccessFile</code>ï¼Œåˆ™å¿…é¡»é…ç½®ä¸€ä¸ª <code>Policy</code>ã€‚</p><h4 id="ç¿»æ»šç†è§£"><a href="#ç¿»æ»šç†è§£" class="headerlink" title="ç¿»æ»šç†è§£"></a>ç¿»æ»šç†è§£</h4><p>å‡è®¾è®¡æ•°å™¨æ¬¡æ•°è®¾ä¸º2æ¬¡ <code>&lt;DefaultRolloverStrategy max=&quot;2&quot; /&gt;</code>ï¼Œ<code>filePattern</code> ä¸­æ—¢å«æœ‰ <code>date/time pattern</code>ï¼Œåˆå«æœ‰ <code>%i</code>ã€‚</p><p>å½“æ»¡è¶³ç¿»æ»šè§¦å‘æ¡ä»¶æ—¶ï¼ˆæ—¶é—´é—´éš”åˆ°äº† OR æ–‡ä»¶å¤§å°è¶…äº†ï¼‰ï¼Œå°±ä¼šå¯åŠ¨ <code>Rolling</code>ï¼š</p><p>app.log</p><p>ç¬¬ä¸€æ¬¡ç¿»æ»šï¼š<code>app.log app.1.log // app.log -&gt; app.1.log</code><br>ç¬¬äºŒæ¬¡ç¿»æ»šï¼š<code>app.log app.1.log app.2.lop // app.log -&gt; app.2.log</code></p><p>ä¸€ä¸ªå¾ªç¯ç»“æŸï¼Œåˆ°è¾¾äº†æœ€å¤§ä¿å­˜æ•° 2 äº†ï¼Œé‚£ä¹ˆï¼Œ<code>app1.log</code> ä¼šè¢«åˆ é™¤ï¼Œä¸‹ä¸€ä¸ª <code>app3.log</code> å°±ä¼šè¦†ç›– <code>app2.log</code>ï¼Œ<code>app2.log</code>ä¼šæ”¹åä¸º<code>app1.log</code></p><p>ç¬¬ä¸‰æ¬¡ç¿»æ»šï¼š<code>app.log app.2.lop app.3.lop // app.log -&gt; app.3.log</code><br>ç¬¬å››æ¬¡ç¿»æ»šï¼š<code>app.log app.3.lop app.4.lop // app.log -&gt; app.4.log</code></p><p>ç†è§£ï¼šç¼–å·æœ€è¿‘çš„ä¸€æ¬¡ä¹Ÿå°±æ˜¯æœ€æ–°çš„ä¸€æ¬¡ logï¼Œè€Œé‡‡å–äº† <code>Policy</code> æ–¹å¼çš„æ—¥å¿—ï¼Œ<code>fileName</code> ä¸­ä¿å­˜çš„æ—¥å¿—å°†ä¸ä¼šæ˜¯å…¨é‡çš„æ—¥å¿—ï¼Œè€Œæ˜¯æ ¹æ®ä½  <code>Policy</code> çš„æ¡ä»¶åˆ‡åˆ†åçš„æœ€è¿‘ä¸€æ¬¡çš„æ—¥å¿—å†…å®¹ã€‚</p><ul><li><a href="https://www.cnblogs.com/yeyang/p/7944899.html" target="_blank" rel="noopener">åšå®¢å›­-Log4j2ä¸­RollingFileçš„æ–‡ä»¶æ»šåŠ¨æ›´æ–°æœºåˆ¶</a> æ»šåŠ¨æœºåˆ¶ä»‹ç»çš„å¾ˆè¯¦ç»†</li><li><a href="https://blog.csdn.net/u013066244/article/details/72461105" target="_blank" rel="noopener">CSDN-log4j2æ•™ç¨‹ã€RollingFileAppenderã€‘</a></li></ul><h4 id="ä¸€ä¸ª-Appender-ç¤ºä¾‹"><a href="#ä¸€ä¸ª-Appender-ç¤ºä¾‹" class="headerlink" title="ä¸€ä¸ª Appender ç¤ºä¾‹"></a>ä¸€ä¸ª Appender ç¤ºä¾‹</h4><p>æŒ‰æœˆå½’æ¡£æ—¥å¿—ï¼ŒæŒ‰æ—¥è¿›è¡Œåˆ‡åˆ†ï¼Œé™åˆ¶å•æ–‡ä»¶å¤§å°ä¸º 500MB, ä¸€å¤©æœ€å¤šç”Ÿæˆ20ä¸ªæ–‡ä»¶ï¼Œä¹Ÿå°±æ˜¯(20 * 500)MBå¤§å°çš„æ—¥å¿—</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span><br><span class="line">&lt;Configuration name="baseConf" status="warn" monitorInterval="30"&gt;</span><br><span class="line"></span><br><span class="line">    &lt;Appenders&gt;</span><br><span class="line">        &lt;RollingRandomAccessFile name="File" fileName="logs/app.log"</span><br><span class="line">                                 filePattern="logs/$$&#123;date:yyyy-MM&#125;/%d&#123;yyyy-MM-dd&#125;.app.%i.log" &gt;</span><br><span class="line">            &lt;PatternLayout pattern="%d&#123;HH:mm:ss.SSS&#125; [%t] %-5level %logger&#123;36&#125; - %msg%n" charset="UTF-8"/&gt;</span><br><span class="line">            &lt;Policies&gt;</span><br><span class="line">                &lt;TimeBasedTriggeringPolicy interval="1" modulate="false"/&gt;</span><br><span class="line">                &lt;SizeBasedTriggeringPolicy size="500MB"/&gt;</span><br><span class="line">            &lt;/Policies&gt;</span><br><span class="line">            &lt;DefaultRolloverStrategy max="20" /&gt;</span><br><span class="line">        &lt;/RollingRandomAccessFile&gt;</span><br><span class="line">    &lt;/Appenders&gt;</span><br><span class="line"></span><br><span class="line">    &lt;Loggers&gt;</span><br><span class="line">        &lt;Root level="info"&gt;</span><br><span class="line">            &lt;AppenderRef ref="File"/&gt;</span><br><span class="line">        &lt;/Root&gt;</span><br><span class="line">    &lt;/Loggers&gt;</span><br><span class="line"></span><br><span class="line">&lt;/Configuration&gt;</span><br></pre></td></tr></table></figure><h2 id="Logger"><a href="#Logger" class="headerlink" title="Logger"></a>Logger</h2><p>ç®€å•è¯´ Logger å°±æ˜¯ä¸€ä¸ªè·¯ç”±å™¨ï¼ŒæŒ‡å®šç±»ã€åŒ…ä¸­çš„æ—¥å¿—ä¿¡æ¯æµå‘å“ªä¸ªç®¡é“ï¼Œä»¥åŠæ§åˆ¶ä»–ä»¬çš„æµé‡(æ—¥å¿—çº§åˆ«)</p><p>Logger éƒ¨åˆ†ä¸ºä¸¤ä¸ª Logger:</p><ul><li>RootLogger(å¿…é¡»é…ç½®)</li><li>Logger</li></ul><p>æ³¨æ„ï¼šLogger ä¸­ä¹Ÿå¯ä»¥åŠ è¿‡æ»¤å™¨çš„ï¼</p><h3 id="æ—¥å¿—é‡å¤æ‰“å°é—®é¢˜"><a href="#æ—¥å¿—é‡å¤æ‰“å°é—®é¢˜" class="headerlink" title="æ—¥å¿—é‡å¤æ‰“å°é—®é¢˜"></a>æ—¥å¿—é‡å¤æ‰“å°é—®é¢˜</h3><p>å¦‚æœ Root ä¸­çš„æ—¥å¿—åŒ…å«äº† Logger ä¸­çš„æ—¥å¿—ä¿¡æ¯ï¼Œå¹¶ä¸” AppenderRef æ˜¯ä¸€æ ·çš„é…ç½®ï¼Œåˆ™æ—¥å¿—ä¼šæ‰“å°ä¸¤æ¬¡ã€‚</p><p>è¿™æ—¶å€™æˆ‘ä»¬éœ€è¦ä½¿ç”¨ä¸€ä¸ª Logger çš„å±æ€§æ¥è§£å†³ï¼Œé‚£å°±æ˜¯ <code>additivity</code>ï¼Œå…¶é»˜è®¤å€¼ä¸º <code>true</code>ï¼Œéœ€è¦é…ç½®ä¸º<code>false</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span><br><span class="line">&lt;Configuration name="baseConf" status="warn" monitorInterval="30"&gt;</span><br><span class="line"></span><br><span class="line">    &lt;Appenders&gt;</span><br><span class="line">        &lt;Console name="Console"&gt;</span><br><span class="line">            &lt;PatternLayout&gt;</span><br><span class="line">                &lt;Pattern&gt;%d %p %c&#123;1.&#125; [%t] %m%n&lt;/Pattern&gt;</span><br><span class="line">            &lt;/PatternLayout&gt;</span><br><span class="line">        &lt;/Console&gt;</span><br><span class="line">    &lt;/Appenders&gt;</span><br><span class="line"></span><br><span class="line">    &lt;Loggers&gt;</span><br><span class="line">        &lt;Logger name="me.master.snail.log.LogMain" level="info" additivity="false"&gt;</span><br><span class="line">            &lt;AppenderRef ref="Console"/&gt;</span><br><span class="line">        &lt;/Logger&gt;</span><br><span class="line"></span><br><span class="line">        &lt;Root level="trace"&gt;</span><br><span class="line">            &lt;AppenderRef ref="Console"/&gt;</span><br><span class="line">            &lt;Filters&gt;</span><br><span class="line">                &lt;LevelRangeFilter minLevel="error" maxLevel="info" onMatch="ACCEPT" onMismatch="DENY" /&gt;</span><br><span class="line">            &lt;/Filters&gt;</span><br><span class="line">        &lt;/Root&gt;</span><br><span class="line">    &lt;/Loggers&gt;</span><br><span class="line">&lt;/Configuration&gt;</span><br></pre></td></tr></table></figure><ul><li>RootLogger åªèƒ½æœ‰ 1 ä¸ªï¼Œæ™®é€šçš„ Logger å¯ä»¥å®šä¹‰å¤šä¸ªï¼Œå¯ä»¥ç»†è‡´åˆ°ç»™æŸä¸ªç±»å®šä¹‰ï¼›</li><li>å¤šä¸ª Logger é…ç½®é‡å¤äº†ï¼Œåœ¨æ—¥å¿—æ–‡ä»¶ä¸­ä¼šé‡å¤ï¼›</li><li>æ¯ä¸€ä¸ª Logger å¯¹åº”çš„ name æ˜¯åŒ…è·¯å¾„ï¼Œè¡¨ç¤ºåœ¨ name åŒ…ä¸‹çš„ç±»ä½¿ç”¨ AppenderRef æŒ‡å‘çš„æ—¥å¿—æ¨¡æ¿æ¥è¾“å‡ºæ—¥å¿—ï¼›</li><li>ä¸åŒçš„ LogConfig ä¹‹é—´å…¶å®æ˜¯æœ‰ç»§æ‰¿å…³ç³»çš„ï¼Œå­ LogConfig ä¼šç»§æ‰¿ parent çš„å±æ€§ï¼Œè€Œæ‰€æœ‰ LogConfig éƒ½ç»§æ‰¿è‡ª Root LogConfigã€‚æ‰€ä»¥å³ä½¿åªé…ç½®äº† root loggerï¼Œä½ ä¸€æ ·å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹é€šè¿‡  <code>LoggerFactory.getLogger</code> è·å–ä¸€ä¸ª logger å¯¹è±¡ï¼Œè®°å½•æ—¥å¿—;</li><li>å…ˆé…ç½®ä¸€ä¸ª Rootï¼Œè®©æ‰€æœ‰éœ€è¦ä½¿ç”¨æ—¥å¿—çš„ logger ç»§æ‰¿ï¼Œç„¶åå¯¹æœ‰ç‰¹åˆ«éœ€è¦çš„ logger è¿›è¡Œç‰¹æ®Šçš„é…ç½®ï¼Œæ¯”å¦‚æˆ‘ä»¬å¸Œæœ› <code>org.springframework</code> åŒ…åªè®°å½• <code>error</code>ä»¥åŠ <code>warn</code> çº§åˆ«çš„ logï¼Œå†æ¯”å¦‚ï¼Œæˆ‘ä»¬å¸Œæœ›èƒ½æ˜¾ç¤ºmybatis æ‰§è¡Œçš„ sql çš„æ—¥å¿—ï¼Œéƒ½å¯ä»¥è¿›è¡Œä¸ªæ€§åŒ–çš„é…ç½®ï¼›</li></ul><h3 id="Logger-ç­‰çº§å®éªŒ"><a href="#Logger-ç­‰çº§å®éªŒ" class="headerlink" title="Logger ç­‰çº§å®éªŒ"></a>Logger ç­‰çº§å®éªŒ</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;logger name="org.springframework" level="INFO" additivity="true"&gt;</span><br><span class="line">    &lt;AppenderRef ref="InfoLog"/&gt;</span><br><span class="line">&lt;/logger&gt;</span><br><span class="line"></span><br><span class="line">&lt;Root level="ERROR" additivity="true"&gt;</span><br><span class="line">    &lt;AppenderRef ref="Console"/&gt;</span><br><span class="line">    &lt;AppenderRef ref="InfoLog"/&gt;</span><br><span class="line">    &lt;AppenderRef ref="WarnLog"/&gt;</span><br><span class="line">    &lt;AppenderRef ref="ErrorLog"/&gt;</span><br><span class="line">&lt;/Root&gt;</span><br></pre></td></tr></table></figure><ul><li>ROOT ç­‰çº§è®¾ä¸º <code>ERROR</code> æ—¶ï¼Œ<code>org.springframework</code> Logger ç­‰çº§è®¾ä¸º <code>OFF</code> æ—¶ï¼Œå‘ç°åŸæ¥çš„ <code>warn.log</code> å’Œ <code>info.log</code> æ–‡ä»¶ä¸­ï¼Œéƒ½åªæœ‰çº§åˆ«å¤§äºæˆ–ç­‰äº ERROR çš„æ—¥å¿—ä¿¡æ¯äº†ï¼›</li><li>ROOT ç­‰çº§è®¾ä¸º <code>ERROR</code> æ—¶ï¼Œ<code>org.springframework</code> Logger ç­‰çº§è®¾ä¸º <code>INFO</code> æ—¶ï¼Œå‘ç°<code>info.log</code> æ–‡ä»¶ä¸­ï¼Œå¢åŠ äº† <code>org.springframework</code> åŒ…çš„ç›¸å…³ <code>INFO</code> çº§åˆ«çš„æ—¥å¿—ä¿¡æ¯äº†ï¼›</li></ul><p>æ€»ç»“ï¼š</p><ul><li>Logger æ—¥å¿—ç­‰çº§å’Œ appender æ—¥å¿—ç­‰çº§çš„å…³ç³»ï¼šlogger æ—¥å¿—ç­‰çº§å’Œ appender æ—¥å¿—ç­‰çº§ï¼Œè°ã€Œé«˜ã€å¬è°çš„ï¼›</li><li>æ™®é€š Logger çš„ä¼˜å…ˆçº§é«˜</li></ul><h2 id="è¿›é˜¶"><a href="#è¿›é˜¶" class="headerlink" title="è¿›é˜¶"></a>è¿›é˜¶</h2><p>åœ¨ log4j2 çš„å®˜ç½‘å»ºè®®å¼€å‘è€…ä½¿ç”¨å¼‚æ­¥æ–¹å¼ï¼Œè¿™æ ·åšçš„å¥½å¤„æ˜¯å¯ä»¥ä½¿ç”¨å•ç‹¬çº¿ç¨‹æ¥æ‰“å°æ—¥å¿—ï¼Œæé«˜æ—¥å¿—æ•ˆç‡ï¼Œé¿å…ç”±äºæ‰“å°æ—¥å¿—è€Œå½±å“ä¸šåŠ¡åŠŸèƒ½ã€‚</p><p>Log4j2 ä¸­çš„ AsyncLogger çš„å†…éƒ¨ä½¿ç”¨äº† Disruptor æ¡†æ¶ï¼Œå› æ­¤è¦é¢å¤–å¼•å…¥ä¸‹é¢ä¾èµ–ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Disruptor --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.lmax<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>disruptor<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.3.7<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>AsyncLogger æ˜¯å®˜æ–¹æ¨èçš„å¼‚æ­¥æ–¹å¼ï¼Œå®ƒæä¾›äº†ä¸¤ç§æ–¹å¼ä½¿ç”¨å¼‚æ­¥æ—¥å¿—ï¼Œå³ã€Œå…¨å±€å¼‚æ­¥ã€å’Œã€Œæ··åˆå¼‚æ­¥ã€ã€‚</p><ul><li><a href="https://logging.apache.org/log4j/2.x/manual/async.html#AllAsync" target="_blank" rel="noopener">å…¨å±€å¼‚æ­¥</a>ï¼šæ‰€æœ‰çš„æ—¥å¿—éƒ½è¿›è¡Œå¼‚æ­¥çš„æ—¥å¿—è®°å½•</li><li><a href="https://logging.apache.org/log4j/2.x/manual/async.html#MixedSync-Async" target="_blank" rel="noopener">æ··åˆå¼‚æ­¥</a>ï¼šåŒæ—¶ä½¿ç”¨åŒæ­¥æ—¥å¿—å’Œå¼‚æ­¥æ—¥å¿—</li></ul><p>å…¨å±€å¼‚æ­¥çš„æ–¹å¼ï¼š</p><ul><li>ç³»ç»Ÿåˆå§‹åŒ–çš„æ—¶å€™åŠ ä¸Šå…¨å±€é…ç½®ï¼š<code>System.setProperty(&quot;log4j2.contextSelector&quot;,&quot;org.apache.logging.log4j.core.async.AsyncLoggerContextSelector&quot;);</code></li><li>åŠ è½½ JVM å¯åŠ¨å‚æ•°é‡Œè®¾ç½®ï¼š<code>-DLog4jContextSelector=org.apache.logging.log4j.core.async.AsyncLoggerContextSelector</code></li></ul><div class="note warning">            <p>å¼€å¯å…¨å¼‚æ­¥æ—¶ï¼Œæ—¥å¿—é…ç½®ä¸­éœ€è¦ä½¿ç”¨æ™®é€šçš„Rootå’ŒLoggerå…ƒç´ ã€‚å¦‚æœä½¿ç”¨äº†AsyncRootæˆ–AsyncLoggerï¼Œå°†äº§ç”Ÿä¸å¿…è¦çš„å¼€é”€ã€‚</p>          </div><p>æ··åˆå¼‚æ­¥ï¼š</p><ul><li><code>log4j2.xml</code> é…ç½®æ–‡ä»¶ä¸­ä½¿ç”¨ <code>AsyncRoot/AsyncLogger</code> æ›¿ä»£ <code>Root/Logger</code></li></ul><div class="note warning">            <p>å…¨å¼‚æ­¥æ˜¯å®˜æ–¹æ¨èçš„ï¼Œä¹Ÿæ˜¯æ€§èƒ½æœ€ä½³çš„æ–¹å¼ï¼Œä½†åŒæ­¥å¼‚æ­¥æ··åˆä½¿ç”¨ï¼Œèƒ½å¤Ÿæä¾›æ›´å¤§çš„çµæ´»æ€§ã€‚ä½¿ç”¨ AsyncRootã€AsyncLoggerã€Rootã€Logger æ··åˆé…ç½®ï¼Œå¯ä»¥å®ç°åŒæ­¥å¼‚æ­¥æ··åˆã€‚ä½†æ˜¯éœ€è¦æ³¨æ„ï¼Œé…ç½®ä¸­åªèƒ½æœ‰ä¸€ä¸ª root å…ƒç´ ï¼Œä¹Ÿå°±æ˜¯åªèƒ½ä½¿ç”¨ AsyncRoot æˆ– Root ä¸­çš„ä¸€ä¸ªã€‚</p>          </div><h2 id="æ•ˆæœ"><a href="#æ•ˆæœ" class="headerlink" title="æ•ˆæœ"></a>æ•ˆæœ</h2><p><img src="https://gitee.com/michael_xiang/images/raw/master/8PAZgl.png" alt="log4j2-console"></p><h2 id="ç¤ºä¾‹ä»£ç "><a href="#ç¤ºä¾‹ä»£ç " class="headerlink" title="ç¤ºä¾‹ä»£ç "></a>ç¤ºä¾‹ä»£ç </h2><ul><li><a href="https://github.com/Michael728/awesome-spring-boot-examples/blob/master/spring-boot-logs/src/main/resources/log4j2.xml" target="_blank" rel="noopener">awesome-spring-boot-examples</a></li></ul><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p>Log4j2</p><ul><li><a href="https://github.com/apache/logging-log4j2" target="_blank" rel="noopener">Github-apache/logging-log4j2</a></li><li><a href="https://juejin.im/entry/5b35f1e86fb9a00e315c330e" target="_blank" rel="noopener">æ˜é‡‘-zdran-Spring Boot å­¦ä¹ ç¬”è®°(äºŒ) æ•´åˆ log4j2</a> åšä¸»å†™äº†ä¸€äº› Spring Boot æ•™ç¨‹</li><li><a href="https://www.cnblogs.com/wuqinglong/p/9516529.html" target="_blank" rel="noopener">åšå®¢å›­-èœ—ç‰›å¤§å¸ˆ-æµ…è°ˆLog4j2æ—¥å¿—æ¡†æ¶åŠä½¿ç”¨</a> ä»‹ç»çš„éå¸¸è¯¦ç»†ï¼Œå¼ºçƒˆæ¨èï¼</li><li><a href="http://www.cnblogs.com/elaron/archive/2013/02/17/2914633.html" target="_blank" rel="noopener">åšå®¢å›­-Log4j2ä¹‹Appenders</a> å¯¹ appender ä»‹ç»è¯¦ç»†</li><li><a href="https://it-linnan.github.io/log4j2%E5%BC%82%E6%AD%A5%E6%97%A5%E5%BF%97.html" target="_blank" rel="noopener">Log4j2å¼‚æ­¥æ—¥å¿—</a></li><li><a href="https://blog.csdn.net/heyutao007/article/details/72773077" target="_blank" rel="noopener">CSDN-log4j2å¼‚æ­¥Logger</a> æä¾›äº†ä¸€å‰¯å¼‚æ­¥è®°è½½æ—¥å¿—çš„å›¾</li></ul><p>SLF4J</p><ul><li><a href="https://juejin.im/post/5c11c831e51d4511624d1b59" target="_blank" rel="noopener">æ˜é‡‘â€”HollisChuangâ€”ä¸ºä»€ä¹ˆé˜¿é‡Œå·´å·´ç¦æ­¢å·¥ç¨‹å¸ˆç›´æ¥ä½¿ç”¨æ—¥å¿—ç³»ç»Ÿ(Log4jã€Logback)ä¸­çš„ API</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;èƒŒæ™¯&quot;&gt;&lt;a href=&quot;#èƒŒæ™¯&quot; class=&quot;headerlink&quot; title=&quot;èƒŒæ™¯&quot;&gt;&lt;/a&gt;èƒŒæ™¯&lt;/h2&gt;&lt;p&gt;&lt;img src=&quot;https://gitee.com/michael_xiang/images/raw/master/joePal.png&quot; alt=&quot;logging.apache&quot;&gt;&lt;/p&gt;
&lt;p&gt;Java ä¸­æ¯”è¾ƒå¸¸ç”¨çš„&lt;a href=&quot;https://logging.apache.org/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;æ—¥å¿—æ¡†æ¶&lt;/a&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;log4j(&lt;code&gt;Log for Java&lt;/code&gt;)ï¼šApache çš„ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œä¸ƒç§æ—¥å¿—çº§åˆ«ï¼šOFFã€FATALã€ERRORã€WARNã€INFOã€DEBUGã€TRACE&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://logback.qos.ch/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;logback&lt;/a&gt;ï¼šæ˜¯ä¸€ä¸ªå¾ˆæˆç†Ÿçš„æ—¥å¿—æ¡†æ¶ï¼Œå…¶å® logBack å’Œ log4j å‡ºè‡ªä¸€ä¸ªäººä¹‹æ‰‹ï¼Œè¿™ä¸ªäººå°±æ˜¯ Ceki GÃ¼lcÃ¼ã€‚logback æ¯” log4j å¤§çº¦å¿« 10 å€ã€æ¶ˆè€—æ›´å°‘çš„å†…å­˜ï¼Œè¿ç§»æˆæœ¬ä¹Ÿå¾ˆä½ï¼Œè‡ªåŠ¨å‹ç¼©æ—¥å¿—ã€æ”¯æŒå¤šæ ·åŒ–é…ç½®ã€ä¸éœ€è¦é‡å¯å°±å¯ä»¥æ¢å¤ I/O å¼‚å¸¸ç­‰ä¼˜åŠ¿&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://logging.apache.org/log4j/2.x/manual/index.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;log4j2&lt;/a&gt;ï¼šä½œè€…è®¤ä¸ºï¼Œlog4j2å·²ç»ä¸ä»…ä»…æ˜¯ log4j çš„ä¸€ä¸ªå‡çº§ç‰ˆæœ¬äº†ï¼Œè€Œæ˜¯ä»å¤´åˆ°å°¾è¢«é‡å†™çš„ï¼Œè¿™å¯ä»¥è®¤ä¸ºè¿™å…¶å®å°±æ˜¯å®Œå…¨ä¸åŒçš„ä¸¤ä¸ªæ¡†æ¶&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="Java" scheme="https://michael728.github.io/categories/Java/"/>
    
    
      <category term="Java" scheme="https://michael728.github.io/tags/Java/"/>
    
      <category term="Spring Boot" scheme="https://michael728.github.io/tags/Spring-Boot/"/>
    
      <category term="æ—¥å¿—" scheme="https://michael728.github.io/tags/%E6%97%A5%E5%BF%97/"/>
    
  </entry>
  
  <entry>
    <title>Spring Boot å®æˆ˜ â€”â€” æ—¥å¿—æ¡†æ¶ logback çš„å­¦ä¹ </title>
    <link href="https://michael728.github.io/2019/08/09/java-spring-boot-logback/"/>
    <id>https://michael728.github.io/2019/08/09/java-spring-boot-logback/</id>
    <published>2019-08-09T23:49:10.000Z</published>
    <updated>2020-01-05T15:47:56.120Z</updated>
    
    <content type="html"><![CDATA[<h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p><img src="https://gitee.com/michael_xiang/images/raw/master/joePal.png" alt="logging.apache"></p><p>ä¸Šä¸€ç¯‡æ–‡ç«  <a href="https://michael728.github.io/2019/08/17/java-spring-boot-logs/">Spring Boot å®æˆ˜ â€”â€” æ—¥å¿—æ¡†æ¶ Log4j2 SLF4J çš„å­¦ä¹ </a> ä¸­å·²ç»ä»‹ç»äº†å¸¸ç”¨çš„æ—¥å¿—æ¡†æ¶çš„æ¯”è¾ƒï¼Œæœ¬æ–‡ä»‹ç»å¦å¤–ä¸€ä¸ªä¸»æµçš„æ—¥å¿—æ¡†æ¶ <a href="https://logback.qos.ch/" target="_blank" rel="noopener">logback</a></p><a id="more"></a><h2 id="å±•ç¤º"><a href="#å±•ç¤º" class="headerlink" title="å±•ç¤º"></a>å±•ç¤º</h2><p><img src="https://gitee.com/michael_xiang/images/raw/master/B27jyG.jpg" alt="logback-console"></p><h2 id="çœ‹æ‡‚æ—¥å¿—"><a href="#çœ‹æ‡‚æ—¥å¿—" class="headerlink" title="çœ‹æ‡‚æ—¥å¿—"></a>çœ‹æ‡‚æ—¥å¿—</h2><ul><li>æ—¶é—´æˆ³ï¼Œç²¾ç¡®åˆ°æ¯«ç§’</li><li>logback æ—¥å¿—çº§åˆ«ï¼šæ—¥å¿—çº§åˆ«åˆ†ä¸ºï¼šTRACEã€DEBUGã€INFOã€WARNã€ERRORã€FATAL</li><li>è¿›ç¨‹ IDï¼šè¿›ç¨‹ ID æŒ‡çš„æ˜¯å½“å‰åº”ç”¨å¯¹åº”çš„ PID</li><li>åˆ†éš”ç¬¦ï¼šç”¨äºåŒºåˆ†å®é™…æ—¥å¿—æ¶ˆæ¯çš„å¼€å§‹</li><li>çº¿ç¨‹åç§°ï¼šæ‹¬åœ¨æ–¹æ‹¬å·ä¸­</li><li>è®°å½•å™¨åç§°ï¼šä¸€èˆ¬ä½¿ç”¨ç±»å</li><li>æ—¥å¿—å†…å®¹ï¼šæ—¥å¿—è¾“å‡ºçš„æ‰“å°å†…å®¹</li></ul><h2 id="æ—¥å¿—ä¾èµ–"><a href="#æ—¥å¿—ä¾èµ–" class="headerlink" title="æ—¥å¿—ä¾èµ–"></a>æ—¥å¿—ä¾èµ–</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-logging<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å®é™…å¼€å‘ä¸­æˆ‘ä»¬ä¸éœ€è¦ç›´æ¥æ·»åŠ è¯¥ä¾èµ– <code>spring-boot-starter-logging</code>ï¼Œå› ä¸º <code>spring-boot-starter</code> å…¶ä¸­åŒ…å«äº† <code>spring-boot-starter-logging</code>ï¼Œè¯¥ä¾èµ–å†…å®¹å°±æ˜¯ Spring Boot é»˜è®¤çš„æ—¥å¿—æ¡†æ¶ logbackã€‚</p><p>PSï¼š<a href="https://michael728.github.io/2019/08/17/java-spring-boot-logs/">ä¸Šä¸€ç¯‡æ–‡ç« </a> ä¸­è¯´æ˜äº†ï¼Œå¦‚æœè¦é‡‡ç”¨ log4j2ï¼Œé‚£ä¹ˆéœ€è¦æ’é™¤ Spring Boot è‡ªå¸¦çš„æ—¥å¿—ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- å»æ‰logbacké…ç½® --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">exclusions</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">exclusion</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-logging<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">exclusion</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">exclusions</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- å¼•å…¥log4j2ä¾èµ– --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-log4j2<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="æ§åˆ¶å°è¾“å‡º"><a href="#æ§åˆ¶å°è¾“å‡º" class="headerlink" title="æ§åˆ¶å°è¾“å‡º"></a>æ§åˆ¶å°è¾“å‡º</h2><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œ Spring Boot åªä¼šè®°å½• INFOã€WARNã€ERROR çº§åˆ«çš„æ—¥å¿—æ‰“å°åœ¨æ§åˆ¶å°ã€‚Spring Boot å¯ä»¥ä½¿ç”¨ã€Œè°ƒè¯•æ¨¡å¼ã€ï¼Œä¼šæ‰“å°ä¸€äº›æ¯”è¾ƒè¯¦ç»†çš„é¢å¤–ä¿¡æ¯ï¼Œå¯ä»¥é€‰ç”¨å¦‚ä¸‹ä¸¤ç§æ–¹å¼ï¼š</p><ul><li>å¯åŠ¨ JAR æ¨¡å¼æ—¶ï¼ŒåŠ ä¸Š <code>--debug</code>,ä¾‹å¦‚ï¼š<code>java  -jar &lt;app.jar&gt; --debug</code>ï¼›</li><li>åœ¨é…ç½®æ–‡ä»¶ä¸­é…ç½®å±æ€§ <code>debug=true</code>ï¼›</li></ul><div class="note info no-icon">            <p>è¿™é‡Œçš„ DEBUG æ¨¡å¼åªæ˜¯ä¼šå¤šæ‰“å°ç³»ç»Ÿé»˜è®¤çš„ä¸€äº›è°ƒç”¨ä¿¡æ¯ï¼Œå¹¶ä¸ä¼šå¤šæ‰“å°ä½ æŒ‡å®šçš„ DEBUG çº§åˆ«æ—¥å¿—ä¿¡æ¯ï¼Œé™¤éä½ æŒ‡å®šæ—¥å¿—çº§åˆ«ã€‚</p>          </div><h2 id="æ—¥å¿—çº§åˆ«è®¾ç½®"><a href="#æ—¥å¿—çº§åˆ«è®¾ç½®" class="headerlink" title="æ—¥å¿—çº§åˆ«è®¾ç½®"></a>æ—¥å¿—çº§åˆ«è®¾ç½®</h2><p>ä¸‹é¢ä¸¤ç§æ ¼å¼å¸¸ç”¨ï¼š</p><ul><li><code>logging.level.root=WARN</code> root æ—¥å¿—ä»¥ WARN çº§åˆ«è¾“å‡ºä¿¡æ¯ï¼›</li><li><code>logging.level.com.michael.springbootlogback.congtroller=DEBUG</code> æŒ‡å®šåŒ…ä¸‹çš„ç±»ä»¥ DEBUG çº§åˆ«è¾“å‡ºï¼›</li></ul><p><code>root</code> è¡¨ç¤º root èŠ‚ç‚¹ï¼Œå®ƒæ˜¯å¿…é€‰èŠ‚ç‚¹ï¼Œç”¨æ¥æŒ‡å®šæœ€åŸºç¡€çš„æ—¥å¿—è¾“å‡ºçº§åˆ«ï¼Œé»˜è®¤æ˜¯ INFO çº§åˆ«ï¼Œæ‰€ä»¥ï¼Œæ­¤æ—¶è‹¥æ˜¯ä¸ä¿®æ”¹é»˜è®¤å€¼ï¼Œä½ ç›´æ¥æŒ‡å®šå…¶ä»–åŒ…ä¸‹çš„æ—¥å¿—ç•Œåˆ«ä¸º DEBUG çº§åˆ«ï¼Œå…¶å®ä¹Ÿä¸ä¼šç”Ÿæ•ˆçš„ã€‚</p><p>å¦å¤–ï¼Œä¹Ÿå¯ä»¥è®¾ç½®æ—¥å¿—ç»„æ¥æ‰¹é‡è®¾ç½®æ—¥å¿—çº§åˆ«ï¼Œæ¯”å¦‚è®¾å®š <code>com.michael.controller</code> å’Œ <code>com.michael.service</code> ä¸ºåŒä¸€ç»„ï¼ˆåŒ…å’ŒåŒ…ä¹‹é—´ç”¨è‹±æ–‡é€—å·åˆ†éš”ï¼‰ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">logging.group.michael=com.michael.controller,com.michael.service</span><br></pre></td></tr></table></figure><p>è®¾ç½®å®Œæ—¥å¿—ç»„ä¹‹åï¼Œç»™ michael ç»„è®¾å®šæ—¥å¿—çº§åˆ«ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">logging.level.michael=INFO</span><br></pre></td></tr></table></figure><p>Spring Boot é»˜è®¤æä¾›ä¸¤ä¸ªæ—¥å¿—ç»„ï¼š</p><ul><li><code>logging.group.web=org.springframework.core.codec,org.springframework.http,org.springframework.web</code></li><li><code>logging.group.sql=org.springframework.jdbc.core</code></li></ul><h2 id="æ—¥å¿—æ–‡ä»¶è¾“å‡º"><a href="#æ—¥å¿—æ–‡ä»¶è¾“å‡º" class="headerlink" title="æ—¥å¿—æ–‡ä»¶è¾“å‡º"></a>æ—¥å¿—æ–‡ä»¶è¾“å‡º</h2><p>åªéœ€è¦åœ¨ Profile é…ç½®æ–‡ä»¶ï¼Œä¾‹å¦‚ <code>application.properties</code> ä¸­è®¾ç½® <code>logging.file</code> æˆ–è€… <code>logging.path</code> å±æ€§å³å¯ï¼š</p><ul><li><code>logging.file</code> è®¾ç½®æ—¥å¿—æ–‡ä»¶ï¼Œå¯ä»¥è®¾ç½®æ–‡ä»¶çš„ç»å¯¹è·¯å¾„ä¹Ÿå¯ä»¥è®¾ç½®ç›¸å¯¹è·¯å¾„ï¼Œç›¸å¯¹è·¯å¾„çš„è¯æ˜¯ç›¸å¯¹åº”ç”¨çš„æ ¹ç›®å½•ï¼Œæ¯”å¦‚ <code>logging.file=logs/demo.log</code>;</li><li><code>logging.path</code> è®¾ç½®æ—¥å¿—çš„è·¯å¾„ï¼Œä¹Ÿæ˜¯æ—¢æ”¯æŒç»å¯¹è·¯å¾„ä¹Ÿæ”¯æŒç›¸å¯¹è·¯å¾„ï¼Œæ¯”å¦‚ <code>logging.path=logs</code>ï¼Œæ—¥å¿—æ–‡ä»¶é»˜è®¤ä¼šå­˜ä¸º <code>spring.log</code>ï¼›</li></ul><p>å¦‚æœä¸Šé¢ä¸¤ä¸ªå±æ€§åŒæ—¶é…ç½®äº†ï¼Œåªæœ‰ <code>logging.file</code> ä¼šç”Ÿæ•ˆï¼›åœ¨æ—¥å¿—æ–‡ä»¶è¾¾åˆ° 10MB æ—¶ï¼ŒSpring Boot ä¼šè‡ªåŠ¨åˆ†å‰²æ—¥å¿—ï¼Œå½“ç„¶ï¼Œè¿™ä¸ªå¤§å°æ˜¯å¯ä»¥é€šè¿‡ <code>logging.file.max-size</code> å±æ€§æ›´æ”¹çš„ï¼Œä¸‹é¢è°ˆè°ˆæœ‰å“ªäº›é…ç½®å±æ€§ã€‚</p><h2 id="æ—¥å¿—é…ç½®"><a href="#æ—¥å¿—é…ç½®" class="headerlink" title="æ—¥å¿—é…ç½®"></a>æ—¥å¿—é…ç½®</h2><p>é™¤äº†ä¸Šé¢ä»‹ç»çš„é…ç½®å±æ€§å¤–ï¼Œè¿˜æœ‰å…¶ä»–ä¸€äº›å±æ€§ï¼Œä¾‹å¦‚ï¼š</p><ul><li><code>logging.config</code> æ—¥å¿—é…ç½®ï¼›</li><li><code>logging.file.max-size</code> æœ€å¤§æ—¥å¿—æ–‡ä»¶å¤§å°ï¼›</li><li><code>logging.file.max-history</code> æœ€å¤§å½’æ¡£æ–‡ä»¶æ•°é‡ï¼›</li><li><code>logging.pattern.console</code> æ§åˆ¶å°è¾“å‡ºçš„æ—¥å¿—æ¨¡å¼ï¼›</li><li><code>logging.pattern.dateformat</code> æ—¥å¿—çš„æ—¥æœŸæ ¼å¼ï¼›</li><li><code>logging.pattern.file</code> é»˜è®¤ä½¿ç”¨æ—¥å¿—æ¨¡å¼</li><li><code>logging.pattern.level</code> æ—¥å¿—çº§åˆ«</li></ul><h3 id="XML-é…ç½®æ—¥å¿—"><a href="#XML-é…ç½®æ—¥å¿—" class="headerlink" title="XML é…ç½®æ—¥å¿—"></a>XML é…ç½®æ—¥å¿—</h3><p>Spring Boot ä¸­çš„ logback é»˜è®¤ä½¿ç”¨ <code>src/main/resources</code> æ–‡ä»¶å¤¹ä¸‹çš„ <code>logback.xml</code> æˆ– <code>logback-spring.xml</code> ä½œä¸ºæ—¥å¿—é…ç½®ã€‚Spring Boot å®˜æ–¹æ¨èä¼˜å…ˆä½¿ç”¨å¸¦æœ‰ <code>-spring</code> çš„æ–‡ä»¶åä½œä¸ºæ—¥å¿—é…ç½®æ–‡ä»¶ã€‚å› ä¸ºå¦‚æœå‘½åä¸º <code>logback-spring.xml</code> æ—¥å¿—é…ç½®ï¼Œå°±å¯ä»¥åœ¨æ—¥å¿—è¾“å‡ºçš„æ—¶å€™å¼•å…¥ä¸€äº› Spring Boot ç‰¹æœ‰çš„é…ç½®é¡¹ã€‚ä¹Ÿå¯ä»¥é€šè¿‡è‡ªå®šä¹‰çš„æ–¹å¼æŒ‡å®šé…ç½®æ–‡ä»¶ï¼š <code>logging.config=classpath:logback-confg.xml</code></p><p><code>application.properities</code> é…ç½®ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># æ—¥å¿—é…ç½®ä¿¡æ¯</span><br><span class="line">## è¿™ä¸ªè·¯å¾„å…¶å®ä¸æŒ‡å®šä¹Ÿå¯ä»¥ï¼Œå› ä¸º logback-spring.xml æ˜¯é»˜è®¤é…ç½®æ–‡ä»¶åä¹‹ä¸€</span><br><span class="line">logging.config=classpath:logback-spring.xml</span><br><span class="line">## è¿™é‡Œçš„é…ç½®æ˜¯ä¸ºäº†åœ¨ xml é…ç½®ä¸­åº”ç”¨çš„</span><br><span class="line">log.level=info</span><br></pre></td></tr></table></figure><p>ä¸€ä¸ªç®€å•çš„æ§åˆ¶å°è¾“å‡ºé…ç½®ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- application.properitiesä¸­é…ç½®çš„å˜é‡ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">springProperty</span> <span class="attr">scope</span>=<span class="string">"context"</span> <span class="attr">name</span>=<span class="string">"logLevel"</span> <span class="attr">source</span>=<span class="string">"log.level"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">springProperty</span> <span class="attr">scope</span>=<span class="string">"context"</span> <span class="attr">name</span>=<span class="string">"logPath"</span> <span class="attr">source</span>=<span class="string">"log.path"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">springProperty</span> <span class="attr">scope</span>=<span class="string">"context"</span> <span class="attr">name</span>=<span class="string">"logName"</span> <span class="attr">source</span>=<span class="string">"log.name"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">appender</span> <span class="attr">name</span>=<span class="string">"Console"</span> <span class="attr">class</span>=<span class="string">"ch.qos.logback.core.ConsoleAppender"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">encoder</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">pattern</span>&gt;</span>%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125; %-5level [%thread] %logger&#123;80&#125; - %msg%n<span class="tag">&lt;/<span class="name">pattern</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">charset</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">charset</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">encoder</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">appender</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">root</span> <span class="attr">level</span>=<span class="string">"$&#123;logLevel&#125;&#125;"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">"Console"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">root</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è¯´æ˜ï¼š</p><ul><li><code>appender</code> çš„ <code>name</code> å…¶å®åªæ˜¯å–çš„åå­—ï¼Œä½ ä¹Ÿå¯ä»¥å«å®ƒ <code>STDOUT</code></li><li><code>%d</code> è¡¨ç¤ºæ—¶é—´ï¼Œç”¨ <code>%d{yyyy-MM-dd HH:mm:ss.SSS}</code> å®šä¹‰äº†æ ¼å¼åŒ–æ—¶é—´ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ <code>%date</code></li><li><code>%-5level</code> è¡¨ç¤ºæ˜¾ç¤ºæ—¥å¿—çº§åˆ«ï¼Œå¹¶ä¸”ç”¨ 5 ä¸ªå­—ç¬¦é å·¦å¯¹é½ï¼Œä¹Ÿå¯ä»¥ç”¨ <code>%p</code> è¡¨ç¤ºæ—¥å¿—çº§åˆ«</li><li><code>%thread</code> è¡¨ç¤ºæ˜¾ç¤ºæ—¥å¿—è¿›ç¨‹åå­—</li><li><code>%logger{80}</code> è¡¨ç¤ºæ—¥å¿—è¾“å‡ºè€…çš„åå­—ï¼Œå¸¸å¸¸æ˜¯ç±»å</li><li><code>%msg</code> æ—¥å¿—æ¶ˆæ¯</li><li><code>%n</code> å¹³å°çš„æ¢è¡Œç¬¦</li><li><code>%c</code> ç”¨æ¥åœ¨æ—¥å¿—ä¸Šè¾“å‡ºç±»çš„å…¨å</li><li><code>%L</code> è¡¨ç¤ºè¡Œå·</li><li><code>charset</code> è®¾ç½®æ—¥å¿—ç¼–ç æ ¼å¼ä¸º UTF-8ï¼Œé¿å…ä¸­æ–‡ä¹±ç </li><li><code>root</code> æ ‡ç­¾å†…è®¾ç½®æ—¥å¿—çº§åˆ« <code>level</code>ï¼Œç­‰åŒäºåœ¨é…ç½®æ–‡ä»¶ä¸­è®¾ç½® <code>logging.pattern.level</code></li></ul><p>Logback é…ç½®æ–‡ä»¶å¯ä»¥ä½¿ç”¨ property æ ‡ç­¾è‡ªå®šä¹‰å±æ€§ï¼Œç„¶ååœ¨é…ç½®æ–‡ä»¶ä¸­ä½¿ç”¨ã€‚ä¸‹é¢é™„ä¸Šä¸€ä¸ªè¾ƒå¤æ‚çš„é…ç½®ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- application.properitiesä¸­é…ç½®çš„å˜é‡ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">springProperty</span> <span class="attr">scope</span>=<span class="string">"context"</span> <span class="attr">name</span>=<span class="string">"logProfile"</span> <span class="attr">source</span>=<span class="string">"log.profile"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">springProperty</span> <span class="attr">scope</span>=<span class="string">"context"</span> <span class="attr">name</span>=<span class="string">"logFileLevel"</span> <span class="attr">source</span>=<span class="string">"log.file.level"</span>/&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- å®šä¹‰æ—¥å¿— pattern --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"logPattern"</span></span></span><br><span class="line"><span class="tag">              <span class="attr">value</span>=<span class="string">"%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125; %-5level [%thread] %logger&#123;36&#125; - %c - %L&#123;4&#125; - %msg%n"</span>/&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- å®šä¹‰æ—¥å¿—æ–‡ä»¶åç§° --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"appName"</span> <span class="attr">value</span>=<span class="string">"logback-demo"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"logPath"</span> <span class="attr">value</span>=<span class="string">"log"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- ch.qos.logback.core.ConsoleAppender è¡¨ç¤ºæ§åˆ¶å°è¾“å‡º --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">appender</span> <span class="attr">name</span>=<span class="string">"console"</span> <span class="attr">class</span>=<span class="string">"ch.qos.logback.core.ConsoleAppender"</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">        æ—¥å¿—è¾“å‡ºæ ¼å¼ï¼š</span></span><br><span class="line"><span class="comment">            %dè¡¨ç¤ºæ—¥æœŸæ—¶é—´ï¼Œ</span></span><br><span class="line"><span class="comment">            %threadè¡¨ç¤ºçº¿ç¨‹åï¼Œ</span></span><br><span class="line"><span class="comment">            %-5levelï¼šçº§åˆ«ä»å·¦æ˜¾ç¤º5ä¸ªå­—ç¬¦å®½åº¦</span></span><br><span class="line"><span class="comment">            %logger&#123;50&#125; è¡¨ç¤ºloggeråå­—æœ€é•¿50ä¸ªå­—ç¬¦ï¼Œå¦åˆ™æŒ‰ç…§å¥ç‚¹åˆ†å‰²ã€‚</span></span><br><span class="line"><span class="comment">            %L è¡¨ç¤ºè¡Œå·</span></span><br><span class="line"><span class="comment">            %msgï¼šæ—¥å¿—æ¶ˆæ¯ï¼Œ</span></span><br><span class="line"><span class="comment">            %næ˜¯æ¢è¡Œç¬¦</span></span><br><span class="line"><span class="comment">        --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">encoder</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--&lt;pattern&gt;%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125; [%thread] %-5level %logger&#123;50&#125; - %msg%n&lt;/pattern&gt;--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">pattern</span>&gt;</span>$&#123;logPattern&#125;<span class="tag">&lt;/<span class="name">pattern</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">charset</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">charset</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">encoder</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">appender</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- æ»šåŠ¨è®°å½•æ–‡ä»¶ï¼Œå…ˆå°†æ—¥å¿—è®°å½•åˆ°æŒ‡å®šæ–‡ä»¶ï¼Œå½“ç¬¦åˆæŸä¸ªæ¡ä»¶æ—¶ï¼Œå°†æ—¥å¿—è®°å½•åˆ°å…¶ä»–æ–‡ä»¶ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">appender</span> <span class="attr">name</span>=<span class="string">"appLogFileAppender"</span> <span class="attr">class</span>=<span class="string">"ch.qos.logback.core.rolling.RollingFileAppender"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">encoder</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">pattern</span>&gt;</span>$&#123;logPattern&#125;<span class="tag">&lt;/<span class="name">pattern</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">charset</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">charset</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">encoder</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rollingPolicy</span> <span class="attr">class</span>=<span class="string">"ch.qos.logback.core.rolling.TimeBasedRollingPolicy"</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">            æ»šåŠ¨æ—¶äº§ç”Ÿçš„æ–‡ä»¶çš„å­˜æ”¾ä½ç½®åŠæ–‡ä»¶åç§° %d&#123;yyyy-MM-dd&#125;ï¼šæŒ‰å¤©è¿›è¡Œæ—¥å¿—æ»šåŠ¨</span></span><br><span class="line"><span class="comment">            %iï¼šå½“æ–‡ä»¶å¤§å°è¶…è¿‡maxFileSizeæ—¶ï¼ŒæŒ‰ç…§iè¿›è¡Œæ–‡ä»¶æ»šåŠ¨</span></span><br><span class="line"><span class="comment">            --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">fileNamePattern</span>&gt;</span>$&#123;logPath&#125;/$&#123;appName&#125;/%d&#123;yyyy-MM-dd&#125;-%i.log<span class="tag">&lt;/<span class="name">fileNamePattern</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">            å¯é€‰èŠ‚ç‚¹ï¼Œæ§åˆ¶ä¿ç•™çš„å½’æ¡£æ–‡ä»¶çš„æœ€å¤§æ•°é‡ï¼Œè¶…å‡ºæ•°é‡å°±åˆ é™¤æ—§æ–‡ä»¶ã€‚å‡è®¾è®¾ç½®æ¯å¤©æ»šåŠ¨ï¼Œ</span></span><br><span class="line"><span class="comment">            ä¸”maxHistoryæ˜¯365ï¼Œåˆ™åªä¿å­˜æœ€è¿‘365å¤©çš„æ–‡ä»¶ï¼Œåˆ é™¤ä¹‹å‰çš„æ—§æ–‡ä»¶ã€‚æ³¨æ„ï¼Œåˆ é™¤æ—§æ–‡ä»¶æ˜¯ï¼Œ</span></span><br><span class="line"><span class="comment">            é‚£äº›ä¸ºäº†å½’æ¡£è€Œåˆ›å»ºçš„ç›®å½•ä¹Ÿä¼šè¢«åˆ é™¤ã€‚</span></span><br><span class="line"><span class="comment">            --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">MaxHistory</span>&gt;</span>365<span class="tag">&lt;/<span class="name">MaxHistory</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">            å½“æ—¥å¿—æ–‡ä»¶è¶…è¿‡maxFileSizeæŒ‡å®šçš„å¤§å°æ˜¯ï¼Œæ ¹æ®ä¸Šé¢æåˆ°çš„%iè¿›è¡Œæ—¥å¿—æ–‡ä»¶æ»šåŠ¨ æ³¨æ„æ­¤å¤„é…ç½®SizeBasedTriggeringPolicyæ˜¯æ— æ³•å®ç°æŒ‰æ–‡ä»¶å¤§å°è¿›è¡Œæ»šåŠ¨çš„ï¼Œå¿…é¡»é…ç½®timeBasedFileNamingAndTriggeringPolicy</span></span><br><span class="line"><span class="comment">            --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">timeBasedFileNamingAndTriggeringPolicy</span> <span class="attr">class</span>=<span class="string">"ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">maxFileSize</span>&gt;</span>50MB<span class="tag">&lt;/<span class="name">maxFileSize</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">timeBasedFileNamingAndTriggeringPolicy</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">rollingPolicy</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--ä¸‹é¢é€šè¿‡ä¸¤ä¸ª Filterï¼Œè®°å½•äº† WARN å’Œ Error çº§åˆ«çš„æ—¥å¿—ï¼Œå…¶å®ç”¨ logger æ¥å®šä¹‰levelï¼Œæ›´æ–¹ä¾¿--&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--&lt;filter class="ch.qos.logback.classic.filter.LevelFilter"&gt;--&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--&lt;level&gt;warn&lt;/level&gt;--&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--&lt;onMatch&gt;ACCEPT&lt;/onMatch&gt;--&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--&lt;onMismatch&gt;NEUTRAL&lt;/onMismatch&gt;--&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--&lt;/filter&gt;--&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--&lt;filter class="ch.qos.logback.classic.filter.LevelFilter"&gt;--&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--&lt;level&gt;error&lt;/level&gt;--&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--&lt;onMatch&gt;ACCEPT&lt;/onMatch&gt;--&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--&lt;onMismatch&gt;DENY&lt;/onMismatch&gt;--&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--&lt;/filter&gt;--&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">appender</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--&lt;root level="error"&gt;--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--&lt;appender-ref ref="console"/&gt;--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--&lt;/root&gt;--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--&lt;logger name="com.michael.springbootlogback" &gt;--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--&lt;appender-ref ref="appLogFileAppender"/&gt;--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--&lt;/logger&gt;--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">springProfile</span> <span class="attr">name</span>=<span class="string">"$&#123;logProfile&#125;"</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--&lt;logger name="org.springframework" level="info" additivity="false"&gt;&lt;/logger&gt;--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">logger</span> <span class="attr">name</span>=<span class="string">"com.michael"</span> <span class="attr">level</span>=<span class="string">"info"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">"console"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">logger</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">logger</span> <span class="attr">name</span>=<span class="string">"com.michael"</span> <span class="attr">level</span>=<span class="string">"$&#123;logFileLevel&#125;"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">"appLogFileAppender"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">logger</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">springProfile</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è¾“å‡ºåˆ° console:</p><ul><li><code>ConsoleAppender</code> éœ€è¦è®¾ç½®è¿™æ ·çš„ä¸€ä¸ª apppenderï¼Œå¦åˆ™æ—¥å¿—ä¸ä¼šæ‰“å°åˆ°æ§åˆ¶å°ï¼›</li></ul><p>è¾“å‡ºåˆ°æ–‡ä»¶ï¼š</p><ul><li><code>RollingFileAppender</code> å¯ä»¥å®ç°æ—¥å¿—çš„åˆ‡åˆ†</li><li><code>rollingPolicy</code> è®¾ç½®æ»šåŠ¨åˆ‡åˆ†çš„è§„åˆ™</li><li><code>totalSizeCap</code> ç”¨æ¥æŒ‡å®šæ—¥å¿—æ–‡ä»¶çš„ä¸Šé™å¤§å°ï¼Œè¿™ä¸ªè®¾ç½®åœ¨ <code>maxFileSize</code> ä¹‹åèµ·æ•ˆï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœä½ æ–‡ä»¶ä¸Šé™è®¾ç½®çš„æ˜¯ 1MBï¼Œä½†æ˜¯ <code>maxFileSize</code> è®¾ç½®çš„æ˜¯ 10MBï¼Œé‚£ä¹ˆï¼Œè¿™ä¸ªæ—¥å¿—æ–‡ä»¶ä¹Ÿä¼šä¿å­˜ä¸º 10MBã€‚å‡è®¾ä½  <code>maxFileSize</code> è®¾ç½®çš„æ˜¯ 1MBï¼Œ<code>totalSizeCap</code> è®¾ç½®çš„æ˜¯ 2MBï¼Œé‚£ä¹ˆä½ æ—¥å¿—æ–‡ä»¶çš„ä¸ªæ•°æœ€å¤šä¹Ÿå°± 2 ä¸ªï¼›</li><li><code>MaxHistory</code> å¯é€‰èŠ‚ç‚¹ï¼Œæ§åˆ¶ä¿ç•™çš„å½’æ¡£æ–‡ä»¶çš„æœ€å¤§æ•°é‡ï¼Œè¶…å‡ºæ•°é‡å°±åˆ é™¤æ—§æ–‡ä»¶ã€‚å‡è®¾è®¾ç½®æ¯å¤©æ»šåŠ¨ï¼Œä¸”maxHistoryæ˜¯365ï¼Œåˆ™åªä¿å­˜æœ€è¿‘365å¤©çš„æ–‡ä»¶ã€‚æˆ‘è¿˜æ˜¯å–œæ¬¢è¿™ä¸ªè®¾ç½®ï¼Œæ¯” <code>totalSizeCap</code> æ„ä¹‰æ›´æ¸…æ™°ï¼›</li></ul><p><code>&lt;root&gt;</code> å¯ä»¥åŒ…å«é›¶ä¸ªæˆ–å¤šä¸ª <code>&lt;appender-ref&gt;</code> å…ƒç´ ï¼Œæ ‡è¯†è¿™ä¸ª appender å°†ä¼šæ·»åŠ åˆ°è¿™ä¸ª logerï¼Œlogger çš„å±æ€§ï¼š</p><ul><li>name: ç”¨æ¥æŒ‡å®šå—æ­¤ loger çº¦æŸçš„æŸä¸€ä¸ªåŒ…æˆ–è€…å…·ä½“çš„æŸä¸€ä¸ªç±»ï¼Œæ²¡å†™çš„æ—¶å€™ä¼šæŠ¥é”™</li><li>levelï¼šæ—¥å¿—æ‰“å°çº§åˆ«ï¼Œå¦‚æœæœªè®¾ç½®æ­¤å±æ€§ï¼Œé‚£ä¹ˆå½“å‰ logger ä¼šç»§æ‰¿ä¸Šçº§çš„çº§åˆ«ï¼Œä¹Ÿå°±æ˜¯ root çš„çº§åˆ«ï¼›</li><li>addtivityï¼šæ˜¯å¦å‘ä¸Šçº§ loger ä¼ é€’æ‰“å°ä¿¡æ¯ã€‚é»˜è®¤æ˜¯ trueã€‚è®¾ç½®ä¸º false è¡¨ç¤ºè¯¥æ—¥å¿—æ‰“å°è®¾ç½®ï¼ˆæ§åˆ¶å°æ‰“å°è¿˜æ˜¯æ–‡ä»¶æ‰“å°ç­‰å…·ä½“è®¾ç½®ï¼‰ä¸ä¼šå‘æ ¹ root æ ‡ç­¾ä¼ é€’ï¼Œä¹Ÿå°±æ˜¯è¯´è¯¥ logger é‡Œæ€ä¹ˆè®¾ç½®çš„é‚£å°±ä¼šæ€ä¹ˆæ‰“å°ï¼Œè·Ÿ root æ— å…³</li></ul><p>root æ˜¯æ ¹ logger,æ‰€ä»¥ä»–ä¸¤æ˜¯ä¸€å›äº‹ï¼›åªä¸è¿‡ root ä¸­ä¸èƒ½æœ‰ name å’Œ additivity å±æ€§ï¼Œæ˜¯æœ‰ä¸€ä¸ª levelã€‚</p><p>appender æ˜¯ä¸€ä¸ªæ—¥å¿—æ‰“å°çš„ç»„ä»¶ï¼Œè¿™é‡Œç»„ä»¶é‡Œé¢å®šä¹‰äº†æ‰“å°è¿‡æ»¤çš„æ¡ä»¶ã€æ‰“å°è¾“å‡ºæ–¹å¼ã€æ»šåŠ¨ç­–ç•¥ã€ç¼–ç æ–¹å¼ã€æ‰“å°æ ¼å¼ç­‰ç­‰ã€‚ä½†æ˜¯å®ƒä»…ä»…æ˜¯ä¸€ä¸ªæ‰“å°ç»„ä»¶ï¼Œå¦‚æœæˆ‘ä»¬ä¸ä½¿ç”¨ä¸€ä¸ª logger æˆ–è€… root çš„ appender-ref æŒ‡å®šæŸä¸ªå…·ä½“çš„ appender æ—¶ï¼Œå®ƒå°±æ²¡æœ‰ä»€ä¹ˆæ„ä¹‰</p><h2 id="æ‰“å°æ—¥å¿—çš„æ­£ç¡®å§¿åŠ¿"><a href="#æ‰“å°æ—¥å¿—çš„æ­£ç¡®å§¿åŠ¿" class="headerlink" title="æ‰“å°æ—¥å¿—çš„æ­£ç¡®å§¿åŠ¿"></a>æ‰“å°æ—¥å¿—çš„æ­£ç¡®å§¿åŠ¿</h2><p>æˆ‘é€šè¿‡ controller ä¸­å®šä¹‰äº†ä¸€ä¸ªæ¥å£ï¼Œå¯ä»¥æ‰“å°å‡ºå„çº§åˆ«çš„é”™è¯¯ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping</span>(<span class="string">"/all"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">all</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        log.debug(<span class="string">"logger: debug"</span>);</span><br><span class="line">        log.info(<span class="string">"logger: info"</span>);</span><br><span class="line">        log.warn(<span class="string">"logger: warn"</span> + <span class="string">" é™„ä»¶ä¸ªä¿¡æ¯"</span>);</span><br><span class="line">        System.out.println(<span class="number">1</span> / <span class="number">0</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">        log.error(<span class="string">"error æ‰“å°æ–¹å¼æ¯”è¾ƒï¼Œé‡‡ç”¨ ,eï¼š"</span>, e);</span><br><span class="line">        log.error(<span class="string">"error æ‰“å°æ–¹å¼æ¯”è¾ƒï¼Œé‡‡ç”¨ +e : "</span> + e);</span><br><span class="line">        <span class="keyword">throw</span> e;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"all"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ¯”è¾ƒä¸¤ç§æ‰“å°æ—¥å¿—çš„æ–¹å¼ï¼Œæ˜¾ç¤ºæ•ˆæœæœ‰ä½•åŒºåˆ«ï¼š</p><p><img src="https://gitee.com/michael_xiang/images/raw/master/o4C3zV.png" alt="ä¼ ä¸¤ä¸ªå‚æ•°"></p><p><img src="https://gitee.com/michael_xiang/images/raw/master/qTj6el.png" alt="ä¸€ä¸ªå‚æ•°"></p><p>å¯ä»¥å‘ç°ï¼Œé€šè¿‡ <code>logger.error(&quot;xxxé”™è¯¯&quot;,e)</code> çš„æ–¹å¼æ‰“å°çš„æ—¥å¿—ä¼šæœ‰é”™è¯¯å †æ ˆä¿¡æ¯ï¼è¿™æ˜æ˜¾å¯¹åº”å®šä½é—®é¢˜æœ‰æ›´å¤§çš„å¸®åŠ©ï¼ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>{}</code> å ä½ç¬¦æ¥æ‹¼æ¥å­—ç¬¦ä¸²ï¼Œè€Œä¸éœ€è¦ä½¿ç”¨ <code>+</code> æ¥è¿æ¥å­—ç¬¦ä¸²ã€‚æ³¨æ„ï¼Œæˆ‘ä»¬è¿™é‡Œä¹Ÿæ˜¯é‡‡ç”¨çš„ slf4j æ—¥å¿—é—¨é¢çš„æ¥å£æ–¹æ³•ã€‚</p><p>å¦‚æœé‡‡ç”¨ä¸€ä¸ªå‚æ•°ï¼Œè¿™é‡Œçš„ e ä¼šè¢«è½¬ä¸º String ç±»å‹ï¼ˆè‡ªåŠ¨è°ƒç”¨ <code>toString</code> æ–¹æ³•ï¼‰</p><p>å¦‚æœä¸æ€•éº»çƒ¦ï¼Œå°±è¿™ä¹ˆå†™ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> Logger log = LoggerFactory.getLogger(<span class="keyword">this</span>.getClass());</span><br></pre></td></tr></table></figure><p>å¦‚æœæƒ³çœäº‹ï¼Œå¯ä»¥ç»“åˆ lombok æ’é”®ï¼Œåœ¨ç±»ä¸Šä½¿ç”¨ <code>@SLF4J</code> æ³¨è§£ï¼Œç„¶åä»£ç ä¸­ç›´æ¥ä½¿ç”¨ <code>log.xxx</code> æ‰“å°æ—¥å¿—å³å¯ï¼›</p><h2 id="ç¤ºä¾‹ä»£ç "><a href="#ç¤ºä¾‹ä»£ç " class="headerlink" title="ç¤ºä¾‹ä»£ç "></a>ç¤ºä¾‹ä»£ç </h2><ul><li><a href="https://github.com/Michael728/awesome-spring-boot-examples/blob/master/spring-boot-logs/src/main/resources/log4j2.xml" target="_blank" rel="noopener">awesome-spring-boot-examples</a></li></ul><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a href="https://juejin.im/post/5b51f85c5188251af91a7525" target="_blank" rel="noopener">æ˜é‡‘-glmapper-çœ‹å®Œè¿™ä¸ªä¸ä¼šé…ç½® logback ï¼Œè¯·ä½ åƒç“œï¼</a> è¿™ç¯‡æ–‡ç« ç®—æ˜¯ç›¸å½“å…¨äº†</li><li><a href="http://tengj.top/2017/04/05/springboot7/" target="_blank" rel="noopener">å˜Ÿå˜Ÿç‹¬ç«‹åšå®¢-Spring Bootå¹²è´§ç³»åˆ—ï¼šï¼ˆä¸ƒï¼‰é»˜è®¤æ—¥å¿—logbacké…ç½®è§£æ</a></li><li><a href="https://www.cnblogs.com/javalanger/p/10964603.html" target="_blank" rel="noopener">åšå®¢å›­-springbootçš„logback.xmlé…ç½®å’Œæ—¥å¿—è®°å½•</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;èƒŒæ™¯&quot;&gt;&lt;a href=&quot;#èƒŒæ™¯&quot; class=&quot;headerlink&quot; title=&quot;èƒŒæ™¯&quot;&gt;&lt;/a&gt;èƒŒæ™¯&lt;/h2&gt;&lt;p&gt;&lt;img src=&quot;https://gitee.com/michael_xiang/images/raw/master/joePal.png&quot; alt=&quot;logging.apache&quot;&gt;&lt;/p&gt;
&lt;p&gt;ä¸Šä¸€ç¯‡æ–‡ç«  &lt;a href=&quot;https://michael728.github.io/2019/08/17/java-spring-boot-logs/&quot;&gt;Spring Boot å®æˆ˜ â€”â€” æ—¥å¿—æ¡†æ¶ Log4j2 SLF4J çš„å­¦ä¹ &lt;/a&gt; ä¸­å·²ç»ä»‹ç»äº†å¸¸ç”¨çš„æ—¥å¿—æ¡†æ¶çš„æ¯”è¾ƒï¼Œæœ¬æ–‡ä»‹ç»å¦å¤–ä¸€ä¸ªä¸»æµçš„æ—¥å¿—æ¡†æ¶ &lt;a href=&quot;https://logback.qos.ch/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;logback&lt;/a&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="Java" scheme="https://michael728.github.io/categories/Java/"/>
    
    
      <category term="Java" scheme="https://michael728.github.io/tags/Java/"/>
    
      <category term="Spring Boot" scheme="https://michael728.github.io/tags/Spring-Boot/"/>
    
      <category term="æ—¥å¿—" scheme="https://michael728.github.io/tags/%E6%97%A5%E5%BF%97/"/>
    
  </entry>
  
  <entry>
    <title>Manjaro å®‰è£…ä½“éªŒå°ç»“</title>
    <link href="https://michael728.github.io/2019/08/03/linux-manjaro-install/"/>
    <id>https://michael728.github.io/2019/08/03/linux-manjaro-install/</id>
    <published>2019-08-03T12:09:28.000Z</published>
    <updated>2020-01-05T15:47:56.120Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://b2.bmp.ovh/imgs/2019/08/51f98679d299b9c0.png" alt="Manjaro"></p><h2 id="Manjaro-ç®€ä»‹"><a href="#Manjaro-ç®€ä»‹" class="headerlink" title="Manjaro ç®€ä»‹"></a>Manjaro ç®€ä»‹</h2><p><a href="https://www.manjaro.cn/category/about-manjaro-linux" target="_blank" rel="noopener">Manjaro</a> æ˜¯ä¸€æ¬¾åŸºäº Arch Linuxã€å¯¹ç”¨æˆ·å‹å¥½çš„ Linux å‘è¡Œç‰ˆã€‚åœ¨ Linux ç¤¾åŒºï¼ŒArch Linux çš„ç¡®æ˜¯ä¸€ä¸ªå¼‚å¸¸å¿«é€Ÿã€å¼ºå¤§ã€è½»é‡çº§çš„å‘è¡Œç‰ˆï¼Œå®ƒæä¾›æœ€æ–°çš„ã€æœ€å…¨çš„è½¯ä»¶ã€‚ç„¶è€Œï¼ŒArch Linux é¢å‘é«˜çº§ç”¨æˆ·ï¼Œæ™®éè®¤ä¸ºï¼Œç¼ºä¹æŠ€æœ¯ä¸“é•¿æˆ–è€…æ²¡æœ‰è€å¿ƒçš„äººæ˜¯æ— æ³•ç©è½¬ Arch Linuxçš„ã€‚</p><a id="more"></a><p>Manjaro ç”±å¥¥åœ°åˆ©ã€æ³•å›½å’Œå¾·å›½çš„çˆ±å¥½è€…å…±åŒå¼€å‘ï¼Œæä¾›äº† Arch Linux æ“ä½œç³»ç»Ÿçš„æ‰€æœ‰ä¼˜ç‚¹ï¼ŒåŒæ—¶æ³¨é‡ç”¨æˆ·å‹å¥½æ€§å’Œå¯ç”¨æ€§ã€‚ Manjaro æä¾›32ä½å’Œ64ä½ç‰ˆæœ¬ï¼Œé€‚åˆæ–°æ‰‹ä»¥åŠç»éªŒä¸°å¯Œçš„ Linux ç”¨æˆ·ã€‚</p><p>Manjaro ä¸ Arch æœ‰è®¸å¤šç›¸åŒçš„åŠŸèƒ½ï¼ŒåŒ…æ‹¬ï¼š</p><ul><li>â€œæ»šåŠ¨å‘è¡Œâ€å¼€å‘æ¨¡å¼ï¼Œå¯æä¾›æœ€æ–°çš„ç³»ç»Ÿï¼Œè€Œæ— éœ€å®‰è£…æ–°ç‰ˆæœ¬</li><li>å¯ç”¨ AUR</li></ul><p>ç„¶è€Œï¼ŒManjaro æ‹¥æœ‰è‡ªå·±çš„ä¸€äº›é¢å¤–çš„åŠŸèƒ½ï¼ŒåŒ…æ‹¬ï¼š</p><ul><li>ç®€åŒ–ã€ç”¨æˆ·å‹å¥½çš„å®‰è£…è¿‡ç¨‹</li><li>è‡ªåŠ¨æ£€æµ‹è®¡ç®—æœºçš„ç¡¬ä»¶ï¼ˆä¾‹å¦‚æ˜¾å¡ï¼‰</li><li>ä¸ºç³»ç»Ÿè‡ªåŠ¨å®‰è£…å¿…è¦çš„è½¯ä»¶ï¼ˆä¾‹å¦‚æ˜¾å¡é©±åŠ¨ç¨‹åºï¼‰</li><li>å®ƒè‡ªå·±çš„ä¸“ç”¨è½¯ä»¶ä»“åº“ï¼Œä»¥ç¡®ä¿æä¾›å®Œå…¨æµ‹è¯•è¿‡çš„ç¨³å®šçš„è½¯ä»¶åŒ…</li><li>è½»æ¾å®‰è£…å’Œä½¿ç”¨å¤šä¸ªå†…æ ¸ã€‚</li></ul><p>è¡¥å……</p><p><a href="https://wiki.archlinux.org/index.php/Arch_Linux_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87" target="_blank" rel="noopener">Arch Linuxï¼ˆæˆ– Arch /ËˆÉ‘ËrtÊƒ/)ï¼‰</a> æ˜¯ä¸€æ¬¾åŸºäº x86-64 æ¶æ„çš„ Linuxå‘è¡Œç‰ˆã€‚ç³»ç»Ÿä¸»è¦ç”±è‡ªç”±å’Œå¼€æºè½¯ä»¶ç»„æˆï¼Œæ”¯æŒç¤¾åŒºå‚ä¸ã€‚ç³»ç»Ÿè®¾è®¡ä»¥ KISS åŸåˆ™ï¼ˆä¿æŒç®€å•å’Œæ„šè ¢ï¼‰ä¸ºæ€»ä½“æŒ‡å¯¼åŸåˆ™ï¼Œæ³¨é‡ä»£ç æ­£ç¡®ã€ä¼˜é›…å’Œæç®€ä¸»ä¹‰ï¼ŒæœŸå¾…ç”¨æˆ·èƒ½å¤Ÿæ„¿æ„å»ç†è§£ç³»ç»Ÿçš„æ“ä½œã€‚Arch Linux ç³»ç»Ÿå®‰è£…ã€åˆ é™¤å’Œæ›´æ–°è½¯ä»¶çš„è½¯ä»¶åŒ…ç®¡ç†å™¨å«åš pacmanã€‚</p><p>AUR çš„å…¨ç§°æ˜¯ <code>Arch User Repository</code>ï¼Œæ˜¯ Arch Linux/Manjaro ç”¨æˆ·çš„ç¤¾åŒºé©±åŠ¨å­˜å‚¨åº“ï¼Œåˆ›å»º AUR çš„ç›®çš„æ˜¯ä½¿å…±äº«ç¤¾åŒºåŒ…çš„è¿‡ç¨‹æ›´å®¹æ˜“å’Œæœ‰æ¡ç†ã€‚ä½¿ç”¨å®ƒå¯ä»¥åœ¨ Arch Linux/Manjaro ç³»ç»Ÿä¸­å®‰è£…å’Œæ›´æ–°è½¯ä»¶åŒ…ã€‚è¿™ä¸ªè½¯ä»¶ä»“åº“çš„è½¯ä»¶åŒ…æ˜¯ç›¸å½“ä¸°å¯Œï¼Œå¯ä»¥æŸ¥çœ‹è¿™ä¸ªç½‘ç«™çš„ç»Ÿè®¡<a href="https://repology.org/repositories/statistics/total" target="_blank" rel="noopener">Repository statistics</a>ï¼Œå®ƒçš„è½¯ä»¶åˆ—è¡¨å¯ä»¥åœ¨<a href="https://aur.archlinux.org/packages/" target="_blank" rel="noopener">Archlinux AUR</a>æŸ¥çœ‹</p><p><img src="https://b2.bmp.ovh/imgs/2019/08/ebecf2400fef188c.png" alt="AUR"></p><h2 id="å®‰è£…-Manjaro"><a href="#å®‰è£…-Manjaro" class="headerlink" title="å®‰è£… Manjaro"></a>å®‰è£… Manjaro</h2><p>åŒç³»ç»ŸåŸºæœ¬çŸ¥è¯†å¦‚ä¸‹ï¼š</p><ul><li><a href="https://segmentfault.com/a/1190000014523888" target="_blank" rel="noopener">[æŠ˜è…¾æ—¥è®°]win10 ,ubuntuåŒç³»ç»Ÿå®‰è£…é¿å‘æŒ‡å—</a></li><li><a href="https://www.cnblogs.com/Duane/p/6776302.html" target="_blank" rel="noopener">Windows ä¸‹å®‰è£… Ubuntu åŒç³»ç»Ÿ(æ›´æ–°)</a></li><li><a href="https://sourceforge.net/projects/refind/" target="_blank" rel="noopener">rEFInd</a></li></ul><p>æ€»ç»“æ³¨æ„ç‚¹ï¼š</p><ul><li>è¦æ˜¯é‡åˆ°å¯åŠ¨ä¸äº†çš„é—®é¢˜ï¼Œå¯ä»¥ç”¨è€æ¯›æ¡ƒåˆ¶ä½œä¸ªUç›˜ä¿®å¤å¼•å¯¼å³å¯ï¼Œæ‰€ä»¥äº‹å…ˆå»ºè®®æä¸€ä¸ª;</li><li>åˆ¶ä½œ Manjaro Uç›˜å¯åŠ¨ç›˜ä¸€å¼€å§‹ä½¿ç”¨çš„æ˜¯ UltraISOï¼Œåæ¥æ¢æˆäº† <a href="https://rufus.ie/" target="_blank" rel="noopener">Rufus</a>ï¼Œå°± OK äº†;</li><li>å®‰è£…å¼•å¯¼æ—¶è¦é€‰æ‹©åˆ›å»ºçš„ <code>/boot</code> åˆ†åŒºï¼Œ æ­¤å¤–ï¼Œæˆ‘æ˜¯åŒç¡¬ç›˜ï¼Œä¸€å¼€å§‹æŒ‰ç…§å•ç¡¬ç›˜çš„æ–¹æ³•ï¼Œæ€ä¹ˆä¹Ÿå¯åŠ¨ä¸äº†ï¼Œåæ¥éœ€è¦åœ¨å®‰è£… Windows ç³»ç»Ÿçš„ SSD ç›˜ä¸Šåˆ’å‡ºäº† 600MB ç©ºé—´ç”¨æ¥æŒ‚è½½ <code>/boot</code> åˆ†åŒºå¹¶å®‰è£…å¼•å¯¼ï¼›</li></ul><p><a href="https://www.manjaro.cn/153" target="_blank" rel="noopener">å®˜ç½‘</a>ç³»ç»Ÿé•œåƒä¸‹è½½ï¼Œæ¨èä» <a href="https://mirrors.ustc.edu.cn/manjaro-cd/" target="_blank" rel="noopener">USTCä¸­ç§‘å¤§é•œåƒä¸‹è½½</a>å‡ ä¸ªä¸»è¦ç‰ˆæœ¬ï¼š</p><ul><li>Xfceæ˜¯ä¸€ä¸ªç”¨äºç±»UNIXæ“ä½œç³»ç»Ÿçš„è½»é‡çº§æ¡Œé¢ç¯å¢ƒã€‚å®ƒçš„ç›®æ ‡æ˜¯å¿«é€Ÿå’Œç³»ç»Ÿèµ„æºä½è€—ï¼ŒåŒæ—¶ä»ç„¶ä¿æŒè§†è§‰ä¸Šçš„å¸å¼•åŠ›å’Œå¯¹ç”¨æˆ·å‹å¥½çš„ç‰¹æ€§ã€‚æ‰€ä»¥ï¼Œå®¶é‡Œå¦å¤–ä¸€å°ä½é…ç½®çš„æ—§ç¬”è®°æœ¬ï¼Œæˆ‘å®‰è£…äº†è¿™ä¸ªç‰ˆæœ¬ã€‚</li><li>KDEæ˜¯ä¸€ä¸ªåŠŸèƒ½ä¸°å¯Œå¤šæ ·çš„æ¡Œé¢ç¯å¢ƒï¼Œæä¾›å‡ ç§ä¸åŒé£æ ¼çš„èœå•æ¥è®¿é—®åº”ç”¨ç¨‹åºã€‚è¿˜æœ‰ä¸€ä¸ªä¼˜ç§€çš„å†…ç½®ç•Œé¢ï¼Œå¯ä»¥æ–¹ä¾¿åœ°è®¿é—®ã€ä¸‹è½½ã€å®‰è£…æ–°çš„ä¸»é¢˜ã€å°éƒ¨ä»¶ç­‰ã€‚ è™½ç„¶åœ¨ç”¨æˆ·å‹å¥½åº¦ä¸Šåšçš„éå¸¸å¥½ï¼Œä½†KDEä¹Ÿæ˜¯ç›¸å½“æ¶ˆè€—ç³»ç»Ÿèµ„æºçš„ï¼Œè·ŸXFCEæ¯”è¾ƒèµ·æ¥ï¼Œå¯åŠ¨ç¨‹åºã€ä½¿ç”¨æ¡Œé¢ç¯å¢ƒéƒ½æ˜æ˜¾åæ…¢ã€‚è¿è¡Œ Manjaro çš„ 64 ä½ KDE æ¡Œé¢ä½¿ç”¨å¤§çº¦éœ€è¦ 550MB çš„å†…å­˜ã€‚æˆ‘è‡ªå·±çš„å°±ç¬”è®°æœ¬é…ç½®è¿˜å¯ä»¥ï¼Œå°±å®‰è£…äº†è¿™ä¸ªç‰ˆæœ¬ï¼Œç¡®å®å¾ˆæ˜“ç”¨ï¼</li><li>GNOMEæ¡Œé¢ç¯å¢ƒæ˜¯ä½œä¸ºGNUé¡¹ç›®çš„ä¸€éƒ¨åˆ†æ¥å¼€å‘çš„ï¼Œå®ƒæ—¨åœ¨ç®€å•æ˜“ç”¨ï¼Œå¹¶ä¸”å®Œå…¨å¯ç”¨ã€‚</li></ul><p>æˆ‘ä»å¦å¤–ä¸€å—æœºæ¢°ç¡¬ç›˜ä¸Šåˆ’åˆ†äº† 100GB ç©ºé—´ç”¨æ¥å®‰è£…ï¼Œåˆ†åŒºå‚è€ƒï¼š</p><table><thead><tr><th>å¤§å°</th><th>æŒ‚è½½ç‚¹</th><th>ç”¨é€”</th></tr></thead><tbody><tr><td>40G</td><td><code>/</code></td><td>ç”¨äºå­˜æ”¾ç³»ç»Ÿç›¸å½“äºwin10çš„Cç›˜</td></tr><tr><td>8G</td><td><code>/swap</code></td><td>ä¸€èˆ¬è®¾ä¸ºç”µè„‘å†…å­˜å¤§å°æˆ–2å€</td></tr><tr><td>600MB</td><td><code>/boot</code></td><td>å¼•å¯¼åˆ†åŒº</td></tr><tr><td>æ‰€æœ‰å‰©ä½™çš„ç©ºé—´</td><td><code>/home</code></td><td>ç”¨æˆ·å­˜å‚¨æ•°æ®ç”¨</td></tr></tbody></table><h2 id="æº"><a href="#æº" class="headerlink" title="æº"></a>æº</h2><p>é…ç½®ä¸­å›½çš„ <code>mirrors</code>ï¼Œåœ¨ ç»ˆç«¯ æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ä»å®˜æ–¹çš„æºåˆ—è¡¨ä¸­å¯¹ä¸­å›½æºè¿›è¡Œæµ‹é€Ÿå’Œè®¾ç½®ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman-mirrors -g  # æ’åˆ—æºï¼Œå¯ä¸æ‰§è¡Œ</span><br><span class="line">sudo pacman-mirrors -c China -m rank # æ›´æ”¹æºï¼Œåœ¨è·³å‡ºçš„å¯¹è¯æ¡†é‡Œé€‰æ‹©æƒ³è¦çš„æº</span><br></pre></td></tr></table></figure><p>ä¸º Manjaro å¢åŠ ä¸­æ–‡ç¤¾åŒºçš„æºæ¥åŠ é€Ÿå®‰è£…è½¯ä»¶ï¼Œåœ¨ <code>/etc/pacman.conf</code> ä¸­æ·»åŠ  <code>archlinuxcn</code> æºï¼Œæœ«å°¾åŠ ä¸Šï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[archlinuxcn]</span><br><span class="line">SigLevel = Optional TrustedOnly</span><br><span class="line">Server = https://mirrors.tuna.tsinghua.edu.cn/archlinuxcn/$arch</span><br></pre></td></tr></table></figure><p>å®‰è£… <code>archlinuxcn-keyring</code> åŒ…ä»¥å¯¼å…¥ <code>GPG key</code>ï¼Œå¦åˆ™çš„è¯ key éªŒè¯å¤±è´¥ä¼šæ— æ³•å®‰è£…ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S archlinuxcn-keyring</span><br></pre></td></tr></table></figure><p>åŒæ­¥å¹¶æ›´æ–°ç³»ç»Ÿï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -Syyu</span><br></pre></td></tr></table></figure><h2 id="è¾“å…¥æ³•"><a href="#è¾“å…¥æ³•" class="headerlink" title="è¾“å…¥æ³•"></a>è¾“å…¥æ³•</h2><p>fcitx æ˜¯ Free Chinese Input Toy for X çš„ç¼©å†™ï¼Œå›½å†…ä¹Ÿå¸¸ç§°ä½œå°ä¼é¹…è¾“å…¥æ³•ï¼Œæ˜¯ä¸€æ¬¾ Linux ä¸‹çš„ä¸­æ–‡è¾“å…¥æ³•:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S fcitx-googlepinyin</span><br><span class="line">sudo pacman -S fcitx-im # é€‰æ‹©å…¨éƒ¨å®‰è£…</span><br><span class="line">sudo pacman -S fcitx-configtool # å®‰è£…å›¾å½¢åŒ–é…ç½®å·¥å…·</span><br><span class="line">sudo pacman -S fcitx-skin-material</span><br></pre></td></tr></table></figure><p>è§£å†³ä¸­æ–‡è¾“å…¥æ³•æ— æ³•åˆ‡æ¢é—®é¢˜: æ·»åŠ æ–‡ä»¶ <code>~/.xprofile</code>ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">export GTK_MODULE=fcitx</span><br><span class="line">export QT_IM_MODULE=fcitx</span><br><span class="line">export XMODIFIERS="@im=fcitx"</span><br></pre></td></tr></table></figure><blockquote><p>è¾“å…¥æ³•éœ€è¦é‡å¯ç”Ÿæ•ˆ</p></blockquote><h2 id="pacman"><a href="#pacman" class="headerlink" title="pacman"></a>pacman</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S è½¯ä»¶åã€€# å®‰è£…</span><br><span class="line">sudo pacman -R è½¯ä»¶åã€€# åˆ é™¤å•ä¸ªè½¯ä»¶åŒ…ï¼Œä¿ç•™å…¶å…¨éƒ¨å·²ç»å®‰è£…çš„ä¾èµ–å…³ç³»</span><br><span class="line">sudo pacman -Rs è½¯ä»¶å # é™¤æŒ‡å®šè½¯ä»¶åŒ…ï¼ŒåŠå…¶æ‰€æœ‰æ²¡æœ‰è¢«å…¶ä»–å·²å®‰è£…è½¯ä»¶åŒ…ä½¿ç”¨çš„ä¾èµ–å…³ç³»</span><br><span class="line">sudo pacman -Ss è½¯ä»¶å  # æŸ¥æ‰¾è½¯ä»¶</span><br><span class="line">sudo pacman -Sc # æ¸…ç©ºå¹¶ä¸”ä¸‹è½½æ–°æ•°æ®</span><br><span class="line">sudo pacman -Syuã€€# å‡çº§æ‰€æœ‰è½¯ä»¶åŒ…</span><br><span class="line">sudo pacman -Qs # æœç´¢å·²å®‰è£…çš„åŒ…</span><br></pre></td></tr></table></figure><h2 id="yay"><a href="#yay" class="headerlink" title="yay"></a>yay</h2><p>Yay æ˜¯ç”¨ Go ç¼–å†™çš„ Arch Linux AUR åŒ…ç®¡ç†å·¥å…·ã€‚å…·ä½“å¯ä»¥æŸ¥çœ‹ <a href="https://wiki.archlinux.org/index.php/AUR_helpers" target="_blank" rel="noopener">Arch Wiki</a></p><div class="note warning">            <p>æ³¨æ„ï¼šå¾ˆå¤šæ•™ç¨‹æ¯”è¾ƒè€äº†ï¼Œyaourt ç›®å‰å·²ç»åœæ­¢ç»´æŠ¤ï¼Œç”¨æˆ·å¯ä»¥è€ƒè™‘è¿ç§»åˆ° aurman æˆ– yayï¼Œ</p>          </div><p>å®‰è£… yayï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S yay</span><br></pre></td></tr></table></figure><p>é…ç½® yay çš„ aur æºä¸º<a href="https://mirror.tuna.tsinghua.edu.cn/help/AUR/" target="_blank" rel="noopener">æ¸…åæº AUR é•œåƒ</a>ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yay --aururl "https://aur.tuna.tsinghua.edu.cn" --save</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹çš„é…ç½®æ–‡ä»¶ä½äº <code>~/.config/yay/config.json</code> ï¼Œè¿˜å¯é€šè¿‡ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹ä¿®æ”¹è¿‡çš„é…ç½®:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yay -P -g</span><br></pre></td></tr></table></figure><p>yay çš„å¸¸ç”¨å‘½ä»¤ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">yay -S package # ä» AUR å®‰è£…è½¯ä»¶åŒ…</span><br><span class="line">yay -Rns package # åˆ é™¤åŒ…</span><br><span class="line">yay -Syu # å‡çº§æ‰€æœ‰å·²å®‰è£…çš„åŒ…</span><br><span class="line">yay -Ps # æ‰“å°ç³»ç»Ÿç»Ÿè®¡ä¿¡æ¯</span><br><span class="line">yay -Qi package # æ£€æŸ¥å®‰è£…çš„ç‰ˆæœ¬</span><br></pre></td></tr></table></figure><p>yay å®‰è£…å‘½ä»¤ä¸éœ€è¦åŠ  <code>sudo</code>ã€‚</p><h2 id="Git"><a href="#Git" class="headerlink" title="Git"></a>Git</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name "Michael728"</span><br><span class="line">git config --global user.email "649168982@qq.com"</span><br><span class="line">ssh-keygen -t rst -C "649168982@qq.com"</span><br></pre></td></tr></table></figure><h2 id="zsh"><a href="#zsh" class="headerlink" title="zsh"></a>zsh</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S zsh # å®‰è£…zsh</span><br><span class="line">echo $SHELL # æŸ¥çœ‹å¤§æ¦‚å¹´å‰ shell</span><br><span class="line">chsh -s /bin/zsh # ä¿®æ”¹é»˜è®¤shellï¼Œè¿™ä¸ªæ˜¯ä¿®æ”¹å½“å‰ç”¨æˆ·çš„ç»ˆç«¯ï¼Œå¦‚æœè¦ä¿®æ”¹ root è´¦æˆ·ï¼Œéœ€è¦åˆ‡æ¢åˆ° rootç”¨æˆ·</span><br><span class="line">wget https://github.com/robbyrussell/oh-my-zsh/raw/master/tools/install.sh -O - | sh</span><br><span class="line">sudo pacman -S autojump</span><br><span class="line">git clone https://github.com/zsh-users/zsh-syntax-highlighting.git $&#123;ZSH_CUSTOM:-~/.oh-my-zsh/custom&#125;/plugins/zsh-syntax-highlighting</span><br></pre></td></tr></table></figure><blockquote><p>éœ€è¦é‡å¯ç”Ÿæ•ˆ</p></blockquote><p>å…·ä½“çš„ zsh é…ç½®æ•™ç¨‹ï¼Œå¯ä»¥é˜…è¯»ä¹‹å‰çš„æ€»ç»“ï¼š</p><ul><li><a href="https://michael728.github.io/2018/03/11/tools-zsh-tutorial/">zsh+on-my-zshé…ç½®æ•™ç¨‹æŒ‡å—ï¼ˆç¨‹åºå‘˜å¿…å¤‡ï¼‰</a></li></ul><h2 id="ss"><a href="#ss" class="headerlink" title="ss"></a>ss</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S shadowsocks-qt5</span><br></pre></td></tr></table></figure><p><img src="https://b2.bmp.ovh/imgs/2019/08/597e3675620adb9c.png" alt="ss"></p><p>ä¸Šé¢æ˜¯å®‰è£…äº†ä¸€ä¸ª ss çš„å®¢æˆ·ç«¯ï¼Œç¼–è¾‘æ·»åŠ å¥½å¸å·ä¹‹åï¼Œè¿˜éœ€è¦è®¾ç½®ä¸€ä¸‹ç«¯å£è½¬å‘è®¾ç½®ä¹‹åï¼Œæµè§ˆå™¨è®¿é—®æ‰ OKï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S privoxy # å®‰è£…ä»£ç†è½¬å‘ï¼Œç”¨äºå°† socks5 ä»£ç†è½¬æ¢ä¸º http ä»£ç†</span><br><span class="line">sudo bash -c 'echo "forward-socks5 / 127.0.0.1:1080 ." &gt;&gt; /etc/privoxy/config'</span><br><span class="line">git config --global http.proxy 'socks5://127.0.0.1:1080'</span><br><span class="line">git config --global https.proxy 'socks5://127.0.0.1:1080'</span><br><span class="line">sudo systemctl start privoxy.service</span><br></pre></td></tr></table></figure><p>æ¥ç€ï¼Œä½ è¿˜éœ€è¦å»è®¾ç½®ç½‘ç»œä»£ç†ï¼šç³»ç»Ÿè®¾ç½®-ã€‹ç½‘ç»œ-ã€‹è®¾ç½®-ã€‹ä»£ç†ï¼Œ<code>socksä»£ç†</code> é‚£é‡Œè¿›è¡Œé…ç½® <code>127.0.0.1:1080</code>ã€‚</p><div class="note warning">            <p>å¾ˆå¤šç½‘ä¸Šçš„æ•™ç¨‹éƒ½è¯´éœ€è¦å†å®‰è£…ä¸€ä¸ª <code>switchyomega</code> æ’ä»¶ï¼Œäº‹å®ä¸Šï¼Œæœ€æ–°ç‰ˆæœ¬çš„ <code>Chrome</code> å·²ç»ä¸æ”¯æŒç›´æ¥æ‹–åŠ¨ <code>crx</code> æ–‡ä»¶å®‰è£…æ’ä»¶äº†ã€‚</p>          </div><p>è¿™æ—¶å€™æµè§ˆå™¨ç½‘ç»œå…¶å®å·²ç» OK äº†ï¼Œè®¿é—® Google ä¹Ÿæ­£å¸¸ã€‚ä½ ä¼šå‘ç°è®¿é—®å›½å†…ç½‘ç«™é€Ÿåº¦å¹¶ä¸å¥½ï¼Œè¿™æ˜¯å› ä¸ºå›½å†…ç½‘ç«™ä¸èµ°ä»£ç†å…¶å®ç½‘é€Ÿæ›´å¥½ï¼è¿™æ—¶å€™å®ç°è‡ªåŠ¨çš„åˆ‡æ¢ï¼Œå°±å¯ä»¥åœ¨ä¸Šé¢çš„è®¾ç½®ä¹‹åï¼Œå» Google åº”ç”¨å•†åº—å®‰è£…å¥½ <a href="https://chrome.google.com/webstore/detail/proxy-switchyomega/padekgcemlokbadohgkifijomclgjgif" target="_blank" rel="noopener">proxy-switchyomega</a> æ‰©å±•ã€‚</p><p>è¿›è¡Œè®¾ç½®ä¸»è¦æœ‰ 3 ç‚¹ï¼š</p><ol><li>æƒ…æ™¯æ¨¡å¼ä¸­ï¼Œproxy é…ç½®ä¸Š <code>socks5</code> çš„ä»£ç†ï¼›</li><li>æƒ…æ™¯æ¨¡å¼ä¸­ï¼Œ<code>auto switch</code> ä¸­ï¼Œé¦–å…ˆå‹¾é€‰ä¸Š <code>è§„åˆ™åˆ—è¡¨è¡¨è§„åˆ™</code> èµ° <code>proxy</code>ï¼</li><li>è§„åˆ™åˆ—è¡¨è®¾ç½®ï¼Œåœ¨ <code>autoproxy</code> ä¸­ï¼Œè¾“å…¥è§„åˆ™ç±»è¡¨ç½‘å€ï¼š<code>https://raw.githubusercontent.com/gfwlist/gfwlist/master/gfwlist.txt</code>ï¼Œç„¶åæ›´æ–°ï¼Œè¿™æ ·åœ¨è§„åˆ™åˆ—è¡¨ä¸­çš„ç½‘ç«™å°±ä¼šèµ°ä¸Šé¢çš„ä»£ç†äº†ï¼›</li></ol><p><img src="https://b2.bmp.ovh/imgs/2019/08/71ba9d75e93749c6.png" alt="auto switch"></p><p>å®‰è£…å¹¶è®¾ç½®å¥½è¿™ä¸ªæ‰©å±•æ’ä»¶ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ç³»ç»Ÿè®¾ç½®-ã€‹ç½‘ç»œ-ã€‹è®¾ç½®-ã€‹ä»£ç†ä¸­ï¼Œæ¢å¤é»˜è®¤é…ç½®ã€‚è¿™æ ·åœ¨æµè§ˆå™¨ä¸­ï¼Œè¿™ä¸ªæ‰©å±•é€‰ä¸­ <code>auto switch</code> å®ƒä¼šè‡ªåŠ¨åˆ¤æ–­æ˜¯å¦èµ°ä»£ç†ã€‚</p><h3 id="ç»ˆç«¯ä»£ç†"><a href="#ç»ˆç«¯ä»£ç†" class="headerlink" title="ç»ˆç«¯ä»£ç†"></a>ç»ˆç«¯ä»£ç†</h3><p>ç»ˆç«¯ä»£ç†å®‰è£… <code>proxychain-ng</code>ï¼Œ<code>sudo pacman -S proxychains-ng</code> å®‰è£…ï¼Œé…ç½®ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /etc/proxychains.conf # æ·»åŠ å¦‚ä¸‹å†…å®¹</span><br><span class="line">socks5 127.0.0.1 1080</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨æ—¶åœ¨éœ€è¦ä»£ç†çš„å‘½ä»¤å‰åŠ  <code>proxychains4</code> å°±å¯ä»¥äº†ï¼Œä¾‹å¦‚ï¼š<code>proxychains4 ping www.google.com</code></p><p>å½“ç„¶ï¼Œç«¯å£è½¬å‘è½¯ä»¶è¿˜æœ‰ <code>polipo</code></p><ul><li><a href="https://www.cnblogs.com/demonxian3/p/9259912.html" target="_blank" rel="noopener">æ•™ç¨‹</a>ä»‹ç»çš„ï¼Œ </li><li><a href="https://skyao.io/learning-linux-mint/daily/network/polipo.html" target="_blank" rel="noopener">polipo</a></li></ul><p><code>sudo vim /etc/polipo/config</code>ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">socksParentProxy = "localhost:1080"</span><br><span class="line">socksProxyType = socks5</span><br><span class="line">proxyAddress = "0.0.0.0"</span><br></pre></td></tr></table></figure><p>ç„¶åé‡å¯ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl start polipo</span><br></pre></td></tr></table></figure><p>è¿˜æœ‰ä¸€ç¯‡æ•™ç¨‹:</p><ul><li><a href="http://www.iamlightsmile.com/articles/%E4%BA%BA%E7%94%9F%E8%8B%A6%E7%9F%AD%EF%BC%8C%E6%88%91%E7%94%A8Manjaro%EF%BC%81/" target="_blank" rel="noopener">iamlightsmileâ€”â€”äººç”Ÿè‹¦çŸ­ï¼Œæˆ‘ç”¨Manjaroï¼</a>æåˆ°äº† pac ä»£ç†ï¼š</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo pip install genpac</span><br><span class="line">genpac --proxy="SOCKS5 127.0.0.1:1080" --gfwlist-proxy="SOCKS5 127.0.0.1:1080" -o autoproxy.pac --gfwlist-url="https://raw.githubusercontent.com/gfwlist/gfwlist/master/gfwlist.txt" # ç”Ÿæˆ pac æ–‡ä»¶</span><br><span class="line">genpac --pac-proxy "SOCKS5 127.0.0.1:1080" --gfwlist-proxy="SOCKS5 127.0.0.1:1080" --gfwlist-url="https://raw.githubusercontent.com/gfwlist/gfwlist/master/gfwlist.txt" --output="/home/michael/.config/PAC/gfw_whitelist/whitelist.pac"</span><br></pre></td></tr></table></figure><p>åœ¨è®¾ç½®â€”&gt;ç½‘ç»œè®¾ç½®â€”&gt;ä»£ç†è®¾ç½®ä¸­é€‰æ‹©è‡ªåŠ¨ä»£ç†ï¼ŒURL å¡«å†™ç”Ÿæˆçš„ PAC æ–‡ä»¶åœ°å€ï¼Œfile://æ–‡ä»¶è·¯å¾„/æ–‡ä»¶å(å¯ä»¥ç›´æ¥æŠŠæ–‡ä»¶æ‹–åˆ°URLæ )ã€‚</p><p>è¡¥å……ï¼š</p><p><code>electron-ssr</code> è¿™æ¬¾ä¹Ÿæ˜¯ ss è½¯ä»¶ï¼Œå°±æ˜¯æ²¡æœ‰æ”¯æŒçš„åŠ å¯†ç®—æ³•ï¼Œå°±æ²¡ç”¨ï¼Œè¿™æ˜¯è¿™æ¬¾è½¯ä»¶çš„å¼€å‘è€…çš„åšå®¢ <a href="https://erguotou.me/develop-electron-ssr.html" target="_blank" rel="noopener">è®°å½•åœ¨å¼€å‘electron-ssrè¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜</a>ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yay -S electron-ssr</span><br></pre></td></tr></table></figure><h2 id="å®‰è£…ä¸­æ–‡å­—ä½“"><a href="#å®‰è£…ä¸­æ–‡å­—ä½“" class="headerlink" title="å®‰è£…ä¸­æ–‡å­—ä½“"></a>å®‰è£…ä¸­æ–‡å­—ä½“</h2><p>ä¸ºå•¥ä¼šçªå‡ºä¸€ä¸‹è¦å®‰è£…ä¸­æ¬§ç»™ä½ é—®å­—ä½“å‘¢ï¼Œå› ä¸ºæˆ‘ä½¿ç”¨è¿‡ç¨‹å‘ç°ç³»ç»Ÿé‡Œçš„ä¸­æ–‡å­—å˜æˆäº†ä¸€ä¸ªä¸ªå°ç™½æ–¹æ¡†çš„æ ¼å­ï¼Œå®‰è£…å¥½ä¸­æ–‡å­—ä½“å¹¶é‡å¯åï¼Œå°±æ˜¾ç¤ºæ­£å¸¸äº†ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S wqy-zenhei</span><br><span class="line">sudo pacman -S wqy-bitmapfont</span><br><span class="line">sudo pacman -S wqy-microhei</span><br><span class="line">sudo pacman -S ttf-wps-fonts</span><br><span class="line">sudo pacman -S adobe-source-han-sans-cn-fonts</span><br><span class="line">sudo pacman -S adobe-source-han-serif-cn-fonts</span><br></pre></td></tr></table></figure><h2 id="å¸¸ç”¨è½¯ä»¶"><a href="#å¸¸ç”¨è½¯ä»¶" class="headerlink" title="å¸¸ç”¨è½¯ä»¶"></a>å¸¸ç”¨è½¯ä»¶</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> deepin ç³»çš„è½¯ä»¶</span><br><span class="line">sudo pacman -S deepin-picker # æ·±åº¦å–è‰²å™¨</span><br><span class="line">sudo pacman -S deepin-screen-recorder # å½•å±è½¯ä»¶ï¼Œå¯ä»¥å½•åˆ¶ Gif æˆ–è€… MP4 æ ¼å¼</span><br><span class="line">sudo pacman -S deepin-screenshot # æ·±åº¦æˆªå›¾</span><br><span class="line">sudo pacman -S deepin-system-monitor # ç³»ç»ŸçŠ¶æ€ç›‘æ§</span><br><span class="line">yay -s deepin-wine-wechat</span><br><span class="line">yay -S deepin-wine-tim</span><br><span class="line">yay -S deepin-wine-baidupan</span><br><span class="line">yay -S deepin.com.thunderspeed</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> å¼€å‘è½¯ä»¶</span><br><span class="line">sudo pacman -S jdk8-openjdk</span><br><span class="line">sudo pacman -S make</span><br><span class="line">sudo pacman -S cmake</span><br><span class="line">sudo pacman -S clang</span><br><span class="line">sudo pacman -S nodejs</span><br><span class="line">sudo pacman -S npm</span><br><span class="line">sudo pacman -S goland</span><br><span class="line">sudo pacman -S vim</span><br><span class="line">sudo pacman -S maven</span><br><span class="line">sudo pacman -S pycharm-professional # Python IDE</span><br><span class="line">sudo pacman -S intellij-idea-ultimate-edition # JAVA IDE</span><br><span class="line">sudo pacman -S goland # Go IDE</span><br><span class="line">sudo pacman -S visual-studio-code-bin # vscode</span><br><span class="line">sudo pacman -S qtcreator # ä¸€æ¬¾QTå¼€å‘è½¯ä»¶</span><br><span class="line">sudo pacman -S postman-bin</span><br><span class="line">sudo pacman -S insomnia # RESTæ¨¡æ‹Ÿå·¥å…·</span><br><span class="line">sudo pacman -S gitkraken # GITç®¡ç†å·¥å…·</span><br><span class="line">sudo pacman -S wireshark-qt # æŠ“åŒ…</span><br><span class="line">sudo pacman -S zeal</span><br><span class="line">sudo pacman -S gitkraken # Git ç®¡ç†å·¥å…·</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> åŠå…¬è½¯ä»¶</span><br><span class="line">sudo pacman -S google-chrome</span><br><span class="line">sudo pacman -S foxitreader # pdf é˜…è¯»</span><br><span class="line">sudo pacman -S bookworm # ç”µå­ä¹¦é˜…è¯»</span><br><span class="line">sudo pacman -S unrar unzip p7zip</span><br><span class="line">sudo pacman -S goldendict # ç¿»è¯‘ã€å–è¯</span><br><span class="line">sudo pacman -S wps-office</span><br><span class="line">yay -S typora # markdown ç¼–è¾‘</span><br><span class="line">yay -S electron-ssr # ç¼ºå°‘æˆ‘éœ€è¦çš„åŠ å¯†ç®—æ³•</span><br><span class="line">yay -S xmind</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> è®¾è®¡</span><br><span class="line">sudo pacman -S pencil # å…è´¹å¼€æºç•Œé¢åŸå‹å›¾ç»˜åˆ¶å·¥å…·</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> å¨±ä¹è½¯ä»¶</span><br><span class="line">sudo pacman -S netease-cloud-music</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> ä¸‹è½½è½¯ä»¶</span><br><span class="line">sudo pacman -S aria2</span><br><span class="line">sudo pacman -S filezilla  # FTP/SFTP</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> å›¾å½¢</span><br><span class="line">sudo pacman -S gimp # ä¿®å›¾</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> ç³»ç»Ÿå·¥å…·</span><br><span class="line">sudo pacman -S albert #ç±»ä¼¼Mac Spotlightï¼Œå¦å¤–ä¸€æ¬¾https://cerebroapp.com/</span><br><span class="line">yay -S copyq #  å‰ªè´´æ¿å·¥å…·ï¼Œç±»ä¼¼ Windows ä¸Šçš„ Ditto</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> ç»ˆç«¯</span><br><span class="line">sudo pacman -S screenfetch # ç»ˆç«¯æ‰“å°å‡ºä½ çš„ç³»ç»Ÿä¿¡æ¯ï¼Œscreenfetch -A 'Arch Linux'</span><br><span class="line">sudo pacman -S htop</span><br><span class="line">sudo pacman -S bat</span><br><span class="line">sudo pacman -S yakuake # å ªç§° KDE ä¸‹çš„ç»ˆç«¯ç¥å™¨ï¼ŒKDE å·²ç»è‡ªå¸¦ï¼ŒF12 å¯ä»¥å”¤é†’</span><br><span class="line">sudo pacman -S net-tools # è¿™æ ·å¯ä»¥ä½¿ç”¨ ifconfig å’Œ netstat</span><br><span class="line">yay -S tldr</span><br><span class="line">yay -S tig # å‘½ä»¤è¡Œä¸‹çš„ git å†å²æŸ¥çœ‹å·¥å…·</span><br><span class="line">yay -S tree</span><br><span class="line">yay -S ncdu # å‘½ä»¤è¡Œä¸‹çš„ç£ç›˜åˆ†æå™¨ï¼Œæ”¯æŒVimæ“ä½œ</span><br><span class="line">yay -S mosh # ä¸€æ¬¾é€Ÿåº¦æ›´å¿«çš„ ssh å·¥å…·ï¼Œç½‘ç»œä¸ç¨³å®šæ—¶ä½¿ç”¨æœ‰å¥‡æ•ˆ</span><br></pre></td></tr></table></figure><h3 id="chrome"><a href="#chrome" class="headerlink" title="chrome"></a>chrome</h3><p><a href="https://xyz1001.xyz/articles/1418.html" target="_blank" rel="noopener">è¿™ç¯‡æ–‡ç« </a>ä»‹ç»äº†ä¸€ä¸ªä»¥ä»£ç†æ¨¡å¼å¯åŠ¨ Chrome çš„æ–¹æ³•:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">google-chrome-stable --proxy-server=socks5://127.0.0.1:1080</span><br></pre></td></tr></table></figure><h3 id="wireshark-qt"><a href="#wireshark-qt" class="headerlink" title="wireshark-qt"></a>wireshark-qt</h3><p>Wireshark æ˜¯ä¸€æ¬¾å…è´¹å¼€æºçš„åŒ…åˆ†æå™¨ï¼Œå¯ç”¨äºç½‘ç»œæ’é”™ã€ç½‘ç»œåˆ†æã€è½¯ä»¶å’Œé€šè®¯åè®®å¼€å‘ä»¥åŠæ•™å­¦ç­‰ã€‚ç„¶è€Œä¸å¹¸çš„æ˜¯å®˜æ–¹ç½‘ç«™ä¸Šä»…æä¾›äº† Windows å’Œ MacOS çš„ç‰ˆæœ¬ã€‚ä¸è¿‡ä¸ç”¨æ‹…å¿ƒï¼Œä½ ä¾ç„¶å¯ä»¥ä½¿ç”¨ pacman ç›´æ¥ä» Arch çš„ community è½¯ä»¶æºé‡Œç›´æ¥å®‰è£… wireshark-qt ã€‚wireshark-qt å°±æ˜¯ç”¨ qt åšæˆçš„ wireshark å‰ç«¯ç•Œé¢ï¼Œå®ƒä¾èµ–äºç»ˆç«¯ç‰ˆçš„ wireshark-cli ã€‚</p><p>è¿™é‡Œæç¤ºä¸€ç‚¹ï¼š é€šå¸¸ç›´æ¥å®‰è£…å®Œåå¯åŠ¨ wireshark ä¼šæç¤º <code>/usr/bin/dumpcap</code> æ— æƒé™ï¼Œæœ‰äº›ç”¨æˆ·ä¼šå› æ­¤é€‰æ‹©åœ¨å‘½ä»¤è¡Œé‡Œ <code>sudo wireshark</code> æ‰“å¼€ wiresharkï¼Œè¿™å…¶å®å¾ˆä¸å®‰å…¨ã€‚æ­£ç¡®åšæ³•æ˜¯è¿è¡Œå‘½ä»¤ <code>gpasswd -a username wireshark</code> ç„¶åé‡æ–°å¯åŠ¨ï¼Œè¯¦æƒ…å¯ä»¥å‚è§ Arch Wiki ã€‚</p><h3 id="Maven"><a href="#Maven" class="headerlink" title="Maven"></a>Maven</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp /opt/maven/conf/settings.xml /opt/maven/conf/settings.xml.backup</span><br></pre></td></tr></table></figure><p>ç„¶ååœ¨ <a href="https://mirrors.huaweicloud.com" target="_blank" rel="noopener">åä¸ºäº‘é•œåƒ</a> æŒ‰ç…§æŒ‡å¯¼é…ç½® Maven é•œåƒå°±å¯ä»¥äº†</p><h3 id="MySQL-Workbench"><a href="#MySQL-Workbench" class="headerlink" title="MySQL Workbench"></a>MySQL Workbench</h3><p>MySQL Workbenchåœ¨archlinuxä¸­å‡ºç° <code>Could not store password: The name org.freedesktop.secrets was not provided by any .service files</code> çš„é”™è¯¯</p><p>è§£å†³æ–¹æ¡ˆæ˜¯å®‰è£… <code>gnome-keyring</code> åŒ…ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S gnome-keyring</span><br></pre></td></tr></table></figure><p><img src="https://b2.bmp.ovh/imgs/2019/08/651c66b3d3a3f4ff.png" alt="MySQL Workbench"></p><p>å†™ SQL è¯­å¥ï¼Œè®°å¾—è¦å…ˆåŠ ä¸Š <code>use &lt;schema&gt;;</code> ï¼Œå¦åˆ™å¯æŸ¥ä¸å‡ºç»“æœã€‚</p><p>è‡³äºæ€ä¹ˆåœ¨ Manjaro ä¸Šå®‰è£… MySQL å‘¢ï¼Ÿæˆ‘é€‰æ‹©ä½¿ç”¨ Docker å®‰è£…ï¼Œå¯ä»¥å‚è€ƒä¹‹å‰å†™çš„ä¸€ç¯‡æ–‡ç« ï¼š</p><ul><li><a href="https://michael728.github.io/2019/06/02/docker-create-develop-environment/">ä½¿ç”¨å®¹å™¨ Docker åˆ›å»ºå¼€å‘ç¯å¢ƒ</a></li></ul><h2 id="ç³»ç»Ÿè®¾ç½®"><a href="#ç³»ç»Ÿè®¾ç½®" class="headerlink" title="ç³»ç»Ÿè®¾ç½®"></a>ç³»ç»Ÿè®¾ç½®</h2><h3 id="Dolphin"><a href="#Dolphin" class="headerlink" title="Dolphin"></a>Dolphin</h3><p>Dolphin æ˜¯ KDE ä¸‹é»˜è®¤çš„æ–‡ä»¶ç®¡ç†å™¨ã€‚</p><ul><li>åœ¨ç³»ç»Ÿè®¾ç½®-ã€‹æ¡Œé¢è¡Œä¸º-ã€‹å·¥ä½œç©ºé—´-ã€‹ç‚¹å‡»è¡Œä¸ºï¼Œå‹¾é€‰â€åŒå‡»æ‰“å¼€æ–‡ä»¶å’Œæ–‡ä»¶å¤¹â€œï¼›</li><li>åœ¨èœå•ä¸­æœç´¢â€å¸¸è§„â€œ-ã€‹ç¡®è®¤ï¼Œå‹¾é€‰â€å°†æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹ç§»è‡³å›æ”¶ç«™â€œï¼›</li></ul><h3 id="é»˜è®¤ç¨‹åº"><a href="#é»˜è®¤ç¨‹åº" class="headerlink" title="é»˜è®¤ç¨‹åº"></a>é»˜è®¤ç¨‹åº</h3><p>Win é”®æ‰“å¼€èœå•æœç´¢â€é»˜è®¤ç¨‹åºâ€ï¼Œå¯ä»¥ä¿®æ”¹æµè§ˆå™¨ç­‰é»˜è®¤ç¨‹åºï¼›</p><p>æ›´å¤šä¸€äº›ä½¿ç”¨æŠ€å·§ï¼Œå¯ä»¥æŸ¥çœ‹è¿™é‡Œ<a href="https://www.lulinux.com/archives/category/manjaro-linux" target="_blank" rel="noopener">æ’¸Linuxâ€”â€”Manjaro</a></p><h2 id="æ•ˆæœ"><a href="#æ•ˆæœ" class="headerlink" title="æ•ˆæœ"></a>æ•ˆæœ</h2><p><img src="https://b2.bmp.ovh/imgs/2019/08/806d8ce52287801d.png" alt="monitor"></p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>ä¸ºä½•ä¼šæœ‰è¿™ç¯‡æ–‡ç« å‘¢ï¼Ÿå…¶å®ä¸»è¦æ˜¯å»å¹´ä¹Ÿå°±æ˜¯ 2018 çš„ MBP çš„ touchbar å‡ºç°äº†ä¸æ˜¾ç¤ºçš„é—®é¢˜ï¼Œäºæ˜¯ä¸Šå‘¨å°±é¢„çº¦äº†è¥¿æ¹–åº—çš„ Genius Bar ç»´ä¿®ã€‚ç»“æœæ„å¤–æ”¶è·æ˜¯ï¼Œè¯´ 2018 æ¬¾çš„ 15å¯¸æœ‰ç¼ºé™·ï¼Œä»–ä»¬ä¼šæ›¿æ¢æ‰æ•´ä¸ªé”®ç›˜å’Œç”µæ± ï¼ä¸è¿‡éœ€è¦ç­‰å¾…ä¸€å‘¨æ‰è¡Œï¼Œæ‰€ä»¥ï¼Œå›æ¥å°±é¼“æ£äº†ä¹‹å‰çš„æ—§çš„ç¬”è®°æœ¬ï¼Œå®‰è£…äº† Manjaro å°å°é²œã€‚</p><p>Manjaro KDE è¿™ä¸ªç‰ˆæœ¬ä½¿ç”¨ä¸‹æ¥æ„Ÿè§‰è¿˜æ˜¯ä¸é”™çš„ï¼Œç•Œé¢ä¹Ÿæ¯”è¾ƒç¬¦åˆä½¿ç”¨ä¹ æƒ¯ï¼Œå¾ˆå¤šåœ°æ–¹åšçš„é€‚é…è®©ä» Windows è¿ç§»è¿‡æ¥çš„ç”¨æˆ·å¹¶ä¸ä¼šå‘è§‰ç”¨çš„ä¸é¡ºæ‰‹ï¼Œå¸¸ç”¨çš„è½¯ä»¶ä¹Ÿéƒ½æœ‰ï¼ŒçœŸæ˜¯å¼ºçƒˆæ¨èè®¡ç®—æœºç›¸å…³çš„å­¦ç”Ÿå°½æ—©ä½¿ç”¨èµ·æ¥ï¼Œä¹Ÿæ­£å¥½å­¦ä¹ äº† Linuxï¼Œåæ­£æ˜¯â€œè£…æœºæœ‰ç›Šâ€å§ï¼Œä½†æ˜¯åƒä¸‡åˆ«é™·å…¥æ•´å¤©å…³æ³¨ç¾åŒ–çš„é“è·¯ä¸Šâ€¦â€¦</p><p>å¤šè¯´ä¸€å¥ï¼Œè‹¹æœçš„äº§å“çš„è´¨é‡çœŸæ˜¯è®©äººå¤±æœ›ï¼Œç½‘ä¸Šä¸€å †ç±»ä¼¼é—®é¢˜çš„ç”¨æˆ·ï¼Œçœ‹æ¥ä»¥åä¹°ä¸ªå¥½ç‚¹çš„ Windows æœ¬å­ï¼Œè£…ä¸ªåŒç³»ç»Ÿï¼Œä¹Ÿèƒ½ç”¨çš„å¾ˆ High äº†ï¼</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a href="https://www.biaodianfu.com/install-manjaro-linux.html#comment-161818" target="_blank" rel="noopener">æ ‡ç‚¹ç¬¦â€”â€”Manjaro Linuxçš„å®‰è£…ä½“éªŒ</a></li><li><a href="https://rovo98.coding.me/posts/a1898ce2/" target="_blank" rel="noopener">rovo98â€”â€”Manjaro linux å®‰è£…ä¸é…ç½®</a></li><li><a href="https://queensferry.coding.me/2018/06/22/Manjaro-Linux-KDE-%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8%E6%89%8B%E8%AE%B0/" target="_blank" rel="noopener">queensferryâ€”â€”Manjaro Linux + KDE å®‰è£…ä½¿ç”¨æ‰‹è®°</a></li><li><a href="https://www.cnblogs.com/demonxian3/p/9259912.html" target="_blank" rel="noopener">cnblogsâ€”â€”å®Œç¾è„±ç¦»Windows!! Linuxå‘è¡Œç‰ˆç¬¬ä¸€ç³»ç»Ÿ Manjaro å¼€ç®±æ•™ç¨‹ :)</a></li><li><a href="https://yqsas.com/2019/03/03/manjaro-in-t480s/" target="_blank" rel="noopener">æŠ˜è…¾ä¹‹ Manjaro å®‰è£…ä½¿ç”¨æŒ‡åŒ—</a></li><li><a href="https://www.lulinux.com/archives/5557" target="_blank" rel="noopener">æ’¸Linuxâ€”â€”æˆ‘çš„Linuxæ¡Œé¢å¸¸ç”¨è½¯ä»¶åˆ—è¡¨ (2019å¹´æ˜¥)</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://b2.bmp.ovh/imgs/2019/08/51f98679d299b9c0.png&quot; alt=&quot;Manjaro&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;Manjaro-ç®€ä»‹&quot;&gt;&lt;a href=&quot;#Manjaro-ç®€ä»‹&quot; class=&quot;headerlink&quot; title=&quot;Manjaro ç®€ä»‹&quot;&gt;&lt;/a&gt;Manjaro ç®€ä»‹&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;https://www.manjaro.cn/category/about-manjaro-linux&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Manjaro&lt;/a&gt; æ˜¯ä¸€æ¬¾åŸºäº Arch Linuxã€å¯¹ç”¨æˆ·å‹å¥½çš„ Linux å‘è¡Œç‰ˆã€‚åœ¨ Linux ç¤¾åŒºï¼ŒArch Linux çš„ç¡®æ˜¯ä¸€ä¸ªå¼‚å¸¸å¿«é€Ÿã€å¼ºå¤§ã€è½»é‡çº§çš„å‘è¡Œç‰ˆï¼Œå®ƒæä¾›æœ€æ–°çš„ã€æœ€å…¨çš„è½¯ä»¶ã€‚ç„¶è€Œï¼ŒArch Linux é¢å‘é«˜çº§ç”¨æˆ·ï¼Œæ™®éè®¤ä¸ºï¼Œç¼ºä¹æŠ€æœ¯ä¸“é•¿æˆ–è€…æ²¡æœ‰è€å¿ƒçš„äººæ˜¯æ— æ³•ç©è½¬ Arch Linuxçš„ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="Linux" scheme="https://michael728.github.io/categories/Linux/"/>
    
    
      <category term="Linux" scheme="https://michael728.github.io/tags/Linux/"/>
    
      <category term="Manjaro" scheme="https://michael728.github.io/tags/Manjaro/"/>
    
  </entry>
  
</feed>
